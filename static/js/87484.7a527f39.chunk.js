"use strict";(self.webpackChunkmmsp_trees=self.webpackChunkmmsp_trees||[]).push([[87484],{16266:(t,e,n)=>{n.d(e,{K:()=>Z,t:()=>W});var o=n(69539),i=(n(81806),n(50076)),s=n(53084),r=n(31633),a=n(38983),l=n(63919),c=n(44680),u=n(34761),h=n(13191),p=n(20664),d=n(9392),f=n(55855),g=n(5809),y=n(42294),m=n(44815),b=n(38496),v=n(45136),S=n(59883),w=n(86486),E=n(85192),_=n(64465),x=n(67425),O=n(99057),C=n(24947),I=n(36423),A=n(41854),P=n(91217),R=n(7342),D=n(22955),T=n(80935),L=n(87925),M=n(59046),V=n(50468),z=n(83490),U=n(17345),B=n(9612),F=n(25672),k=n(37046),j=n(66470),N=n(65131),G=n(34017);const H=["polygon","extent"];class W extends C.U{constructor(t,e,n,o){super(t,e,n,o,function(t){return 1===(t.material?.color?.a??1)}(e)),this.ensureDrapedStatus(!1)}async doLoad(){if(!this._drivenProperties.size){const t=(0,I.Hj)(this._getSymbolSize());if(t)throw new i.A("graphics3dextrudesymbollayer:invalid-size",t)}const t=this.symbolLayer,e=t?.material,n=e?.color,o=this._getCombinedOpacityAndColor(n),s=(0,d.ci)(o),r=o[3],a=this.needsDrivenTransparentPass,l=e?.emissive,c={usePBR:this._context.physicalBasedRenderingEnabled,isSchematic:!0,diffuse:s,ambient:s,opacity:r,drivenOpacity:a,hasVertexColors:!0,hasSlicePlane:this._context.slicePlaneEnabled,castShadows:t.castShadows,emissiveStrength:l?.strength??0,emissiveSource:E.YJ.Color,offsetTransparentBackfaces:!0,normalType:M.W.Compressed},u=new N.$U(c,this._context);u.setParameters({cullFace:u.transparent?z.s2.None:z.s2.Back});const h=new N.$U({...c,cullFace:z.s2.Back},this._context);this._materials[gt.Main]=u,this._materials[gt.Bottom]=h}destroy(){super.destroy(),this._materials.length=0}createGraphics3DGraphic(t){const e=t.graphic;if(!this._validateGeometry(e.geometry,H,this.symbolLayer.type))return null;const n=this._getVertexOpacityAndColor(t.renderingInfo,this._getFallbackOpacityAndColor(),255),o=this.setGraphicElevationContext(e);return this._createAs3DShape(e,t.renderingInfo,n,o,e.uid)}layerOpacityChanged(t,e){const n=this.symbolLayer?.material?.color,o=this._getCombinedOpacity(n);this._materials[gt.Main]?.setParameters({opacity:o}),this._materials[gt.Bottom]?.setParameters({opacity:o});const i=this._getLayerOpacity();t?.forEach(t=>e(t)?.layerOpacityChanged(i,this._context.isAsync))}layerElevationInfoChanged(t,e){return this.updateGraphics3DGraphicElevationInfo(t,e,x.Kf)}slicePlaneEnabledChanged(t,e){return this._materials[gt.Main]?.setParameters({hasSlicePlane:this._context.slicePlaneEnabled}),this._materials[gt.Bottom]?.setParameters({hasSlicePlane:this._context.slicePlaneEnabled}),t?.forEach(t=>{const n=e(t);null!=n&&n.slicePlaneEnabledChanged(this._context.slicePlaneEnabled,this._context.isAsync)}),!0}physicalBasedRenderingChanged(){const t={usePBR:this._context.physicalBasedRenderingEnabled,isSchematic:!0};return this._materials[gt.Main]?.setParameters(t),this._materials[gt.Bottom]?.setParameters(t),!0}_getExtrusionSize(t){let e;return e=t.size&&this._drivenProperties.size?(0,w.kg)(t.size,2)??0:this._getSymbolSize(),e/=this._context.renderCoordsHelper.unitInMeters,e}applyRendererDiff(t,e){return this._drivenPropertiesChanged(e)?A.w.RecreateSymbol:A.w.RecreateGraphics}async queryForSnapping(t,e,n,o){const i=this._getExtrusionSize(n)*this._context.renderCoordsHelper.unitInMeters/(0,r.G9)(e),{objectId:a,target:l}=t,c=(0,s.o8)(l);switch(c.z=(c.z??0)+i,t.type){case"edge":{const{start:e,end:n}=t,o=(0,s.o8)(e),r=(0,s.o8)(n);return o.z=(o.z??0)+i,r.z=(r.z??0)+i,[(0,S.P)(a,c,1/0,o,r)]}case"vertex":return[(0,S.k)(a,c,1/0),(0,S.P)(a,l,1/0,l,c)];default:return[]}}_getSymbolSize(){return this.symbolLayer.size??1}_createAs3DShape(t,e,n,o,i){const s=(0,P.dE)(t.geometry);if(null==s)return null;if(0===s.rings.length||!s.rings.some(t=>t.length>0))return this._logGeometryValidationWarnings(s.rings,"rings","ExtrudeSymbol3DLayer"),null;const r=(0,L.C8)(s,this._context.elevationProvider,this._context.renderCoordsHelper,o);this._logGeometryCreationWarnings(r,s.rings,"rings","ExtrudeSymbol3DLayer");const f=(0,I.W$)(s);if(null==f)return null;const S=new Array,w=new Array,E=(0,y.vt)(),C=(0,h.vt)(),A=(0,d.vt)(),M=this._context.renderCoordsHelper.viewingMode===_.RT.Global;M||this._context.renderCoordsHelper.worldUpAtPosition(null,A),(0,g.l)(s.spatialReference,[f.x,f.y,0],C,this._context.renderCoordsHelper.spatialReference);const V=(0,h.vt)();(0,u.B8)(V,C);const z=(0,c.vt)();(0,l.Ge)(z,V);const{polygons:U,mapPositions:N,position:G}=r,H=new Map,W=this._materials[gt.Main];for(const l of U){const t=l.count;if(this._context.clippingExtent&&((0,y.vY)(l.mapPositions,E),!(0,y.KG)(E,this._context.clippingExtent)))continue;const o=(0,a.e)(l.mapPositions,l.holeIndices,3);if(0===o.length)continue;const s=o.length,r=6*t,c=(0,b.my)(r+s),u=(0,b.my)(s),h=(0,m.jh)(3*r),p=(0,m.jh)(3*r),d=(0,m.jh)(3*r),f=(0,m.jh)(r);Z(G,N,o,l,h,d,p,f,c,u,this._getExtrusionSize(e),A,M),(0,v.t)(h,h,V);const g=this._context.stage.renderView.getObjectAndLayerIdColor({graphicUid:i,layerViewUid:this._context.layerViewUid}),_=new mt(h,d,(0,F.fA)(p),f),x=q(W,c,c.length-u.length,_,n,g),O=t,I=t,P=2*l.count,R=new bt(O,I,P,s/3);it(x,R,C),H.set(x,R),S.push(x,q(this._materials[gt.Bottom],u,0,_,n,g)),w.push(_.heights)}if(0===S.length)return null;const Y=new k.B({geometries:S,layerViewUid:this._context.layerViewUid,graphicUid:i,isElevationSource:!0});Y.transformation=C;const K=(0,R.Cc)(this.symbolLayer,{opacity:this._getLayerOpacity()}),$=K?new O.H(this._materials[gt.Main],K,this._context.slicePlaneEnabled):null,J=new O.Y(this,Y,null,(t,e,n,o,i)=>function(t,e,n,o,i,s,r){const a=t.stageObject,l=a.geometries,c=l.length,d="absolute-height"!==e.mode;let f=0;const g=a.transformation,y=(0,u.Qw)((0,h.vt)(),g);for(let u=0;u<c;u+=2){const t=l[u];if(!(0,B.p)(t))continue;const e=t.getMutableAttribute(j.r.POSITION).data,c=s[u/2],h=new T.aY(t.mapPositions),m=e.length/3;let b=!1,v=0;{let t=0;for(let s=0;s<m;s++){ot[0]=e[t],ot[1]=e[t+1],ot[2]=e[t+2],o(h,at),d&&(v+=at.sampledElevation),D.b.TESTS_DISABLE_OPTIMIZATIONS?((0,p.i)(st,h.array[h.offset],h.array[h.offset+1],at.z+c[t/3]),null!=n&&i.toRenderCoords(st,n,st),(0,p.t)(st,st,y)):((0,p.i)(st,e[t],e[t+1],e[t+2]),(0,p.t)(st,st,g),i.setAltitude(st,at.z+c[t/3]),(0,p.t)(st,st,y)),e[t]=st[0],e[t+1]=st[1],e[t+2]=st[2];const s=ut/i.unitInMeters;(Math.abs(ot[0]-e[t])>=s||Math.abs(ot[1]-e[t+1])>=s||Math.abs(ot[2]-e[t+2])>=s)&&(b=!0),h.offset+=3,t+=3}}if(b){const e=r.get(t);e&&it(t,e,g),a.geometryVertexAttributeUpdated(l[u],j.r.NORMALCOMPRESSED),t.invalidateBoundingInfo(),a.geometryVertexAttributeUpdated(l[u],j.r.POSITION),l[u+1].invalidateBoundingInfo(),a.geometryVertexAttributeUpdated(l[u+1],j.r.POSITION)}f+=v/m}return f/c}(t,e,n,o,i,w,H),o,$);return J.alignedSampledElevation=r.sampledElevation,J.needsElevationUpdates=(0,x.Kf)(o.mode),J}_getFallbackOpacityAndColor(){const t=this.symbolLayer?.material?.color;return o.A.toUnitRGBA(t)??f.uY}}function q(t,e,n,o,i,s){const r=(0,b.EH)(e.length),a=[[j.r.POSITION,new V.n(o.positions,e,3,!0)],[j.r.NORMALCOMPRESSED,new V.n(o.normals,e,2,!0)],[j.r.COLOR,new V.n(i,r,4,!0)]];return new U.V(t,a,o.elevation,G.d.Mesh,s,n)}function Z(t,e,n,o,i,s,r,a,l,c,u,h,d){const f=n.length/3;let g=2*o.count;!function(t,e,n,o,i,s,r,a,l,c,u,h,d,f,g,y,m){(0,p.c)(rt,y),l??=[],c??=[],u??=[];const b=g>0?1:-1;let v=3*n,S=0,w=3*S,E=o,_=3*E;for(let C=0;C<o;++C){const n=t[v],o=t[v+1],i=t[v+2];m&&(rt[0]=n,rt[1]=o,rt[2]=i,(0,p.n)(rt,rt)),a[w+0]=n,a[w+1]=o,a[w+2]=i;const s=e[v+0],r=e[v+1],h=e[v+2];l[w+0]=s,l[w+1]=r,l[w+2]=h,c[w+0]=-b*rt[0],c[w+1]=-b*rt[1],c[w+2]=-b*rt[2],u[S]=0,a[_+0]=n+g*rt[0],a[_+1]=o+g*rt[1],a[_+2]=i+g*rt[2],l[_+0]=s,l[_+1]=r,l[_+2]=h,u[E]=g,w+=3,_+=3,v+=3,S+=1,E+=1}v=3*s,w=0,_=3*f;const x=g<0?ct:lt,O=g<0?lt:ct;for(let p=0;p<r;++p)d[w]=i[v+x[0]],d[w+1]=i[v+x[1]],d[w+2]=i[v+x[2]],h[_]=i[v+O[0]]+o,h[_+1]=i[v+O[1]]+o,h[_+2]=i[v+O[2]]+o,w+=3,_+=3,v+=3}(t,e,o.index,o.count,n,0,f,i,s,r,a,l,c,g,u,h,d);let y=0,m=2*o.count;g=0;const b=o.pathLengths[0];$(i,s,a,r,y,b,o.count,m,l,g,u),m+=4*b,g+=2*b,y+=b;for(let p=1;p<o.pathLengths.length;++p){const t=o.pathLengths[p];$(i,s,a,r,y,t,o.count,m,l,g,u),m+=4*t,g+=2*t,y+=t}}function Y(t,e,n,o,i,s,r){o[s]=o[r],r*=3,t[s*=3]=t[r],t[s+1]=t[r+1],t[s+2]=t[r+2],e[s]=e[r],e[s+1]=e[r+1],e[s+2]=e[r+2],n[s]=i[0],n[s+1]=i[1],n[s+2]=i[2]}const K=(0,d.vt)();function $(t,e,n,o,i,s,r,a,l,c,u){e??=[],n??=[],o??=[];let h=i,p=i+1,d=i+r,f=i+r+1,g=a,y=a+1,m=a+2*s,b=a+2*s+1;u<0&&(h=i+r+1,f=i);let v=3*c;for(let S=0;S<s;++S)S===s-1&&(p=i,u>0?f=i+r:h=i+r),nt(t,h,p,d,K),Y(t,e,o,n,K,g,h),Y(t,e,o,n,K,y,p),Y(t,e,o,n,K,m,d),Y(t,e,o,n,K,b,f),l[v]=g,l[v+1]=m,l[v+2]=b,l[v+3]=g,l[v+4]=b,l[v+5]=y,v+=6,h++,p++,d++,f++,g+=2,y+=2,m+=2,b+=2}const J=(0,d.vt)(),Q=(0,d.vt)(),X=(0,d.vt)(),tt=(0,d.vt)(),et=(0,d.vt)();function nt(t,e,n,o,i){e*=3,n*=3,o*=3,(0,p.i)(J,t[e++],t[e++],t[e++]),(0,p.i)(Q,t[n++],t[n++],t[n++]),(0,p.i)(X,t[o++],t[o++],t[o++]),(0,p.d)(tt,Q,J),(0,p.d)(et,X,J),(0,p.h)(i,et,tt),(0,p.n)(i,i)}const ot=(0,d.vt)();function it(t,e,n){const o=t.getMutableAttribute(j.r.POSITION),i=t.getMutableAttribute(j.r.NORMALCOMPRESSED).data,{topVertexStart:s,topVertexCount:r,topFaceStart:a,topFaceCount:l}=e,c=o.data,u=r,h=t.attributes.get(j.r.POSITION).indices,d=a+l,f=s+r,g=(0,m.jh)(3*u);for(let p=0;p<u;++p){const t=3*p;g[t+0]=0,g[t+1]=0,g[t+2]=0}const y=ht,b=pt,v=dt,S=ft,w=rt;for(let m=a;m<d;++m){const t=3*m;for(let e=0;e<3;++e){const o=h[t+e];S[e]=o;const i=3*o;(0,p.i)(st,c[i+0],c[i+1],c[i+2]),(0,p.t)(y[e],st,n)}(0,p.a)(b,y[1],y[0]),(0,p.a)(v,y[2],y[0]),(0,p.h)(w,b,v),(0,p.n)(w,w);for(let e=0;e<3;++e){const t=3*(S[e]-s);g[t+0]+=w[0],g[t+1]+=w[1],g[t+2]+=w[2]}}for(let p=s;p<f;++p){const t=3*(p-s),e=g[t+0],n=g[t+1],o=g[t+2],r=Math.sqrt(e*e+n*n+o*o);(0,F.aT)(i,p,e/r,n/r,o/r)}}const st=(0,d.vt)(),rt=(0,d.vt)(),at=new x.Uk,lt=[0,2,1],ct=[0,1,2],ut=.01,ht=[(0,d.vt)(),(0,d.vt)(),(0,d.vt)()],pt=(0,d.vt)(),dt=(0,d.vt)(),ft=[0,0,0];var gt,yt;(yt=gt||(gt={}))[yt.Main=0]="Main",yt[yt.Bottom=1]="Bottom";class mt{constructor(t,e,n,o){this.positions=t,this.elevation=e,this.normals=n,this.heights=o}}class bt{constructor(t,e,n,o){this.topVertexStart=t,this.topVertexCount=e,this.topFaceStart=n,this.topFaceCount=o}}},29889:(t,e,n)=>{n.d(e,{A:()=>c,C:()=>l});var o=n(45308),i=n(44815),s=n(99785),r=n(67425),a=n(1599);function l(t,e,n,o){const a="polygon"===t.type?s.Wq.CCW_IS_HOLE:s.Wq.NONE,l="polygon"===t.type?t.rings:t.paths,{position:c,outlines:h}=(0,s.oR)(l,!!t.hasZ,a,t.spatialReference),p=(0,i.jh)(c.length),d=(0,r.au)(c,t.spatialReference,0,p,0,c,0,c.length/3,e,n,o),f=null!=d;return{lines:f?u(h,c,p):[],projectionSuccess:f,sampledElevation:d}}function c(t,e){const n="polygon"===t.type?s.Wq.CCW_IS_HOLE:s.Wq.NONE,i="polygon"===t.type?t.rings:t.paths,{position:r,outlines:l}=(0,s.oR)(i,!1,n),c=(0,o.projectBuffer)(r,t.spatialReference,0,r,e,0);for(let o=2;o<r.length;o+=3)r[o]=a.bi;return{lines:c?u(l,r):[],projectionSuccess:c}}function u(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const o=new Array;for(const{index:s,count:r}of t){if(r<=1)continue;const t=3*s,a=3*r;o.push({position:(0,i.l5)(e,3*s,3*r),mapPositions:null!=n?(0,i.l5)(n,t,a):void 0})}return o}},59883:(t,e,n)=>{function o(t,e,n){return{objectId:t,target:e,distance:n,type:"vertex"}}function i(t,e,n,o,i){return{objectId:t,target:e,distance:n,type:"edge",start:o,end:i,draped:arguments.length>5&&void 0!==arguments[5]&&arguments[5]}}n.d(e,{P:()=>i,k:()=>o})},70667:(t,e,n)=>{n.d(e,{t:()=>y,z:()=>v});var o=n(19555),i=n(72745),s=n(55855),r=n(34111),a=n(482),l=n(44815),c=n(75002),u=n(38496),h=n(64465),p=n(50468),d=n(17345),f=n(66470),g=n(34017);function y(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const i=[],y=e.mapPositions;!function(t,e){const{attributeData:{position:n},removeDuplicateStartEnd:o}=t,i=function(t){const e=t.length;return t[0]===t[e-3]&&t[1]===t[e-2]&&t[2]===t[e-1]}(n)&&o,s=n.length/3-(i?1:0),r=new Array(2*(s-1)),a=i?n.slice(0,-3):n;let l=0;for(let c=0;c<s-1;c++)r[l++]=c,r[l++]=c+1;e.push([f.r.POSITION,new p.n(a,r,3,i)])}(e,i);const v=i[0][1].data,S=i[0][1].indices.length,w=(0,u.EH)(S);return function(t,e,n){if(null!=t.attributeData.colorFeature)return;const o=t.attributeData.color;e.push([f.r.COLOR,new p.n(o??s.Un,n,4)])}(e,i,w),function(t,e,n){null==t.attributeData.sizeFeature&&e.push([f.r.SIZE,new p.n([t.attributeData.size??1],n,1,!0)])}(e,i,w),function(t,e,n){t.attributeData.normal&&e.push([f.r.NORMAL,new p.n(t.attributeData.normal,n,3)])}(e,i,w),function(t,e,n){null!=t.attributeData.colorFeature&&e.push([f.r.COLORFEATUREATTRIBUTE,new p.n([t.attributeData.colorFeature],n,1,!0)])}(e,i,w),function(t,e,n){null!=t.attributeData.sizeFeature&&e.push([f.r.SIZEFEATUREATTRIBUTE,new p.n([t.attributeData.sizeFeature],n,1,!0)])}(e,i,w),function(t,e,n){null!=t.attributeData.opacityFeature&&e.push([f.r.OPACITYFEATUREATTRIBUTE,new p.n([t.attributeData.opacityFeature],n,1,!0)])}(e,i,w),function(t,e,n){if(null==t.overlayInfo||t.overlayInfo.renderCoordsHelper.viewingMode!==h.RT.Global||!t.overlayInfo.spatialReference.isGeographic)return;const i=(0,l.jh)(n.length),s=(0,r.tO)(t.overlayInfo.spatialReference);for(let o=0;o<i.length;o+=3)(0,a.RC)(n,o,i,o,s);const u=n.length/3,d=(0,c.oe)(u+1);let g=m,y=b,v=0,S=0;(0,o.hZ)(g,i[S++],i[S++]),S++,d[0]=0;for(let r=1;r<u+1;++r)r===u&&(S=0),(0,o.hZ)(y,i[S++],i[S++]),S++,v+=(0,o.xg)(g,y),d[r]=v,[g,y]=[y,g];e.push([f.r.DISTANCETOSTART,new p.n(d,e[0][1].indices,1,!0)])}(e,i,v),new d.V(t,i,y,g.d.Line,n)}const m=(0,i.vt)(),b=(0,i.vt)();function v(t,e){if(null==t||0===t.length)return[];const n=[];return t.forEach(t=>{const o=t.length,i=(0,l.jh)(3*o);t.forEach((t,e)=>{i[3*e]=t[0],i[3*e+1]=t[1],i[3*e+2]=t[2]});const s={attributeData:{position:i,normal:e},removeDuplicateStartEnd:!1};n.push(s)}),n}},86486:(t,e,n)=>{n.d(e,{LO:()=>a,kg:()=>l,or:()=>c,vl:()=>r});var o=n(69539),i=n(11687),s=n(15492);function r(t,e){const n=function(t,e){if(null!=t.symbol)return t.symbol;const n=e?.renderer;return null!=n&&"dot-density"!==n.type?n.getSymbol(t,e):null}(t,e);if(null==n)return null;const o=e?.renderer,r=new i.$(o,n);if(null==o||!("visualVariables"in o)||!o.visualVariables)return r;const a=(0,s.getVisualVariableValues)(o,t,e)??[],l=["proportional","proportional","proportional"];for(const{variable:i,value:s}of a)if(null!=s||"size"===i.type&&i.useSymbolValue)switch(i.type){case"color":r.color=s?.toRgba();break;case"size":if("outline"===i.target)r.outlineSize=s;else{const t=i.axis,e=i.useSymbolValue?"symbol-value":s??"proportional";switch(t){case"width":l[0]=e;break;case"depth":l[1]=e;break;case"height":l[2]=e;break;case"width-and-depth":l[0]=l[1]=e;break;default:l[0]=l[1]=l[2]=e}}break;case"opacity":r.opacity=s;break;case"rotation":switch(i.axis){case"tilt":r.tilt=s;break;case"roll":r.roll=s;break;default:r.heading=s}}return"proportional"===l[0]&&"proportional"===l[1]&&"proportional"===l[2]||(r.size=l),r}async function a(t,e){const n=await async function(t,e){return null!=t.symbol?t.symbol:e?.renderer?.getSymbolAsync(t,e)??null}(t,e);if(!n)return null;const r=e?.renderer,a=new i.$(r,n);if(!r||!("visualVariables"in r)||!r.visualVariables)return a;const l=(0,s.getVisualVariableValues)(r,t,e)??[],c=["proportional","proportional","proportional"];for(const{variable:i,value:s}of l)if("color"===i.type)a.color=o.A.toUnitRGBA(s);else if("size"===i.type)if("outline"===i.target)a.outlineSize=s;else{const t=i.axis,e=i.useSymbolValue?"symbol-value":s;"width"===t?c[0]=e:"depth"===t?c[1]=e:"height"===t?c[2]=e:c[0]=c[1]="width-and-depth"===t?e:c[2]=e}else"opacity"===i.type?a.opacity=s:"rotation"===i.type&&"tilt"===i.axis?a.tilt=s:"rotation"===i.type&&"roll"===i.axis?a.roll=s:"rotation"===i.type&&(a.heading=s);return(isFinite(c[0])||isFinite(c[1])||isFinite(c[2]))&&(a.size=c),a}function l(t){const e=t[arguments.length>1&&void 0!==arguments[1]?arguments[1]:0];return"number"==typeof e&&isFinite(e)?e:null}function c(t){for(let e=0;e<3;e++){const n=t[e];if("number"==typeof n)return isFinite(n)?n:0}return 0}},87925:(t,e,n)=>{n.d(e,{AK:()=>c,C8:()=>l});var o=n(45308),i=n(44815),s=n(99785),r=n(67425),a=n(1599);function l(t,e,n,o){const a=(0,s.oR)(t.rings,!!t.hasZ&&"on-the-ground"!==o.mode,s.Wq.CCW_IS_HOLE,t.spatialReference),l=(0,i.jh)(a.position.length),c=(0,r.au)(a.position,t.spatialReference,0,l,0,a.position,0,a.position.length/3,e,n,o),p=null!=c;return new y(a.position,l,h(a.polygons,a.position,l),u(a.outlines,a.position,l),p,c)}function c(t,e){const n=(0,s.oR)(t.rings,!1,s.Wq.CCW_IS_HOLE),i=(0,o.projectBuffer)(n.position,t.spatialReference,0,n.position,e,0);for(let o=2;o<n.position.length;o+=3)n.position[o]=a.bi;return{position:n.position,polygons:h(n.polygons,n.position),outlines:u(n.outlines,n.position),projectionSuccess:i}}function u(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return t.filter(t=>{let{count:e}=t;return e>1}).map(t=>{let{index:o,count:s}=t;const r=3*o,a=3*s;return null!=n?new d(o,s,(0,i.l5)(e,r,a),(0,i.l5)(n,r,a)):new p(o,s,(0,i.l5)(e,r,a))})}function h(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const o=new Array;for(const{index:s,count:r,holeIndices:a,pathLengths:l}of t){if(r<=1)continue;const t=3*s,c=3*r,u=a.map(t=>t-s),h=null!=n?new f(s,r,(0,i.l5)(e,3*s,3*r),(0,i.l5)(n,t,c),u,l):new g(s,r,(0,i.l5)(e,3*s,3*r),u,l);o.push(h)}return o}class p{constructor(t,e,n){this.index=t,this.count=e,this.position=n}}class d extends p{constructor(t,e,n,o){super(t,e,n),this.mapPositions=o}}class f extends d{constructor(t,e,n,o,i,s){super(t,e,n,o),this.holeIndices=i,this.pathLengths=s}}class g extends p{constructor(t,e,n,o,i){super(t,e,n),this.holeIndices=o,this.pathLengths=i}}class y{constructor(t,e,n,o,i,s){this.position=t,this.mapPositions=e,this.polygons=n,this.outlines=o,this.projectionSuccess=i,this.sampledElevation=s}}},91217:(t,e,n)=>{n.d(e,{JQ:()=>m,SY:()=>g,a4:()=>f,dE:()=>y,v7:()=>d});var o=n(38983),i=n(76797),s=n(65215),r=n(5568),a=n(38496),l=n(10294),c=n(50468),u=n(17345),h=n(66470),p=n(34017);function d(t,e,n){const i=(e.length>0?e[0]:t.length/3)-1,s=(0,l.S)(t,i,n);if(s!==r._.Z){t=t.slice();for(let e=0;e<t.length;e+=3)t[e+s]=t[e+2]}return(0,o.e)(t,e,3)}function f(t){const e=[[h.r.POSITION,new c.n(t.attributeData.position,t.indices,3,!0)]],n=(0,a.EH)(t.indices.length);return null!=t.attributeData.colorFeature?e.push([h.r.COLORFEATUREATTRIBUTE,new c.n([t.attributeData.colorFeature],n,1,!0)]):t.attributeData.color&&e.push([h.r.COLOR,new c.n(t.attributeData.color,n,4,!0)]),t.attributeData.uvMapSpace&&e.push([h.r.UVMAPSPACE,new c.n(t.attributeData.uvMapSpace,t.indices,4,!0)]),t.attributeData.boundingRect&&e.push([h.r.BOUNDINGRECT,new c.n(t.attributeData.boundingRect,t.indices,9,!0)]),new u.V(t.material,e,t.mapPositions,p.d.Mesh,t.attributeData.objectAndLayerIdColor)}function g(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=[[h.r.POSITION,new c.n(t.attributeData.position,t.indices,3,!0)],[h.r.UV0,new c.n(t.attributeData.uv0,t.indices,2,!0)]];return new u.V(t.material,n,t.mapPositions,p.d.Mesh,e)}function y(t){switch(t.type){case"extent":if(t instanceof i.A)return s.A.fromExtent(t);break;case"polygon":return t}return null}class m{constructor(t,e,n){this.renderData=t,this.layerViewUid=e,this.graphicUid=n,this.outGeometries=new Array}}}}]);
//# sourceMappingURL=87484.7a527f39.chunk.js.map