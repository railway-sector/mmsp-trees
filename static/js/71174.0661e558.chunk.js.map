{"version":3,"file":"static/js/71174.0661e558.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/layers/support/TileInfoTilemapCache.js","../node_modules/@arcgis/core/layers/TileLayer.js","../node_modules/@arcgis/core/layers/mixins/ArcGISCachedService.js","../node_modules/@arcgis/core/layers/support/TilemapCache.js","../node_modules/@arcgis/core/layers/support/Tilemap.js","../node_modules/@arcgis/core/geometry/support/UintArray.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport l from\"../../core/Error.js\";import{waitTick as t,isAbortError as i}from\"../../core/promiseUtils.js\";class e{constructor(l,t=0,i=l.lods[l.lods.length-1].level){this.tileInfo=l,this.minLOD=t,this.maxLOD=i,l.lodAt(t)||(this.minLOD=l.lods[0].level),l.lodAt(i)||(this.maxLOD=l.lods[l.lods.length-1].level)}get effectiveMinLOD(){return this.minLOD??this.tileInfo.lods[0].level}get effectiveMaxLOD(){return this.maxLOD??this.tileInfo.lods[this.tileInfo.lods.length-1].level}getAvailability(l,t,i){const e=this.tileInfo?.lodAt(l);return!e||l<this.minLOD||l>this.maxLOD?\"unavailable\":e.cols&&e.rows?i>=e.cols[0]&&i<=e.cols[1]&&t>=e.rows[0]&&t<=e.rows[1]?\"unknown\":\"unavailable\":\"unknown\"}async fetchAvailability(i,e,o,s){await t(s);const a=this.getAvailability(i,e,o);if(\"unavailable\"===a)throw new l(\"tile-map:tile-unavailable\",\"Tile is not available\",{level:i,row:e,col:o});return a}async fetchAvailabilityUpsample(l,e,o,s,a){await t(a),s.level=l,s.row=e,s.col=o;const n=this.tileInfo;return n.updateTileInfo(s),this.fetchAvailability(l,e,o,a).catch((l=>{if(i(l))throw l;if(n.upsampleTile(s))return this.fetchAvailabilityUpsample(s.level,s.row,s.col,s,a);throw l}))}}export{e as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import r from\"../request.js\";import t from\"../core/Error.js\";import{loadAll as s}from\"../core/loadAll.js\";import{MultiOriginJSONMixin as i}from\"../core/MultiOriginJSONSupport.js\";import{throwIfAbortError as o}from\"../core/promiseUtils.js\";import{urlToObject as a,objectToQuery as l,makeAbsolute as n}from\"../core/urlUtils.js\";import{property as p}from\"../core/accessorSupport/decorators/property.js\";import{cast as c}from\"../core/accessorSupport/decorators/cast.js\";import\"../core/has.js\";import\"../core/RandomLCG.js\";import{reader as u}from\"../core/accessorSupport/decorators/reader.js\";import{subclass as m}from\"../core/accessorSupport/decorators/subclass.js\";import{writer as h}from\"../core/accessorSupport/decorators/writer.js\";import d from\"../geometry/SpatialReference.js\";import y from\"./Layer.js\";import{APIKeyMixin as f}from\"./mixins/APIKeyMixin.js\";import{ArcGISCachedService as v}from\"./mixins/ArcGISCachedService.js\";import{ArcGISMapService as g}from\"./mixins/ArcGISMapService.js\";import{ArcGISService as S}from\"./mixins/ArcGISService.js\";import{BlendLayer as _}from\"./mixins/BlendLayer.js\";import{CustomParametersMixin as j}from\"./mixins/CustomParametersMixin.js\";import{OperationalLayer as b}from\"./mixins/OperationalLayer.js\";import{PortalLayer as T}from\"./mixins/PortalLayer.js\";import{RefreshableLayer as w}from\"./mixins/RefreshableLayer.js\";import{ScaleRangeLayer as O}from\"./mixins/ScaleRangeLayer.js\";import{SublayersOwner as L}from\"./mixins/SublayersOwner.js\";import{parse as R,isHostedAgolService as U,isArcGISUrl as P}from\"./support/arcgisLayerUrl.js\";import{url as x}from\"./support/commonProperties.js\";import{createTileBitmap as A}from\"./support/imageBitmapUtils.js\";import I from\"./support/Sublayer.js\";import M from\"../symbols/support/ElevationInfo.js\";var W;const B=[\"Canvas/World_Dark_Gray_Base\",\"Canvas/World_Dark_Gray_Reference\",\"Canvas/World_Light_Gray_Base\",\"Canvas/World_Light_Gray_Reference\",\"Elevation/World_Hillshade\",\"Elevation/World_Hillshade_Dark\",\"Ocean/World_Ocean_Base\",\"Ocean/World_Ocean_Reference\",\"Ocean_Basemap\",\"Reference/World_Boundaries_and_Places\",\"Reference/World_Boundaries_and_Places_Alternate\",\"Reference/World_Transportation\",\"World_Imagery\",\"World_Street_Map\",\"World_Topo_Map\"];let C=W=class extends(_(O(L(v(g(b(T(S(i(w(f(j(y))))))))))))){constructor(...e){super(...e),this.listMode=\"show\",this.elevationInfo=new M({mode:\"on-the-ground\"}),this.isReference=null,this.operationalLayerType=\"ArcGISTiledMapServiceLayer\",this.resampling=!0,this.sourceJSON=null,this.spatialReference=null,this.path=null,this.sublayers=null,this.type=\"tile\",this.url=null}normalizeCtorArgs(e,r){return\"string\"==typeof e?{url:e,...r}:e}load(e){const r=null!=e?e.signal:null;return this.addResolvingPromise(this.loadFromPortal({supportedTypes:[\"Map Service\"]},e).catch(o).then((()=>this._fetchService(r)))),Promise.resolve(this)}get attributionDataUrl(){const e=this.parsedUrl?.path.toLowerCase();return e?this._getDefaultAttribution(this._getMapName(e)):null}readSpatialReference(e,r){return(e=e||r.tileInfo?.spatialReference)&&d.fromJSON(e)}writeSublayers(e,r,t,s){if(!this.loaded||!e)return;const i=e.slice().reverse().flatten((({sublayers:e})=>e&&e.toArray().reverse())).toArray(),o=[],a={writeSublayerStructure:!1,...s};i.forEach((e=>{const r=e.write({},a);o.push(r)}));o.some((e=>Object.keys(e).length>1))&&(r.layers=o)}get tileServers(){return this._getDefaultTileServers(this.parsedUrl?.path)}castTileServers(e){return Array.isArray(e)?e.map((e=>a(e).path)):null}fetchTile(e,t,s,i={}){const{signal:o}=i,a=this.getTileUrl(e,t,s),l={responseType:\"image\",signal:o,query:{...this.refreshParameters}};return r(a,l).then((e=>e.data))}async fetchImageBitmapTile(e,t,s,i={}){const{signal:o}=i;if(this.fetchTile!==W.prototype.fetchTile){const r=await this.fetchTile(e,t,s,i);return A(r,e,t,s,o)}const a=this.getTileUrl(e,t,s),l={responseType:\"blob\",signal:o,query:{...this.refreshParameters}},{data:n}=await r(a,l);return A(n,e,t,s,o)}getTileUrl(e,r,t){const s=!this.capabilities.operations.supportsTileMap&&this.supportsBlankTile,i=l({...this.parsedUrl?.query,blankTile:!s&&null,...this.customParameters,token:this.apiKey}),o=this.tileServers;return`${o&&o.length?o[r%o.length]:this.parsedUrl?.path}/tile/${e}/${r}/${t}${i?\"?\"+i:\"\"}`}loadAll(){return s(this,(e=>{e(this.allSublayers)}))}_fetchService(e){return new Promise(((s,i)=>{if(this.sourceJSON){if(null!=this.sourceJSON.bandCount&&null!=this.sourceJSON.pixelSizeX)throw new t(\"tile-layer:unsupported-url\",\"use ImageryTileLayer to open a tiled image service\");return void s({data:this.sourceJSON})}if(!this.parsedUrl)throw new t(\"tile-layer:undefined-url\",\"layer's url is not defined\");const o=R(this.parsedUrl.path);if(null!=o&&\"ImageServer\"===o.serverType)throw new t(\"tile-layer:unsupported-url\",\"use ImageryTileLayer to open a tiled image service\");r(this.parsedUrl.path,{query:{f:\"json\",...this.parsedUrl.query,...this.customParameters,token:this.apiKey},responseType:\"json\",signal:e}).then(s,i)})).then((r=>{let t=this.url;if(r.ssl&&(t=this.url=t.replace(/^http:/i,\"https:\")),this.sourceJSON=r.data,this.read(r.data,{origin:\"service\",url:this.parsedUrl}),10.1===this.version&&!U(t))return this._fetchServerVersion(t,e).then((e=>{this.read({currentVersion:e})})).catch((()=>{}))}))}_fetchServerVersion(e,s){if(!P(e))return Promise.reject();const i=e.replace(/(.*\\/rest)\\/.*/i,\"$1\")+\"/info\";return r(i,{query:{f:\"json\",...this.customParameters,token:this.apiKey},responseType:\"json\",signal:s}).then((e=>{if(e.data?.currentVersion)return e.data.currentVersion;throw new t(\"tile-layer:version-not-available\",\"Server did not provide a version\")}))}_getMapName(e){const r=e.match(/^(?:https?:)?\\/\\/(server\\.arcgisonline\\.com|services\\.arcgisonline\\.com|ibasemaps-api\\.arcgis\\.com)\\/arcgis\\/rest\\/services\\/([^/]+(\\/[^/]+)*)\\/mapserver/i);return r?r[2]:void 0}_getDefaultAttribution(e){if(null==e)return null;let r;e=e.toLowerCase();for(let t=0,s=B.length;t<s;t++)if(r=B[t],r.toLowerCase().includes(e))return n(\"//static.arcgis.com/attribution/\"+r);return null}_getDefaultTileServers(e){if(null==e)return[];const r=-1!==e.search(/^(?:https?:)?\\/\\/server\\.arcgisonline\\.com/i),t=-1!==e.search(/^(?:https?:)?\\/\\/services\\.arcgisonline\\.com/i);return r||t?[e,e.replace(r?/server\\.arcgisonline/i:/services\\.arcgisonline/i,r?\"services.arcgisonline\":\"server.arcgisonline\")]:[]}get hasOverriddenFetchTile(){return!this.fetchTile[N]}};e([p({readOnly:!0})],C.prototype,\"attributionDataUrl\",null),e([p({type:[\"show\",\"hide\",\"hide-children\"]})],C.prototype,\"listMode\",void 0),e([p({json:{read:!0,write:!0}})],C.prototype,\"blendMode\",void 0),e([p()],C.prototype,\"elevationInfo\",void 0),e([p({type:Boolean,json:{read:!1,write:{enabled:!0,overridePolicy:()=>({enabled:!1})}}})],C.prototype,\"isReference\",void 0),e([p({readOnly:!0,type:[\"ArcGISTiledMapServiceLayer\"]})],C.prototype,\"operationalLayerType\",void 0),e([p({type:Boolean})],C.prototype,\"resampling\",void 0),e([p()],C.prototype,\"sourceJSON\",void 0),e([p({type:d})],C.prototype,\"spatialReference\",void 0),e([u(\"spatialReference\",[\"spatialReference\",\"tileInfo\"])],C.prototype,\"readSpatialReference\",null),e([p({type:String,json:{origins:{\"web-scene\":{read:!0,write:!0}},read:!1}})],C.prototype,\"path\",void 0),e([p({readOnly:!0})],C.prototype,\"sublayers\",void 0),e([h(\"sublayers\",{layers:{type:[I]}})],C.prototype,\"writeSublayers\",null),e([p({json:{read:!1,write:!1}})],C.prototype,\"popupEnabled\",void 0),e([p()],C.prototype,\"tileServers\",null),e([c(\"tileServers\")],C.prototype,\"castTileServers\",null),e([p({readOnly:!0,json:{read:!1}})],C.prototype,\"type\",void 0),e([p(x)],C.prototype,\"url\",void 0),C=W=e([m(\"esri.layers.TileLayer\")],C);const N=Symbol(\"default-fetch-tile\");C.prototype.fetchTile[N]=!0;const k=C;export{k as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{reader as r}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as t}from\"../../core/accessorSupport/decorators/subclass.js\";import l from\"../../geometry/SpatialReference.js\";import i from\"../support/TileInfo.js\";import a from\"../support/TileInfoTilemapCache.js\";import{TilemapCache as s}from\"../support/TilemapCache.js\";const p=p=>{let n=class extends p{constructor(){super(...arguments),this.copyright=null,this.minScale=0,this.maxScale=0,this.spatialReference=null,this.tileInfo=null,this.tilemapCache=null}destroy(){this.tilemapCache?.destroy?.()}readMinScale(e,o){return null!=o.minLOD&&null!=o.maxLOD?e:0}readMaxScale(e,o){return null!=o.minLOD&&null!=o.maxLOD?e:0}get supportsBlankTile(){return this.version>=10.2}readTilemapCache(e,o,r){const t=o.capabilities?.includes(\"Tilemap\");let{minLOD:l,maxLOD:p,minScale:n,maxScale:c}=o;if(null==l&&null==p&&(0!==n||0!==c)){const e=e=>Math.round(1e4*e)/1e4;n=e(n||o.tileInfo.lods[0].scale),c=e(c||o.tileInfo.lods[o.tileInfo.lods.length-1].scale);for(const r of o.tileInfo.lods){const o=e(r.scale);l=o>=n?r.level:l,p=o>=c?r.level:p}}if(t)return new s({layer:this,minLOD:l,maxLOD:p});if(o.tileInfo){const e=new i;return e.read(o.tileInfo,r),new a(e,l,p)}return null}};return e([o({json:{read:{source:\"copyrightText\"}}})],n.prototype,\"copyright\",void 0),e([o()],n.prototype,\"minScale\",void 0),e([r(\"service\",\"minScale\")],n.prototype,\"readMinScale\",null),e([o()],n.prototype,\"maxScale\",void 0),e([r(\"service\",\"maxScale\")],n.prototype,\"readMaxScale\",null),e([o({type:l})],n.prototype,\"spatialReference\",void 0),e([o({readOnly:!0})],n.prototype,\"supportsBlankTile\",null),e([o({type:i})],n.prototype,\"tileInfo\",void 0),e([o()],n.prototype,\"tilemapCache\",void 0),e([r(\"service\",\"tilemapCache\",[\"capabilities\",\"tileInfo\"])],n.prototype,\"readTilemapCache\",null),e([o()],n.prototype,\"version\",void 0),n=e([t(\"esri.layers.mixins.ArcGISCachedService\")],n),n};export{p as ArcGISCachedService};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../request.js\";import i from\"../../core/Accessor.js\";import{ByteSizeUnit as r}from\"../../core/ByteSizeUnit.js\";import s from\"../../core/Error.js\";import{makeHandle as l}from\"../../core/handleUtils.js\";import\"../../core/has.js\";import{LRUCache as o}from\"../../core/LRUCache.js\";import a from\"../../core/PooledArray.js\";import{isAbortError as n,isAborted as c,onAbort as h,createAbortError as p}from\"../../core/promiseUtils.js\";import{watch as m,initial as f}from\"../../core/reactiveUtils.js\";import{waitTicks as u}from\"../../core/scheduling.js\";import{objectToQuery as v}from\"../../core/urlUtils.js\";import{property as y}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as d}from\"../../core/accessorSupport/decorators/subclass.js\";import{TileKey as _}from\"./TileKey.js\";import{Tilemap as b,tilemapDefinitionId as g}from\"./Tilemap.js\";var j;function w(e,t,i){return new s(\"tile-map:tile-unavailable\",\"Tile is not available\",{level:e,row:t,col:i})}let T=class extends i{static{j=this}constructor(e){super(e),this._pendingTilemapRequests={},this.request=t,this.size=32,this._prefetchingEnabled=!0}initialize(){this._tilemapCache=new o(2*r.MEGABYTES),this.addHandles(m((()=>{const{layer:e}=this;return[e?.parsedUrl,e?.tileServers,e?.apiKey,e?.customParameters]}),(()=>this._initializeTilemapDefinition()),f))}get effectiveMinLOD(){return this.minLOD??this.layer.tileInfo.lods[0].level}get effectiveMaxLOD(){return this.maxLOD??this.layer.tileInfo.lods[this.layer.tileInfo.lods.length-1].level}getAvailability(e,t,i){if(!this.layer.tileInfo.lodAt(e)||e<this.effectiveMinLOD||e>this.effectiveMaxLOD)return\"unavailable\";const r=this._tilemapFromCache(e,t,i,this._tmpTilemapDefinition);return r?r.getAvailability(t,i):\"unknown\"}fetchAvailability(e,t,i,r){return!this.layer.tileInfo.lodAt(e)||e<this.effectiveMinLOD||e>this.effectiveMaxLOD?Promise.reject(w(e,t,i)):this._fetchTilemap(e,t,i,r).catch((e=>e)).then((r=>{if(r instanceof b){const s=r.getAvailability(t,i);if(\"unavailable\"===s)throw w(e,t,i);return s}if(n(r))throw r;return\"unknown\"}))}fetchAvailabilityUpsample(e,t,i,r,s){r.level=e,r.row=t,r.col=i;const l=this.layer.tileInfo;l.updateTileInfo(r);const o=this.fetchAvailability(e,t,i,s).catch((e=>{if(n(e))throw e;if(l.upsampleTile(r))return this.fetchAvailabilityUpsample(r.level,r.row,r.col,r,s);throw e}));return this._fetchAvailabilityUpsamplePrefetch(r.id,e,t,i,s,o),o}async _fetchAvailabilityUpsamplePrefetch(e,t,i,r,s,o){if(!this._prefetchingEnabled||null==e)return;const a=`prefetch-${e}`;if(this.hasHandles(a))return;const n=new AbortController;o.then((()=>n.abort()),(()=>n.abort()));let h=!1;const p=l((()=>{h||(h=!0,n.abort())}));if(this.addHandles(p,a),await u(10,n.signal).catch((()=>{})),h||(h=!0,this.removeHandles(a)),c(n))return;const m=new _(e,t,i,r),f={...s,signal:n.signal},v=this.layer.tileInfo;for(let l=0;j._prefetches.length<j._maxPrefetch&&v.upsampleTile(m);++l){const e=this.fetchAvailability(m.level,m.row,m.col,f);j._prefetches.push(e);const t=()=>{j._prefetches.removeUnordered(e)};e.then(t,t)}}static{this._maxPrefetch=4}static{this._prefetches=new a({initialSize:j._maxPrefetch})}_fetchTilemap(e,t,i,r){if(!this.layer.tileInfo.lodAt(e)||e<this.effectiveMinLOD||e>this.effectiveMaxLOD)return Promise.reject(new s(\"tilemap-cache:level-unavailable\",`Level ${e} is unavailable in the service`));const l=this._tmpTilemapDefinition,o=this._tilemapFromCache(e,t,i,l);if(o)return Promise.resolve(o);const a=r?.signal;return r={...r,signal:null},new Promise(((e,t)=>{h(a,(()=>t(p())));const i=g(l);let s=this._pendingTilemapRequests[i];if(!s){s=b.fromDefinition(l,r).then((e=>(this._tilemapCache.put(i,e,e.byteSize),e)));const e=()=>{delete this._pendingTilemapRequests[i]};this._pendingTilemapRequests[i]=s,s.then(e,e)}s.then(e,t)}))}_initializeTilemapDefinition(){if(!this.layer.parsedUrl)return;const{parsedUrl:e,apiKey:t,customParameters:i}=this.layer;this._tilemapCache.clear(),this._tmpTilemapDefinition={service:{url:e.path,query:v({...e.query,...i,token:t??e.query?.token}),tileServers:this.layer.tileServers,request:this.request},width:this.size,height:this.size,level:0,row:0,col:0}}_tilemapFromCache(e,t,i,r){r.level=e,r.row=t-t%this.size,r.col=i-i%this.size;const s=g(r);return this._tilemapCache.get(s)}get test(){}};e([y({constructOnly:!0})],T.prototype,\"layer\",void 0),e([y({constructOnly:!0})],T.prototype,\"minLOD\",void 0),e([y({constructOnly:!0})],T.prototype,\"maxLOD\",void 0),e([y({constructOnly:!0})],T.prototype,\"request\",void 0),e([y({constructOnly:!0})],T.prototype,\"size\",void 0),T=j=e([d(\"esri.layers.support.TilemapCache\")],T);export{T as TilemapCache};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport t from\"../../request.js\";import i from\"../../core/Error.js\";import{clone as e}from\"../../core/lang.js\";import{estimateNumberArrayMemory as a}from\"../../core/memoryEstimations.js\";import{newUintArray as o}from\"../../geometry/support/UintArray.js\";class l{constructor(t){s(t);const{location:i,data:l}=t;this.location=Object.freeze(e(i));const r=this.location.width,n=this.location.height;let h=!0,c=!0;const m=Math.ceil(r*n/32),f=o(m);let w=0;for(let e=0;e<l.length;e++){const t=e%32;l[e]?(c=!1,f[w]|=1<<t):h=!1,31===t&&++w}c?(this._availability=\"unavailable\",this.byteSize=40):h?(this._availability=\"available\",this.byteSize=40):(this._availability=f,this.byteSize=40+a(f))}getAvailability(t,i){if(\"unavailable\"===this._availability||\"available\"===this._availability)return this._availability;const e=(t-this.location.top)*this.location.width+(i-this.location.left),a=e%32,o=e>>5,l=this._availability;return o<0||o>l.length?\"unknown\":l[o]&1<<a?\"available\":\"unavailable\"}static fromDefinition(e,a){const o=e.service.request||t,{row:r,col:s,width:h,height:c}=e,m={query:{f:\"json\"}};return a=a?{...m,...a}:m,o(n(e),a).then((t=>t.data)).catch((t=>{if(422===t?.details?.httpStatus)return{location:{top:r,left:s,width:h,height:c},valid:!0,data:new Array(h*c).fill(0)};throw t})).then((t=>{if(t.location&&(t.location.top!==r||t.location.left!==s||t.location.width!==h||t.location.height!==c))throw new i(\"tilemap:location-mismatch\",\"Tilemap response for different location than requested\",{response:t,definition:{top:r,left:s,width:h,height:c}});return l.fromJSON(t)}))}static fromJSON(t){return Object.freeze(new l(t))}}function r(t){return`${t.level}/${t.row}/${t.col}/${t.width}/${t.height}`}function n(t){let i;if(t.service.tileServers?.length){const e=t.service.tileServers;i=`${e&&e.length?e[t.row%e.length]:t.service.url}/tilemap/${t.level}/${t.row}/${t.col}/${t.width}/${t.height}`}else i=`${t.service.url}/tilemap/${t.level}/${t.row}/${t.col}/${t.width}/${t.height}`;const e=t.service.query;return e&&(i=`${i}?${e}`),i}function s(t){if(!t?.location)throw new i(\"tilemap:missing-location\",\"Location missing from tilemap response\");if(!1===t.valid)throw new i(\"tilemap:invalid\",\"Tilemap response was marked as invalid\");if(!t.data)throw new i(\"tilemap:missing-data\",\"Data missing from tilemap response\");if(!Array.isArray(t.data))throw new i(\"tilemap:data-mismatch\",\"Data must be an array of numbers\");if(t.data.length!==t.location.width*t.location.height)throw new i(\"tilemap:data-mismatch\",\"Number of data items does not match width/height of tilemap\")}export{l as Tilemap,r as tilemapDefinitionId};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{nativeArrayMaxSize as r}from\"../../core/typedArrayUtil.js\";function n(n,e=!1){return n<=r?e?new Array(n).fill(0):new Array(n):new Uint32Array(n)}function e(r,n,e){return Array.isArray(r)?r.slice(n,n+e):r.subarray(n,n+e)}export{n as newUintArray,e as uintSubArray};\n"],"names":["e","constructor","l","t","arguments","length","undefined","i","lods","level","this","tileInfo","minLOD","maxLOD","lodAt","effectiveMinLOD","effectiveMaxLOD","getAvailability","cols","rows","fetchAvailability","o","s","a","row","col","fetchAvailabilityUpsample","n","updateTileInfo","catch","upsampleTile","W","B","C","_","O","L","v","g","b","T","S","w","f","j","y","super","listMode","elevationInfo","M","mode","isReference","operationalLayerType","resampling","sourceJSON","spatialReference","path","sublayers","type","url","normalizeCtorArgs","r","load","signal","addResolvingPromise","loadFromPortal","supportedTypes","then","_fetchService","Promise","resolve","attributionDataUrl","parsedUrl","toLowerCase","_getDefaultAttribution","_getMapName","readSpatialReference","d","fromJSON","writeSublayers","loaded","slice","reverse","flatten","_ref","toArray","writeSublayerStructure","forEach","write","push","some","Object","keys","layers","tileServers","_getDefaultTileServers","castTileServers","Array","isArray","map","fetchTile","getTileUrl","responseType","query","refreshParameters","data","fetchImageBitmapTile","prototype","A","capabilities","operations","supportsTileMap","supportsBlankTile","blankTile","customParameters","token","apiKey","loadAll","allSublayers","bandCount","pixelSizeX","R","serverType","ssl","replace","read","origin","version","U","_fetchServerVersion","currentVersion","P","reject","match","includes","search","hasOverriddenFetchTile","N","p","readOnly","json","Boolean","enabled","overridePolicy","u","String","origins","h","I","c","x","m","Symbol","k","copyright","minScale","maxScale","tilemapCache","destroy","readMinScale","readMaxScale","readTilemapCache","Math","round","scale","layer","source","location","valid","width","height","freeze","fill","Uint32Array","ceil","_availability","byteSize","top","left","fromDefinition","service","request","details","httpStatus","response","definition","_pendingTilemapRequests","size","_prefetchingEnabled","initialize","_tilemapCache","MEGABYTES","addHandles","_initializeTilemapDefinition","_tilemapFromCache","_tmpTilemapDefinition","_fetchTilemap","_fetchAvailabilityUpsamplePrefetch","id","hasHandles","AbortController","abort","removeHandles","_prefetches","_maxPrefetch","removeUnordered","static","initialSize","put","clear","get","test","constructOnly"],"sourceRoot":""}