{"version":3,"file":"static/js/64542.85739959.chunk.js","mappings":"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","sources":["../node_modules/src/.internal/charts/xy/XYChartDefaultTheme.ts","../node_modules/src/.internal/charts/xy/XYChart.ts","../node_modules/d3-shape/src/array.js","../node_modules/d3-shape/src/curve/linear.js","../node_modules/d3-shape/src/point.js","../node_modules/d3-shape/src/line.js","../node_modules/d3-shape/src/area.js","../node_modules/src/.internal/charts/xy/series/LineSeries.ts","../node_modules/src/.internal/charts/xy/axes/AxisRendererY.ts","../node_modules/src/.internal/charts/xy/series/XYSeries.ts","../node_modules/src/.internal/charts/xy/XYCursor.ts","../node_modules/src/.internal/charts/xy/axes/Axis.ts","../node_modules/src/.internal/charts/xy/axes/AxisTick.ts","../node_modules/src/.internal/charts/xy/axes/AxisLabel.ts","../node_modules/src/.internal/charts/xy/axes/AxisRenderer.ts","../node_modules/src/.internal/charts/xy/axes/ValueAxis.ts","../node_modules/src/.internal/charts/xy/axes/Grid.ts","../node_modules/src/.internal/charts/xy/axes/AxisRendererX.ts","../node_modules/src/.internal/core/render/Button.ts"],"sourcesContent":["import type { ITimeInterval } from \"../../core/util/Time\";\r\nimport type { DataItem } from \"../../core/render/Component\";\r\nimport type { IValueAxisDataItem, ValueAxis } from \"./axes/ValueAxis\";\r\nimport type { AxisRenderer } from \"./axes/AxisRenderer\";\r\nimport type { DateAxis } from \"./axes/DateAxis\";\r\nimport type { ICategoryAxisDataItem } from \"./axes/CategoryAxis\";\r\nimport type { IGaplessDateAxisDataItem } from \"./axes/GaplessDateAxis\";\r\n\r\nimport { Theme } from \"../../core/Theme\";\r\nimport { percent, p50, p100 } from \"../../core/util/Percent\";\r\nimport { Color } from \"../../core/util/Color\";\r\nimport { ColorSet } from \"../../core/util/ColorSet\";\r\nimport { setColor } from \"../../themes/DefaultTheme\";\r\n\r\nimport * as $time from \"../../core/util/Time\";\r\nimport * as $type from \"../../core/util/Type\";\r\nimport * as $math from \"../../core/util/Math\";\r\nimport * as $object from \"../../core/util/Object\";\r\nimport * as $array from \"../../core/util/Array\";\r\n\r\n/**\r\n * @ignore\r\n */\r\nexport class XYChartDefaultTheme extends Theme {\r\n\tprotected setupDefaultRules() {\r\n\t\tsuper.setupDefaultRules();\r\n\r\n\t\tconst ic = this._root.interfaceColors;\r\n\t\tconst language = this._root.language;\r\n\t\tconst r = this.rule.bind(this);\r\n\r\n\t\t/**\r\n\t\t * ========================================================================\r\n\t\t * charts/xy\r\n\t\t * ========================================================================\r\n\t\t */\r\n\r\n\t\tr(\"XYChart\").setAll({\r\n\t\t\tcolors: ColorSet.new(this._root, {}),\r\n\t\t\tpaddingLeft: 20,\r\n\t\t\tpaddingRight: 20,\r\n\t\t\tpaddingTop: 16,\r\n\t\t\tpaddingBottom: 16,\r\n\t\t\tpanX: false,\r\n\t\t\tpanY: false,\r\n\t\t\twheelStep: 0.25,\r\n\t\t\tarrangeTooltips: true,\r\n\t\t\tpinchZoomX: false,\r\n\t\t\tpinchZoomY: false\r\n\t\t});\r\n\r\n\r\n\t\tr(\"XYSeries\").setAll({\r\n\t\t\tlegendLabelText: \"{name}\"\r\n\t\t})\r\n\r\n\t\tr(\"Rectangle\", [\"plotbackground\", \"xy\", \"background\"]).setAll({\r\n\t\t\tfill: Color.fromHex(0x000000),\r\n\t\t\tfillOpacity: 0\r\n\t\t});\r\n\r\n\t\t/**\r\n\t\t * ------------------------------------------------------------------------\r\n\t\t * charts/xy: XYChartScrollbar\r\n\t\t * ------------------------------------------------------------------------\r\n\t\t */\r\n\r\n\t\tr(\"XYChart\", [\"scrollbar\", \"chart\"]).setAll({\r\n\t\t\tpaddingBottom: 0,\r\n\t\t\tpaddingLeft: 0,\r\n\t\t\tpaddingTop: 0,\r\n\t\t\tpaddingRight: 0,\r\n\t\t\tcolors: ColorSet.new(this._root, {\r\n\t\t\t\tsaturation: 0\r\n\t\t\t})\r\n\t\t});\r\n\r\n\t\t{\r\n\t\t\tconst rule = r(\"Graphics\", [\"scrollbar\", \"overlay\"]);\r\n\r\n\t\t\trule.setAll({\r\n\t\t\t\tfillOpacity: 0.5\r\n\t\t\t});\r\n\r\n\t\t\tsetColor(rule, \"fill\", ic, \"background\");\r\n\t\t}\r\n\r\n\t\t// Class: RoundedRectangle\r\n\t\tr(\"RoundedRectangle\", [\"xy\", \"scrollbar\", \"thumb\"]).setAll({\r\n\t\t\tcornerRadiusTR: 0,\r\n\t\t\tcornerRadiusTL: 0,\r\n\t\t\tcornerRadiusBR: 0,\r\n\t\t\tcornerRadiusBL: 0,\r\n\t\t\tfillOpacity: 0,\r\n\t\t\tfocusable: true\r\n\t\t});\r\n\r\n\t\tr(\"RoundedRectangle\", [\"xy\", \"scrollbar\", \"thumb\"]).states.create(\"hover\", { fillOpacity: 0.4 });\r\n\r\n\t\tr(\"RoundedRectangle\", [\"xy\", \"scrollbar\", \"chart\", \"background\"]).setAll({\r\n\t\t\tcornerRadiusTL: 0,\r\n\t\t\tcornerRadiusBL: 0,\r\n\t\t\tcornerRadiusTR: 0,\r\n\t\t\tcornerRadiusBR: 0\r\n\t\t});\r\n\r\n\t\tr(\"RoundedRectangle\", [\"xy\", \"scrollbar\", \"chart\", \"background\", \"resize\", \"button\"]).setAll({\r\n\t\t\tcornerRadiusBL: 40,\r\n\t\t\tcornerRadiusBR: 40,\r\n\t\t\tcornerRadiusTL: 40,\r\n\t\t\tcornerRadiusTR: 40\r\n\t\t});\r\n\r\n\t\tr(\"AxisRendererX\", [\"xy\", \"chart\", \"scrollbar\"]).setAll({\r\n\t\t\tstrokeOpacity: 0,\r\n\t\t\tinside: true\r\n\t\t});\r\n\r\n\t\tr(\"AxisRendererY\", [\"xy\", \"chart\", \"scrollbar\"]).setAll({\r\n\t\t\tstrokeOpacity: 0,\r\n\t\t\tinside: true,\r\n\t\t\tminGridDistance: 5\r\n\t\t});\r\n\r\n\t\tr(\"AxisLabel\", [\"xy\", \"scrollbar\", \"x\"]).setAll({\r\n\t\t\topacity: 0.5,\r\n\t\t\tcenterY: p100,\r\n\t\t\tminPosition: 0.01,\r\n\t\t\tmaxPosition: 0.99,\r\n\t\t\tfontSize: \"0.8em\"\r\n\t\t});\r\n\r\n\t\tr(\"AxisLabel\", [\"category\"]).setAll({\r\n\t\t\ttext: \"{category}\",\r\n\t\t\tpopulateText: true\r\n\t\t});\r\n\r\n\t\tr(\"AxisLabel\", [\"x\"]).setAll({\r\n\t\t\tcenterY: 0\r\n\t\t});\r\n\r\n\t\tr(\"AxisLabel\", [\"x\", \"inside\"]).setAll({\r\n\t\t\tcenterY: p100\r\n\t\t});\r\n\r\n\t\tr(\"AxisLabel\", [\"x\", \"inside\", \"opposite\"]).setAll({\r\n\t\t\tcenterY: 0\r\n\t\t});\r\n\r\n\t\tr(\"AxisLabel\", [\"x\", \"opposite\"]).setAll({\r\n\t\t\tcenterY: p100\r\n\t\t});\r\n\r\n\r\n\t\tr(\"AxisLabel\", [\"y\"]).setAll({\r\n\t\t\tcenterX: p100\r\n\t\t});\r\n\r\n\t\tr(\"AxisLabel\", [\"y\", \"inside\"]).setAll({\r\n\t\t\tcenterX: 0\r\n\t\t});\r\n\r\n\t\tr(\"AxisLabel\", [\"y\", \"inside\", \"opposite\"]).setAll({\r\n\t\t\tcenterX: p100\r\n\t\t});\r\n\r\n\t\tr(\"AxisLabel\", [\"y\", \"opposite\"]).setAll({\r\n\t\t\tcenterX: 0\r\n\t\t});\r\n\r\n\t\tr(\"AxisLabel\", [\"minor\"]).setAll({\r\n\t\t\tfontSize: \"0.6em\"\r\n\t\t});\r\n\r\n\t\tr(\"AxisLabel\", [\"xy\", \"scrollbar\", \"y\"]).setAll({\r\n\t\t\tvisible: false\r\n\t\t});\r\n\r\n\t\t// Class: Grid\r\n\t\tr(\"Grid\", [\"xy\", \"scrollbar\", \"y\"]).setAll({\r\n\t\t\tvisible: false\r\n\t\t});\r\n\r\n\t\t// Class: Grid\r\n\t\tr(\"Grid\", [\"xy\", \"scrollbar\", \"x\"]).setAll({\r\n\t\t\topacity: 0.5\r\n\t\t});\r\n\r\n\r\n\r\n\r\n\t\t/**\r\n\t\t * ------------------------------------------------------------------------\r\n\t\t * charts/xy: Cursor\r\n\t\t * ------------------------------------------------------------------------\r\n\t\t */\r\n\r\n\t\tr(\"XYCursor\").setAll({\r\n\t\t\tbehavior: \"none\",\r\n\t\t\tlayer: 30,\r\n\t\t\texportable: false,\r\n\t\t\tsnapToSeriesBy: \"xy\",\r\n\t\t\tmoveThreshold: 1\r\n\t\t});\r\n\r\n\t\t{\r\n\t\t\tconst rule = r(\"Grid\", [\"cursor\", \"x\"]);\r\n\r\n\t\t\trule.setAll({\r\n\t\t\t\tforceInactive: true,\r\n\t\t\t\tstrokeOpacity: 0.8,\r\n\t\t\t\tstrokeDasharray: [2, 2],\r\n\t\t\t\trole: \"slider\",\r\n\t\t\t\tariaLabel: language.translate(\"Use left and right arrows to move selection\")\r\n\t\t\t});\r\n\r\n\t\t\tsetColor(rule, \"stroke\", ic, \"alternativeBackground\");\r\n\t\t}\r\n\r\n\t\t{\r\n\t\t\tconst rule = r(\"Grid\", [\"cursor\", \"y\"]);\r\n\r\n\t\t\trule.setAll({\r\n\t\t\t\tforceInactive: true,\r\n\t\t\t\tstrokeOpacity: 0.8,\r\n\t\t\t\tstrokeDasharray: [2, 2],\r\n\t\t\t\trole: \"slider\",\r\n\t\t\t\tariaLabel: language.translate(\"Use up and down arrows to move selection\")\r\n\t\t\t});\r\n\r\n\t\t\tsetColor(rule, \"stroke\", ic, \"alternativeBackground\");\r\n\t\t}\r\n\r\n\t\t{\r\n\t\t\tconst rule = r(\"Graphics\", [\"cursor\", \"selection\"]);\r\n\r\n\t\t\trule.setAll({\r\n\t\t\t\tfillOpacity: 0.15,\r\n\t\t\t});\r\n\r\n\t\t\tsetColor(rule, \"fill\", ic, \"alternativeBackground\");\r\n\t\t}\r\n\r\n\r\n\t\t/**\r\n\t\t * ------------------------------------------------------------------------\r\n\t\t * charts/xy: Axes\r\n\t\t * ------------------------------------------------------------------------\r\n\t\t */\r\n\r\n\t\tr(\"Axis\").setAll({\r\n\t\t\tzoomOut: true,\r\n\t\t\tstart: 0,\r\n\t\t\tend: 1,\r\n\t\t\tminZoomCount: 1,\r\n\t\t\tmaxZoomCount: Infinity,\r\n\t\t\tmaxZoomFactor: 1000,\r\n\t\t\tmaxDeviation: 0.1,\r\n\t\t\tsnapTooltip: true,\r\n\t\t\ttooltipLocation: 0.5,\r\n\t\t\tpanX: true,\r\n\t\t\tpanY: true,\r\n\t\t\tzoomX: true,\r\n\t\t\tzoomY: true,\r\n\t\t\tfixAxisSize: true\r\n\t\t});\r\n\r\n\t\tr(\"AxisLabel\").setAll({\r\n\t\t\tlocation: 0.5,\r\n\t\t\tmultiLocation: 0,\r\n\t\t\tcenterX: p50,\r\n\t\t\tcenterY: p50,\r\n\t\t\tpaddingTop: 3,\r\n\t\t\tpaddingBottom: 3,\r\n\t\t\tpaddingLeft: 5,\r\n\t\t\tpaddingRight: 5\r\n\t\t});\r\n\r\n\t\t// The following is deprecated following text measuring updates in 5.0.5\r\n\t\t// r(\"AxisLabel\", [\"y\"]).setAll({\r\n\t\t// \ttextAlign: \"right\"\r\n\t\t// });\r\n\r\n\t\t// r(\"AxisLabel\", [\"y\", \"opposite\"]).setAll({\r\n\t\t// \ttextAlign: \"left\"\r\n\t\t// });\r\n\r\n\t\tr(\"Container\", [\"axis\", \"header\"]).setAll({\r\n\t\t\tlayer: 30\r\n\t\t});\r\n\r\n\t\tr(\"Rectangle\", [\"axis\", \"header\", \"background\"]).setAll({\r\n\t\t\tcrisp: true\r\n\t\t});\r\n\r\n\t\t{\r\n\t\t\tconst rule = r(\"AxisRenderer\");\r\n\r\n\t\t\trule.setAll({\r\n\t\t\t\tcrisp: true,\r\n\t\t\t\tstrokeOpacity: 0\r\n\t\t\t});\r\n\r\n\t\t\tsetColor(rule, \"stroke\", ic, \"grid\");\r\n\t\t}\r\n\r\n\t\tr(\"AxisRendererX\").setAll({\r\n\t\t\tminGridDistance: 120,\r\n\t\t\topposite: false,\r\n\t\t\tinversed: false,\r\n\t\t\tcellStartLocation: 0,\r\n\t\t\tcellEndLocation: 1,\r\n\t\t\twidth: p100\r\n\t\t});\r\n\r\n\t\tr(\"AxisRendererY\").setAll({\r\n\t\t\tminGridDistance: 40,\r\n\t\t\topposite: false,\r\n\t\t\tinversed: false,\r\n\t\t\tcellStartLocation: 0,\r\n\t\t\tcellEndLocation: 1,\r\n\t\t\theight: p100\r\n\t\t});\r\n\r\n\t\t{\r\n\t\t\tconst rule = r(\"Rectangle\", [\"axis\", \"thumb\", \"zoomgrip\"]);\r\n\r\n\t\t\trule.setAll({\r\n\t\t\t\tfillOpacity: 0\r\n\t\t\t});\r\n\r\n\t\t\tsetColor(rule, \"fill\", ic, \"alternativeBackground\");\r\n\r\n\t\t\trule.states.create(\"hover\", { fillOpacity: 0.1 })\r\n\t\t}\r\n\r\n\t\tr(\"Rectangle\", [\"axis\", \"thumb\", \"x\", \"zoomgrip\"]).setAll({\r\n\t\t\tcursorOverStyle: \"ew-resize\"\r\n\t\t});\r\n\r\n\t\tr(\"Rectangle\", [\"axis\", \"thumb\", \"y\", \"zoomgrip\"]).setAll({\r\n\t\t\tcursorOverStyle: \"ns-resize\"\r\n\t\t});\r\n\r\n\r\n\t\t{\r\n\t\t\tconst rule = r(\"Grid\");\r\n\r\n\t\t\trule.setAll({\r\n\t\t\t\tlocation: 0,\r\n\t\t\t\tstrokeOpacity: 0.15,\r\n\t\t\t\tcrisp: true\r\n\t\t\t});\r\n\r\n\t\t\tsetColor(rule, \"stroke\", ic, \"grid\");\r\n\t\t}\r\n\r\n\t\t{\r\n\t\t\tconst rule = r(\"Grid\", [\"minor\"]);\r\n\r\n\t\t\trule.setAll({\r\n\t\t\t\tlocation: 0,\r\n\t\t\t\tstrokeOpacity: 0.07,\r\n\t\t\t\tcrisp: true\r\n\t\t\t});\r\n\r\n\t\t\tsetColor(rule, \"stroke\", ic, \"grid\");\r\n\t\t}\r\n\r\n\r\n\t\tr(\"Grid\", [\"base\"]).setAll({\r\n\t\t\tstrokeOpacity: 0.3\r\n\t\t});\r\n\r\n\t\t{\r\n\t\t\tconst rule = r(\"Graphics\", [\"axis\", \"fill\"]);\r\n\r\n\t\t\trule.setAll({\r\n\t\t\t\tvisible: false,\r\n\t\t\t\tisMeasured: false,\r\n\t\t\t\tposition: \"absolute\",\r\n\t\t\t\tfillOpacity: 0.05,\r\n\t\t\t});\r\n\r\n\t\t\tsetColor(rule, \"fill\", ic, \"alternativeBackground\");\r\n\t\t}\r\n\r\n\t\tr(\"Graphics\", [\"axis\", \"fill\", \"range\"]).setAll({\r\n\t\t\tisMeasured: true\r\n\t\t});\r\n\r\n\t\t// hides all elements of series axis range\r\n\t\tr(\"Graphics\", [\"series\", \"fill\", \"range\"]).setAll({\r\n\t\t\tvisible: false,\r\n\t\t\tisMeasured: true\r\n\t\t});\r\n\r\n\t\tr(\"Grid\", [\"series\", \"range\"]).setAll({\r\n\t\t\tvisible: false\r\n\t\t});\r\n\r\n\t\tr(\"AxisTick\", [\"series\", \"range\"]).setAll({\r\n\t\t\tvisible: false\r\n\t\t});\r\n\r\n\t\tr(\"AxisLabel\", [\"series\", \"range\"]).setAll({\r\n\t\t\tvisible: false\r\n\t\t});\r\n\r\n\t\t{\r\n\t\t\tconst rule = r(\"AxisTick\");\r\n\r\n\t\t\trule.setAll({\r\n\t\t\t\tlocation: 0.5,\r\n\t\t\t\tmultiLocation: 0,\r\n\t\t\t\tstrokeOpacity: 1,\r\n\t\t\t\tisMeasured: false,\r\n\t\t\t\tposition: \"absolute\",\r\n\t\t\t\tvisible: false\r\n\t\t\t});\r\n\r\n\t\t\tsetColor(rule, \"stroke\", ic, \"grid\");\r\n\t\t}\r\n\r\n\t\tr(\"CategoryAxis\").setAll({\r\n\t\t\tstartLocation: 0,\r\n\t\t\tendLocation: 1,\r\n\t\t\tfillRule: (dataItem: DataItem<ICategoryAxisDataItem>, index?: number) => {\r\n\t\t\t\tconst axisFill = dataItem.get(\"axisFill\");\r\n\t\t\t\tif (axisFill) {\r\n\t\t\t\t\tif (!$type.isNumber(index) || index % 2 == 0) {\r\n\t\t\t\t\t\taxisFill.setPrivate(\"visible\", true);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\taxisFill.setPrivate(\"visible\", false);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tconst gridIntervals: Array<ITimeInterval> = [\r\n\t\t\t{ timeUnit: \"millisecond\", count: 1 },\r\n\t\t\t{ timeUnit: \"millisecond\", count: 5 },\r\n\t\t\t{ timeUnit: \"millisecond\", count: 10 },\r\n\t\t\t{ timeUnit: \"millisecond\", count: 50 },\r\n\t\t\t{ timeUnit: \"millisecond\", count: 100 },\r\n\t\t\t{ timeUnit: \"millisecond\", count: 500 },\r\n\t\t\t{ timeUnit: \"second\", count: 1 },\r\n\t\t\t{ timeUnit: \"second\", count: 5 },\r\n\t\t\t{ timeUnit: \"second\", count: 10 },\r\n\t\t\t{ timeUnit: \"second\", count: 30 },\r\n\t\t\t{ timeUnit: \"minute\", count: 1 },\r\n\t\t\t{ timeUnit: \"minute\", count: 5 },\r\n\t\t\t{ timeUnit: \"minute\", count: 10 },\r\n\t\t\t{ timeUnit: \"minute\", count: 15 },\r\n\t\t\t{ timeUnit: \"minute\", count: 30 },\r\n\t\t\t{ timeUnit: \"hour\", count: 1 },\r\n\t\t\t{ timeUnit: \"hour\", count: 3 },\r\n\t\t\t{ timeUnit: \"hour\", count: 6 },\r\n\t\t\t{ timeUnit: \"hour\", count: 12 },\r\n\t\t\t{ timeUnit: \"day\", count: 1 },\r\n\t\t\t{ timeUnit: \"day\", count: 2 },\r\n\t\t\t{ timeUnit: \"day\", count: 3 },\r\n\t\t\t{ timeUnit: \"day\", count: 4 },\r\n\t\t\t{ timeUnit: \"day\", count: 5 },\r\n\t\t\t{ timeUnit: \"week\", count: 1 },\r\n\t\t\t{ timeUnit: \"month\", count: 1 },\r\n\t\t\t{ timeUnit: \"month\", count: 2 },\r\n\t\t\t{ timeUnit: \"month\", count: 3 },\r\n\t\t\t{ timeUnit: \"month\", count: 6 },\r\n\t\t\t{ timeUnit: \"year\", count: 1 },\r\n\t\t\t{ timeUnit: \"year\", count: 2 },\r\n\t\t\t{ timeUnit: \"year\", count: 5 },\r\n\t\t\t{ timeUnit: \"year\", count: 10 },\r\n\t\t\t{ timeUnit: \"year\", count: 50 },\r\n\t\t\t{ timeUnit: \"year\", count: 100 },\r\n\t\t\t{ timeUnit: \"year\", count: 200 },\r\n\t\t\t{ timeUnit: \"year\", count: 500 },\r\n\t\t\t{ timeUnit: \"year\", count: 1000 },\r\n\t\t\t{ timeUnit: \"year\", count: 2000 },\r\n\t\t\t{ timeUnit: \"year\", count: 5000 },\r\n\t\t\t{ timeUnit: \"year\", count: 10000 },\r\n\t\t\t{ timeUnit: \"year\", count: 100000 }\r\n\t\t];\r\n\r\n\t\tconst dateFormats = {\r\n\t\t\t\"millisecond\": language.translate(\"_date_millisecond\"),\r\n\t\t\t\"second\": language.translate(\"_date_second\"),\r\n\t\t\t\"minute\": language.translate(\"_date_minute\"),\r\n\t\t\t\"hour\": language.translate(\"_date_hour\"),\r\n\t\t\t\"day\": language.translate(\"_date_day\"),\r\n\t\t\t\"week\": language.translate(\"_date_day\"),\r\n\t\t\t\"month\": language.translate(\"_date_month\"),\r\n\t\t\t\"year\": language.translate(\"_date_year\")\r\n\t\t};\r\n\r\n\t\tconst periodChangeDateFormats = {\r\n\t\t\t\"millisecond\": language.translate(\"_date_millisecond\"),\r\n\t\t\t\"second\": language.translate(\"_date_second\"),\r\n\t\t\t\"minute\": language.translate(\"_date_minute\"),\r\n\t\t\t\"hour\": language.translate(\"_date_day\"),\r\n\t\t\t\"day\": language.translate(\"_date_day\"),\r\n\t\t\t\"week\": language.translate(\"_date_day\"),\r\n\t\t\t\"month\": language.translate(\"_date_month\") + \" \" + language.translate(\"_date_year\"),\r\n\t\t\t\"year\": language.translate(\"_date_year\")\r\n\t\t};\r\n\r\n\t\tconst tooltipDateFormats = {\r\n\t\t\t\"millisecond\": language.translate(\"_date_millisecond_full\"),\r\n\t\t\t\"second\": language.translate(\"_date_second_full\"),\r\n\t\t\t\"minute\": language.translate(\"_date_minute_full\"),\r\n\t\t\t\"hour\": language.translate(\"_date_hour_full\"),\r\n\t\t\t\"day\": language.translate(\"_date_day_full\"),\r\n\t\t\t\"week\": language.translate(\"_date_week_full\"),\r\n\t\t\t\"month\": language.translate(\"_date_month_full\"),\r\n\t\t\t\"year\": language.translate(\"_date_year\")\r\n\t\t};\r\n\r\n\t\tr(\"CategoryDateAxis\").setAll({\r\n\t\t\tmarkUnitChange: true,\r\n\t\t\tgridIntervals: $array.copy(gridIntervals),\r\n\t\t\tdateFormats: $object.copy(dateFormats),\r\n\t\t\tperiodChangeDateFormats: $object.copy(periodChangeDateFormats)\r\n\t\t});\r\n\r\n\t\tr(\"DateAxis\").setAll({\r\n\t\t\tmaxZoomFactor: null,\r\n\t\t\tstrictMinMax: true,\r\n\t\t\tstartLocation: 0,\r\n\t\t\tendLocation: 1,\r\n\t\t\tmarkUnitChange: true,\r\n\t\t\tgroupData: false,\r\n\t\t\tgroupCount: 500,\r\n\t\t\tskipFirstMinor: true,\r\n\t\t\tweekLabelLocation: 0,\r\n\t\t\tgridIntervals: $array.copy(gridIntervals),\r\n\t\t\tdateFormats: $object.copy(dateFormats),\r\n\t\t\tperiodChangeDateFormats: $object.copy(periodChangeDateFormats),\r\n\t\t\ttooltipDateFormats: tooltipDateFormats,\r\n\r\n\t\t\tgroupIntervals: [\r\n\t\t\t\t{ timeUnit: \"millisecond\", count: 1 },\r\n\t\t\t\t{ timeUnit: \"millisecond\", count: 10 },\r\n\t\t\t\t{ timeUnit: \"millisecond\", count: 100 },\r\n\t\t\t\t{ timeUnit: \"second\", count: 1 },\r\n\t\t\t\t{ timeUnit: \"second\", count: 10 },\r\n\t\t\t\t{ timeUnit: \"minute\", count: 1 },\r\n\t\t\t\t{ timeUnit: \"minute\", count: 10 },\r\n\t\t\t\t{ timeUnit: \"hour\", count: 1 },\r\n\t\t\t\t{ timeUnit: \"day\", count: 1 },\r\n\t\t\t\t{ timeUnit: \"week\", count: 1 },\r\n\t\t\t\t{ timeUnit: \"month\", count: 1 },\r\n\t\t\t\t{ timeUnit: \"year\", count: 1 }\r\n\t\t\t],\r\n\r\n\t\t\tfillRule: (dataItem: DataItem<IValueAxisDataItem>) => {\r\n\t\t\t\tconst axisFill = dataItem.get(\"axisFill\");\r\n\t\t\t\tif (axisFill) {\r\n\t\t\t\t\tconst axis = <DateAxis<AxisRenderer>>dataItem.component;\r\n\t\t\t\t\tconst value = dataItem.get(\"value\");\r\n\t\t\t\t\tconst endValue = dataItem.get(\"endValue\");\r\n\t\t\t\t\tconst intervalDuration = axis.intervalDuration();\r\n\t\t\t\t\tconst baseInterval = axis.getPrivate(\"baseInterval\");\r\n\t\t\t\t\tconst gridInterval = axis.getPrivate(\"gridInterval\", baseInterval);\r\n\r\n\r\n\t\t\t\t\tlet min = axis.getPrivate(\"min\", 0);\r\n\t\t\t\t\tmin = $time.round(new Date(min), gridInterval.timeUnit, gridInterval.count, this._root.locale.firstDayOfWeek, this._root.utc, undefined, this._root.timezone).getTime();\r\n\r\n\t\t\t\t\tif (value != null && endValue != null) {\r\n\t\t\t\t\t\tconst val = Math.round(Math.round((value - min) / intervalDuration)) / 2;\r\n\r\n\t\t\t\t\t\tif (val == Math.round(val)) {\r\n\t\t\t\t\t\t\taxisFill.setPrivate(\"visible\", true);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\taxisFill.setPrivate(\"visible\", false);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tr(\"GaplessDateAxis\").setAll({\r\n\t\t\tfillRule: (dataItem: DataItem<IGaplessDateAxisDataItem>) => {\r\n\t\t\t\tconst axisFill = dataItem.get(\"axisFill\");\r\n\t\t\t\tif (axisFill) {\r\n\r\n\t\t\t\t\tconst index = dataItem.get(\"index\")\r\n\t\t\t\t\tlet visible = false;\r\n\t\t\t\t\tif (!$type.isNumber(index) || index % 2 == 0) {\r\n\t\t\t\t\t\tvisible = true\r\n\t\t\t\t\t}\r\n\t\t\t\t\taxisFill.setPrivate(\"visible\", visible);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\n\r\n\t\tr(\"ValueAxis\").setAll({\r\n\r\n\t\t\tbaseValue: 0,\r\n\t\t\tlogarithmic: false,\r\n\t\t\tstrictMinMax: false,\r\n\t\t\tautoZoom: true,\r\n\r\n\t\t\tfillRule: (dataItem: DataItem<IValueAxisDataItem>) => {\r\n\t\t\t\tconst axisFill = dataItem.get(\"axisFill\");\r\n\t\t\t\tif (axisFill) {\r\n\t\t\t\t\tconst axis = <ValueAxis<AxisRenderer>>dataItem.component;\r\n\t\t\t\t\tconst value = dataItem.get(\"value\");\r\n\t\t\t\t\tconst step = axis.getPrivate(\"step\");\r\n\r\n\t\t\t\t\tif ($type.isNumber(value) && $type.isNumber(step)) {\r\n\t\t\t\t\t\tif ($math.round(value / step / 2, 5) == Math.round(value / step / 2)) {\r\n\t\t\t\t\t\t\taxisFill.setPrivate(\"visible\", false);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\taxisFill.setPrivate(\"visible\", true);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tr(\"DurationAxis\").setAll({\r\n\t\t\tbaseUnit: \"second\"\r\n\t\t})\r\n\r\n\r\n\t\t/**\r\n\t\t * ------------------------------------------------------------------------\r\n\t\t * charts/xy: Series\r\n\t\t * ------------------------------------------------------------------------\r\n\t\t */\r\n\r\n\t\tr(\"XYSeries\").setAll({\r\n\t\t\tmaskBullets: true,\r\n\t\t\tstackToNegative: true,\r\n\r\n\t\t\tlocationX: 0.5,\r\n\t\t\tlocationY: 0.5,\r\n\r\n\t\t\tsnapTooltip: false,\r\n\r\n\t\t\topenValueXGrouped: \"open\",\r\n\t\t\topenValueYGrouped: \"open\",\r\n\t\t\tvalueXGrouped: \"close\",\r\n\t\t\tvalueYGrouped: \"close\",\r\n\r\n\t\t\tseriesTooltipTarget: \"series\"\r\n\t\t});\r\n\r\n\t\tr(\"BaseColumnSeries\").setAll({\r\n\t\t\tadjustBulletPosition: true\r\n\t\t});\r\n\r\n\t\tr(\"ColumnSeries\").setAll({\r\n\t\t\tclustered: true\r\n\t\t});\r\n\r\n\t\tr(\"RoundedRectangle\", [\"series\", \"column\"]).setAll({\r\n\t\t\tposition: \"absolute\",\r\n\t\t\tisMeasured: false,\r\n\t\t\twidth: percent(70),\r\n\t\t\theight: percent(70),\r\n\t\t\tstrokeWidth: 1,\r\n\t\t\tstrokeOpacity: 1,\r\n\t\t\tcornerRadiusBL: 0,\r\n\t\t\tcornerRadiusTL: 0,\r\n\t\t\tcornerRadiusBR: 0,\r\n\t\t\tcornerRadiusTR: 0,\r\n\t\t\tfillOpacity: 1,\r\n\t\t\trole: \"figure\"\r\n\t\t});\r\n\r\n\t\tr(\"LineSeries\").setAll({\r\n\t\t\tconnect: true,\r\n\t\t\tautoGapCount: 1.1,\r\n\t\t\tstackToNegative: false\r\n\t\t});\r\n\r\n\t\tr(\"Graphics\", [\"series\", \"stroke\"]).setAll({\r\n\t\t\tposition: \"absolute\",\r\n\t\t\tstrokeWidth: 1,\r\n\t\t\tstrokeOpacity: 1,\r\n\t\t\tisMeasured: false\r\n\t\t});\r\n\r\n\t\tr(\"Graphics\", [\"series\", \"fill\"]).setAll({\r\n\t\t\tvisible: false,\r\n\t\t\tfillOpacity: 0,\r\n\t\t\tposition: \"absolute\",\r\n\t\t\tstrokeWidth: 0,\r\n\t\t\tstrokeOpacity: 0,\r\n\t\t\tisMeasured: false\r\n\t\t});\r\n\r\n\t\tr(\"Graphics\", [\"line\", \"series\", \"legend\", \"marker\", \"stroke\"]).setAll({\r\n\t\t\tdraw: (display: any, sprite: any) => {\r\n\t\t\t\tconst parent = sprite.parent;\r\n\t\t\t\tif (parent) {\r\n\t\t\t\t\tconst h = parent.height();\r\n\t\t\t\t\tconst w = parent.width();\r\n\t\t\t\t\tdisplay.moveTo(0, h / 2);\r\n\t\t\t\t\tdisplay.lineTo(w, h / 2);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t{\r\n\t\t\tconst rule = r(\"Graphics\", [\"line\", \"series\", \"legend\", \"marker\", \"stroke\"]).states.create(\"disabled\", {});\r\n\t\t\tsetColor(rule, \"stroke\", ic, \"disabled\");\r\n\t\t}\r\n\r\n\t\tr(\"Graphics\", [\"line\", \"series\", \"legend\", \"marker\", \"fill\"]).setAll({\r\n\t\t\tdraw: (display: any, sprite: any) => {\r\n\t\t\t\tconst parent = sprite.parent;\r\n\t\t\t\tif (parent) {\r\n\t\t\t\t\tconst h = parent.height();\r\n\t\t\t\t\tconst w = parent.width();\r\n\t\t\t\t\tdisplay.moveTo(0, 0);\r\n\t\t\t\t\tdisplay.lineTo(w, 0);\r\n\t\t\t\t\tdisplay.lineTo(w, h);\r\n\t\t\t\t\tdisplay.lineTo(0, h);\r\n\t\t\t\t\tdisplay.lineTo(0, 0);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t{\r\n\t\t\tconst rule = r(\"Graphics\", [\"line\", \"series\", \"legend\", \"marker\", \"fill\"]).states.create(\"disabled\", {});\r\n\t\t\tsetColor(rule, \"stroke\", ic, \"disabled\");\r\n\t\t}\r\n\r\n\t\tr(\"SmoothedXYLineSeries\").setAll({\r\n\t\t\ttension: 0.5\r\n\t\t});\r\n\r\n\t\tr(\"SmoothedXLineSeries\").setAll({\r\n\t\t\ttension: 0.5\r\n\t\t});\r\n\r\n\t\tr(\"SmoothedYLineSeries\").setAll({\r\n\t\t\ttension: 0.5\r\n\t\t});\r\n\r\n\t\tr(\"Candlestick\").setAll({\r\n\t\t\tposition: \"absolute\",\r\n\t\t\tisMeasured: false,\r\n\t\t\twidth: percent(50),\r\n\t\t\theight: percent(50),\r\n\t\t\tstrokeWidth: 1,\r\n\t\t\tstrokeOpacity: 1,\r\n\t\t\tcornerRadiusBL: 0,\r\n\t\t\tcornerRadiusTL: 0,\r\n\t\t\tcornerRadiusBR: 0,\r\n\t\t\tcornerRadiusTR: 0,\r\n\t\t\tfillOpacity: 1,\r\n\t\t\trole: \"figure\"\r\n\t\t});\r\n\r\n\t\tr(\"OHLC\").setAll({\r\n\t\t\twidth: percent(80),\r\n\t\t\theight: percent(80)\r\n\t\t});\r\n\r\n\t\tr(\"CandlestickSeries\").setAll({\r\n\t\t\tlowValueXGrouped: \"low\",\r\n\t\t\tlowValueYGrouped: \"low\",\r\n\t\t\thighValueXGrouped: \"high\",\r\n\t\t\thighValueYGrouped: \"high\",\r\n\t\t\topenValueXGrouped: \"open\",\r\n\t\t\topenValueYGrouped: \"open\",\r\n\t\t\tvalueXGrouped: \"close\",\r\n\t\t\tvalueYGrouped: \"close\"\r\n\t\t})\r\n\r\n\t\t// These rules can be used for regular columns, too\r\n\t\t{\r\n\t\t\tconst rule = r(\"Rectangle\", [\"column\", \"autocolor\"]).states.create(\"riseFromOpen\", {});\r\n\t\t\tsetColor(rule, \"fill\", ic, \"positive\");\r\n\t\t\tsetColor(rule, \"stroke\", ic, \"positive\");\r\n\t\t}\r\n\r\n\t\t{\r\n\t\t\tconst rule = r(\"Rectangle\", [\"column\", \"autocolor\"]).states.create(\"dropFromOpen\", {});\r\n\t\t\tsetColor(rule, \"fill\", ic, \"negative\");\r\n\t\t\tsetColor(rule, \"stroke\", ic, \"negative\");\r\n\t\t}\r\n\r\n\t\t// Hollow\r\n\t\tr(\"Rectangle\", [\"column\", \"autocolor\", \"pro\"]).states.create(\"riseFromOpen\", { fillOpacity: 0 });\r\n\t\tr(\"Rectangle\", [\"column\", \"autocolor\", \"pro\"]).states.create(\"dropFromOpen\", { fillOpacity: 1 });\r\n\r\n\t\t{\r\n\t\t\tconst rule = r(\"Rectangle\", [\"column\", \"autocolor\", \"pro\"]).states.create(\"riseFromPrevious\", {});\r\n\t\t\tsetColor(rule, \"fill\", ic, \"positive\");\r\n\t\t\tsetColor(rule, \"stroke\", ic, \"positive\");\r\n\t\t}\r\n\r\n\t\t{\r\n\t\t\tconst rule = r(\"Rectangle\", [\"column\", \"autocolor\", \"pro\"]).states.create(\"dropFromPrevious\", {});\r\n\t\t\tsetColor(rule, \"fill\", ic, \"negative\");\r\n\t\t\tsetColor(rule, \"stroke\", ic, \"negative\");\r\n\t\t}\r\n\r\n\r\n\t\t// AXIS RANGE GRIP\r\n\t\t{\r\n\t\t\tconst rule = r(\"RoundedRectangle\", [\"rangegrip\"]);\r\n\r\n\t\t\trule.setAll({\r\n\t\t\t\tstrokeOpacity: 0,\r\n\t\t\t\tfillOpacity: 0,\r\n\t\t\t\tstrokeWidth: 1,\r\n\t\t\t\twidth: 12,\r\n\t\t\t\theight: 12\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\t{\r\n\t\t\tconst rule = r(\"Graphics\", [\"rangegrip\", \"button\", \"icon\"]);\r\n\r\n\t\t\trule.setAll({\r\n\t\t\t\tinteractive: false,\r\n\t\t\t\tcrisp: true,\r\n\t\t\t\tstrokeOpacity: 0.5,\r\n\t\t\t\tdraw: (display: any) => {\r\n\t\t\t\t\tdisplay.moveTo(0, 0.5);\r\n\t\t\t\t\tdisplay.lineTo(0, 12.5);\r\n\r\n\t\t\t\t\tdisplay.moveTo(2, 0.5);\r\n\t\t\t\t\tdisplay.lineTo(2, 12.5);\r\n\r\n\t\t\t\t\tdisplay.moveTo(4, 0.5);\r\n\t\t\t\t\tdisplay.lineTo(4, 12.5);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tsetColor(rule, \"stroke\", ic, \"secondaryButtonText\");\r\n\t\t}\r\n\r\n\t\tr(\"Button\", [\"rangegrip\"]).setAll({\r\n\t\t\tdraggable: true,\r\n\t\t\tpaddingTop: 0,\r\n\t\t\tpaddingBottom: 0\r\n\t\t})\r\n\r\n\t\tr(\"Button\", [\"rangegrip\", \"vertical\"]).setAll({\r\n\t\t\trotation: 90,\r\n\t\t\tcursorOverStyle: \"ns-resize\",\r\n\t\t\tcenterX: p50\r\n\t\t});\r\n\r\n\t\tr(\"Button\", [\"rangegrip\", \"horizontal\"]).setAll({\r\n\t\t\tcursorOverStyle: \"ew-resize\",\r\n\t\t\tcenterX: p50\r\n\t\t});\r\n\r\n\t\tr(\"Button\", [\"rangegrip\", \"vertical\", \"left\"]).setAll({\r\n\t\t\tcenterY: p100\r\n\t\t});\r\n\r\n\t\tr(\"Button\", [\"rangegrip\", \"vertical\", \"right\"]).setAll({\r\n\t\t\tcenterY: 0\r\n\t\t});\r\n\r\n\t\tr(\"Button\", [\"rangegrip\", \"horizontal\", \"top\"]).setAll({\r\n\t\t\tcenterY: 0\r\n\t\t});\r\n\r\n\t\tr(\"Button\", [\"rangegrip\", \"horizontal\", \"bottom\"]).setAll({\r\n\t\t\tcenterY: p100\r\n\t\t});\r\n\r\n\t}\r\n}\r\n","import type { Axis } from \"./axes/Axis\";\nimport type { XYCursor } from \"./XYCursor\";\nimport type { AxisRenderer } from \"./axes/AxisRenderer\";\nimport type { DataItem } from \"../../core/render/Component\";\nimport type { IDisposer } from \"../../core/util/Disposer\";\nimport type { XYSeries, IXYSeriesDataItem } from \"./series/XYSeries\";\nimport type { IPointerEvent } from \"../../core/render/backend/Renderer\";;\nimport type { Scrollbar } from \"../../core/render/Scrollbar\";\nimport type { Tooltip } from \"../../core/render/Tooltip\";\nimport type { IPoint } from \"../../core/util/IPoint\";\nimport type { ISpritePointerEvent } from \"../../core/render/Sprite\";\nimport type { Animation } from \"../../core/util/Entity\";\nimport type { CategoryAxis } from \"./axes/CategoryAxis\";\nimport type { DateAxis } from \"./axes/DateAxis\";\n\nimport { XYChartDefaultTheme } from \"./XYChartDefaultTheme\";\nimport { Container } from \"../../core/render/Container\";\nimport { Rectangle } from \"../../core/render/Rectangle\";\nimport { SerialChart, ISerialChartPrivate, ISerialChartSettings, ISerialChartEvents } from \"../../core/render/SerialChart\";\nimport { ListAutoDispose } from \"../../core/util/List\";\nimport { p100 } from \"../../core/util/Percent\";\nimport { Button } from \"../../core/render/Button\";\nimport { Graphics } from \"../../core/render/Graphics\";\nimport { Percent } from \"../../core/util/Percent\";\n\nimport * as $array from \"../../core/util/Array\";\nimport * as $type from \"../../core/util/Type\";\nimport * as $order from \"../../core/util/Order\";\nimport * as $object from \"../../core/util/Object\";\nimport * as $utils from \"../../core/util/Utils\";\nimport * as $math from \"../../core/util/Math\";\n\nexport interface IXYChartSettings extends ISerialChartSettings {\n\n\t/**\n\t * horizontal scrollbar.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/scrollbars/} for more info\n\t */\n\tscrollbarX?: Scrollbar;\n\n\t/**\n\t * Vertical scrollbar.\n\t *\n\t */\n\tscrollbarY?: Scrollbar;\n\n\t/**\n\t * If this is set to `true`, users will be able to pan the chart horizontally\n\t * by dragging plot area.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/zoom-and-pan/#Panning} for more info\n\t */\n\tpanX?: boolean;\n\n\t/**\n\t * If this is set to `true`, users will be able to pan the chart vertically\n\t * by dragging plot area.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/zoom-and-pan/#Panning} for more info\n\t */\n\tpanY?: boolean;\n\n\t/**\n\t * Indicates what happens when mouse wheel is spinned horizontally while over\n\t * plot area.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/zoom-and-pan/#Mouse_wheel_behavior} for more info\n\t */\n\twheelX?: \"zoomX\" | \"zoomY\" | \"zoomXY\" | \"panX\" | \"panY\" | \"panXY\" | \"none\";\n\n\t/**\n\t * Indicates what happens when mouse wheel is spinned vertically while over\n\t * plot area.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/zoom-and-pan/#Mouse_wheel_behavior} for more info\n\t */\n\twheelY?: \"zoomX\" | \"zoomY\" | \"zoomXY\" | \"panX\" | \"panY\" | \"panXY\" | \"none\";\n\n\t/**\n\t * Indicates the relative \"speed\" of the mouse wheel.\n\t *\n\t * @default 0.25\n\t */\n\twheelStep?: number;\n\n\t/**\n\t * Chart's cursor.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/cursor/} for more info\n\t */\n\tcursor?: XYCursor;\n\n\t/**\n\t * If not set (default), cursor will show tooltips for all data items in the\n\t * same category/date.\n\t *\n\t * If set, cursor will select closest data item to pointer (mouse or touch) and\n\t * show tooltip for it.\n\t *\n\t * It will also show tooltips for all data items that are within X pixels\n\t * range (as set in `maxTooltipDistance`).\n\t *\n\t * Tooltips for data items farther then X pixels, will not be shown.\n\t *\n\t * NOTE: set it to `-1` to ensure only one tooltip is displayed, even if there\n\t * are multiple data items in the same place.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/cursor/#tooltips} for more info\n\t */\n\tmaxTooltipDistance?: number;\n\n\t/**\n\t * Indicates how the distance should be measured when assessing distance\n\t * between tooltips as set in `maxTooltipDistance`.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/cursor/#tooltips} for more info\n\t * @since 5.2.6\n\t */\n\tmaxTooltipDistanceBy?: \"xy\" | \"x\" | \"y\";\n\n\t/**\n\t * If set to `false` the chart will not check for overlapping of multiple\n\t * tooltips, and will not arrange them to not overlap.\n\t *\n\t * Will work only if chart has an `XYCursor` enabled.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/cursor/#ooltips} for more info\n\t * @default true\n\t */\n\tarrangeTooltips?: boolean\n\n\t/**\n\t * If set to `true`, using pinch gesture on the chart's plot area will zoom\n\t * chart horizontally.\n\t *\n\t * NOTE: this setting is not supported in a [[RadarChart]].\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/zoom-and-pan/#Pinch_zoom} for more info\n\t * @since 5.1.8\n\t * @default false\n\t */\n\tpinchZoomX?: boolean;\n\n\t/**\n\t * If set to `true`, using pinch gesture on the chart's plot area will zoom\n\t * chart vertically.\n\t *\n\t * NOTE: this setting is not supported in a [[RadarChart]].\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/zoom-and-pan/#Pinch_zoom} for more info\n\t * @since 5.1.8\n\t * @default false\n\t */\n\tpinchZoomY?: boolean;\n\n\t/**\n\t * If set, will use this relative position as a \"center\" for mouse wheel\n\t * horizontal zooming instead of actual cursor position.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/zoom-and-pan/#Mouse_wheel_behavior} for more info\n\t * @since 5.2.11\n\t */\n\twheelZoomPositionX?: number;\n\n\t/**\n\t * If set, will use this relative position as a \"center\" for mouse wheel\n\t * vertical zooming instead of actual cursor position.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/zoom-and-pan/#Mouse_wheel_behavior} for more info\n\t * @since 5.2.11\n\t */\n\twheelZoomPositionY?: number;\n\n}\n\nexport interface IXYChartPrivate extends ISerialChartPrivate {\n\n\t/**\n\t * A list of [[Series]] that currently have their tooltip being displayed.\n\t */\n\ttooltipSeries?: Array<XYSeries>\n\n\t/**\n\t * Array of other [[XYChart]] objects that cursors should be synced with.\n\t *\n\t * Note: cursors will be synced across the vertically stacked charts only.\n\t */\n\totherCharts?: Array<XYChart>\n\n}\n\n\nexport interface IXYChartEvents extends ISerialChartEvents {\n\n\t/**\n\t * Invoked when panning starts.\n\t *\n\t * @since 5.0.4\n\t */\n\tpanstarted: {\n\t\toriginalEvent: IPointerEvent\n\t};\n\n\t/**\n\t * Invoked when panning ends.\n\t *\n\t * @since 5.0.4\n\t */\n\tpanended: {\n\t\toriginalEvent: IPointerEvent\n\t};\n\n\t/**\n\t * Invoked if pointer is pressed down on a chart and released without moving.\n\t *\n\t * `panended` event will still kick in after that.\n\t *\n\t * @since 5.2.19\n\t */\n\tpancancelled: {\n\t\toriginalEvent: IPointerEvent\n\t};\n\n\t/**\n\t * Invoked when wheel caused zoom ends.\n\t *\n\t * @since 5.0.4\n\t */\n\twheelended: {};\n\n}\n\n/**\n * Creates an XY chart.\n *\n * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/} for more info\n * @important\n */\nexport class XYChart extends SerialChart {\n\n\tpublic static className: string = \"XYChart\";\n\tpublic static classNames: Array<string> = SerialChart.classNames.concat([XYChart.className]);\n\n\tdeclare public _settings: IXYChartSettings;\n\tdeclare public _privateSettings: IXYChartPrivate;\n\tdeclare public _seriesType: XYSeries;\n\tdeclare public _events: IXYChartEvents;\n\n\t/**\n\t * A list of horizontal axes.\n\t */\n\tpublic readonly xAxes: ListAutoDispose<Axis<AxisRenderer>> = new ListAutoDispose();\n\n\t/**\n\t * A list of vertical axes.\n\t */\n\tpublic readonly yAxes: ListAutoDispose<Axis<AxisRenderer>> = new ListAutoDispose();\n\n\t/**\n\t * A [[Container]] located on top of the chart, used to store top horizontal\n\t * axes.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/xy-chart-containers/} for more info\n\t * @default Container.new()\n\t */\n\tpublic readonly topAxesContainer: Container = this.chartContainer.children.push(Container.new(this._root, { width: p100, layout: this._root.verticalLayout }));\n\n\t/**\n\t * A [[Container]] located in the middle the chart, used to store vertical axes\n\t * and plot area container.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/xy-chart-containers/} for more info\n\t * @default Container.new()\n\t */\n\tpublic readonly yAxesAndPlotContainer: Container = this.chartContainer.children.push(Container.new(this._root, { width: p100, height: p100, layout: this._root.horizontalLayout }));\n\n\t/**\n\t * A [[Container]] located on bottom of the chart, used to store bottom\n\t * horizontal axes.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/xy-chart-containers/} for more info\n\t * @default Container.new()\n\t */\n\tpublic readonly bottomAxesContainer: Container = this.chartContainer.children.push(Container.new(this._root, { width: p100, layout: this._root.verticalLayout }));\n\n\t/**\n\t * A [[Container]] located on left of the chart, used to store left-hand\n\t * vertical axes.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/xy-chart-containers/} for more info\n\t * @default Container.new()\n\t */\n\tpublic readonly leftAxesContainer: Container = this.yAxesAndPlotContainer.children.push(Container.new(this._root, { height: p100, layout: this._root.horizontalLayout }));\n\n\t/**\n\t * A [[Container]] located in the middle of the chart, used to store plotContainer and topPlotContainer\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/xy-chart-containers/} for more info\n\t * @default Container.new()\n\t */\n\tpublic readonly plotsContainer: Container = this.yAxesAndPlotContainer.children.push(Container.new(this._root, { width: p100, height: p100, maskContent: false }));\n\n\t/**\n\t * A [[Container]] located in the middle of the chart, used to store actual\n\t * plots (series).\n\t *\n\t * NOTE: `plotContainer` will automatically have its `background` preset. If\n\t * you need to modify background or outline for chart's plot area, you can\n\t * use `plotContainer.get(\"background\")` for that.*\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/xy-chart-containers/} for more info\n\t * @default Container.new()\n\t */\n\tpublic readonly plotContainer: Container = this.plotsContainer.children.push(Container.new(this._root, { width: p100, height: p100 }));\n\n\t/**\n\t * A [[Container]] used for any elements that need to be displayed over\n\t * regular `plotContainer`.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/xy-chart-containers/} for more info\n\t * @default Container.new()\n\t */\n\tpublic readonly topPlotContainer: Container = this.plotsContainer.children.push(Container.new(this._root, { width: p100, height: p100 }));\n\n\t/**\n\t * A [[Container]] axis grid elements are stored in.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/xy-chart-containers/} for more info\n\t * @default Container.new()\n\t */\n\tpublic readonly gridContainer: Container = this.plotContainer.children.push(Container.new(this._root, { width: p100, height: p100, isMeasured: false }));\n\n\t/**\n\t * A [[Container]] axis background grid elements are stored in.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/xy-chart-containers/} for more info\n\t * @default Container.new()\n\t */\n\tpublic readonly topGridContainer: Container = Container.new(this._root, { width: p100, height: p100, isMeasured: false });\n\n\t/**\n\t * A [[Container]] located on right of the chart, used to store right-hand\n\t * vertical axes.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/xy-chart-containers/} for more info\n\t * @default Container.new()\n\t */\n\tpublic readonly rightAxesContainer: Container = this.yAxesAndPlotContainer.children.push(Container.new(this._root, { height: p100, layout: this._root.horizontalLayout }));\n\n\t/**\n\t * A [[Container]] axis headers are stored in.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/axes/axis-headers/} for more info\n\t * @default Container.new()\n\t */\n\tpublic readonly axisHeadersContainer: Container = this.plotContainer.children.push(Container.new(this._root, {}));\n\n\t/**\n\t * A button that is shown when chart is not fully zoomed out.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/zoom-and-pan/#Zoom_out_button} for more info\n\t * @default Button.new()\n\t */\n\tpublic readonly zoomOutButton: Button = this.topPlotContainer.children.push(Button.new(this._root, {\n\t\tthemeTags: [\"zoom\"],\n\t\ticon: Graphics.new(this._root, {\n\t\t\tthemeTags: [\"button\", \"icon\"]\n\t\t})\n\t}));\n\n\tpublic _movePoint: IPoint = { x: 0, y: 0 };\n\n\tprotected _wheelDp: IDisposer | undefined;\n\n\tpublic _otherCharts?: Array<XYChart>;\n\n\tprotected _movePoints: { [index: number]: IPoint } = {};\n\n\tprotected _downStartX?: number;\n\tprotected _downEndX?: number;\n\n\tprotected _downStartY?: number;\n\tprotected _downEndY?: number;\n\n\tprotected _afterNew() {\n\t\tthis._defaultThemes.push(XYChartDefaultTheme.new(this._root));\n\n\t\tsuper._afterNew();\n\n\t\tthis._disposers.push(this.xAxes);\n\t\tthis._disposers.push(this.yAxes);\n\n\t\tconst root = this._root;\n\n\t\tlet verticalLayout = this._root.verticalLayout;\n\n\t\tconst zoomOutButton = this.zoomOutButton;\n\t\tzoomOutButton.events.on(\"click\", () => {\n\t\t\tthis.zoomOut();\n\t\t})\n\t\tzoomOutButton.hide(0);\n\t\tzoomOutButton.states.lookup(\"default\")!.set(\"opacity\", 1);\n\n\t\tthis.chartContainer.set(\"layout\", verticalLayout);\n\n\t\tconst plotContainer = this.plotContainer;\n\t\tplotContainer.children.push(this.seriesContainer);\n\n\t\tthis._disposers.push(this._processAxis(this.xAxes, this.bottomAxesContainer));\n\t\tthis._disposers.push(this._processAxis(this.yAxes, this.leftAxesContainer));\n\n\n\t\tplotContainer.children.push(this.topGridContainer);\n\t\tplotContainer.children.push(this.bulletsContainer);\n\n\t\t// Setting trasnparent background so that full body of the plot container\n\t\t// is interactive\n\t\tplotContainer.set(\"interactive\", true);\n\t\tplotContainer.set(\"interactiveChildren\", false);\n\t\tplotContainer.set(\"background\", Rectangle.new(root, {\n\t\t\tthemeTags: [\"plotbackground\", \"xy\", \"background\"]\n\t\t}));\n\n\t\tthis._disposers.push(plotContainer.events.on(\"pointerdown\", (event) => {\n\t\t\tthis._handlePlotDown(event);\n\t\t}));\n\n\t\tthis._disposers.push(plotContainer.events.on(\"globalpointerup\", (event) => {\n\t\t\tthis._handlePlotUp(event);\n\t\t}));\n\n\t\tthis._disposers.push(plotContainer.events.on(\"globalpointermove\", (event) => {\n\t\t\tthis._handlePlotMove(event);\n\t\t}));\n\n\t\tthis._maskGrid();\n\t\tthis._setUpTouch();\n\t}\n\n\tpublic _beforeChanged() {\n\t\tsuper._beforeChanged();\n\n\t\tif (this.isDirty(\"pinchZoomX\") || this.isDirty(\"pinchZoomY\") || this.get(\"panX\") || this.get(\"panY\")) {\n\t\t\tthis._setUpTouch();\n\t\t}\n\n\t}\n\n\tprotected _setUpTouch(): void {\n\t\tif (!this.plotContainer._display.cancelTouch) {\n\t\t\tthis.plotContainer._display.cancelTouch = (this.get(\"pinchZoomX\") || this.get(\"pinchZoomY\") || this.get(\"panX\") || this.get(\"panY\")) ? true : false;\n\t\t}\n\t}\n\n\tprotected _maskGrid() {\n\t\tthis.gridContainer.set(\"maskContent\", true);\n\t\tthis.topGridContainer.set(\"maskContent\", true);\n\t}\n\n\tprotected _removeSeries(series: this[\"_seriesType\"]) {\n\t\tseries._unstack();\n\n\t\tif (series._posXDp) {\n\t\t\tseries._posXDp.dispose();\n\t\t}\n\n\t\tif (series._posYDp) {\n\t\t\tseries._posYDp.dispose();\n\t\t}\n\n\t\tseries.set(\"baseAxis\", undefined);\n\n\t\tconst xAxis = series.get(\"xAxis\");\n\t\tif (xAxis) {\n\t\t\t$array.remove(xAxis.series, series);\n\t\t\txAxis.markDirtyExtremes();\n\t\t}\n\t\tconst yAxis = series.get(\"yAxis\");\n\t\tif (yAxis) {\n\t\t\t$array.remove(yAxis.series, series);\n\t\t\tyAxis.markDirtyExtremes();\n\t\t}\n\n\t\tconst cursor = this.get(\"cursor\");\n\t\tif (cursor) {\n\t\t\tconst snapToSeries = cursor.get(\"snapToSeries\");\n\t\t\tif (snapToSeries) {\n\t\t\t\t$array.remove(snapToSeries, series);\n\t\t\t}\n\t\t}\n\n\t\tsuper._removeSeries(series);\n\t}\n\n\t/**\n\t * This method is invoked when mouse wheel is used over chart's plot\n\t * container, and handles zooming/pan.\n\t *\n\t * You can invoke this method manually, if you need to mimic chart's wheel\n\t * behavior over other elements of the chart.\n\t */\n\tpublic handleWheel(event: { originalEvent: WheelEvent, point: IPoint, target: Container }) {\n\t\tconst wheelX = this.get(\"wheelX\");\n\t\tconst wheelY = this.get(\"wheelY\");\n\t\tconst plotContainer = this.plotContainer;\n\n\t\tconst wheelEvent = event.originalEvent;\n\n\t\t// Ignore wheel event if it is happening on a non-chart element, e.g. if\n\t\t// some page element is over the chart.\n\t\tlet prevent = false;\n\t\tif ($utils.isLocalEvent(wheelEvent, this)) {\n\t\t\tprevent = true;\n\t\t}\n\t\telse {\n\t\t\treturn;\n\t\t}\n\n\t\tconst plotPoint = plotContainer.toLocal(event.point);\n\t\tconst wheelStep = this.get(\"wheelStep\", 0.2);\n\n\t\tconst shiftY = wheelEvent.deltaY / 100;\n\t\tconst shiftX = wheelEvent.deltaX / 100;\n\n\t\tconst wheelZoomPositionX = this.get(\"wheelZoomPositionX\");\n\t\tconst wheelZoomPositionY = this.get(\"wheelZoomPositionY\");\n\n\n\t\tif ((wheelX === \"zoomX\" || wheelX === \"zoomXY\") && shiftX != 0) {\n\t\t\tthis.xAxes.each((axis) => {\n\t\t\t\tif (axis.get(\"zoomX\")) {\n\t\t\t\t\tlet start = axis.get(\"start\")!;\n\t\t\t\t\tlet end = axis.get(\"end\")!;\n\n\t\t\t\t\tlet position = axis.fixPosition(plotPoint.x / plotContainer.width());\n\n\t\t\t\t\tif (wheelZoomPositionX != null) {\n\t\t\t\t\t\tposition = wheelZoomPositionX;\n\t\t\t\t\t}\n\n\t\t\t\t\tlet maxDeviation = axis.get(\"maxDeviation\", 0);\n\n\t\t\t\t\tlet newStart = Math.min(1 + maxDeviation, Math.max(-maxDeviation, start - wheelStep * (end - start) * shiftX * position));\n\t\t\t\t\tlet newEnd = Math.max(-maxDeviation, Math.min(1 + maxDeviation, end + wheelStep * (end - start) * shiftX * (1 - position)));\n\n\t\t\t\t\tif (newStart == start && newEnd == end) {\n\t\t\t\t\t\tprevent = false;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (1 / (newEnd - newStart) < axis.getPrivate(\"maxZoomFactor\", Infinity) / axis.get(\"minZoomCount\", 1)) {\n\t\t\t\t\t\tthis._handleWheelAnimation(axis.zoom(newStart, newEnd));\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tprevent = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\n\t\tif ((wheelY === \"zoomX\" || wheelY === \"zoomXY\") && shiftY != 0) {\n\t\t\tthis.xAxes.each((axis) => {\n\t\t\t\tif (axis.get(\"zoomX\")) {\n\t\t\t\t\tlet start = axis.get(\"start\")!;\n\t\t\t\t\tlet end = axis.get(\"end\")!;\n\n\t\t\t\t\tlet position = axis.fixPosition(plotPoint.x / plotContainer.width());\n\n\t\t\t\t\tif (wheelZoomPositionX != null) {\n\t\t\t\t\t\tposition = wheelZoomPositionX;\n\t\t\t\t\t}\n\n\t\t\t\t\tlet maxDeviation = axis.get(\"maxDeviation\", 0);\n\n\t\t\t\t\tlet newStart = Math.min(1 + maxDeviation, Math.max(-maxDeviation, start - wheelStep * (end - start) * shiftY * position));\n\t\t\t\t\tlet newEnd = Math.max(-maxDeviation, Math.min(1 + maxDeviation, end + wheelStep * (end - start) * shiftY * (1 - position)));\n\n\t\t\t\t\tif (newStart == start && newEnd == end) {\n\t\t\t\t\t\tprevent = false;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (1 / (newEnd - newStart) < axis.getPrivate(\"maxZoomFactor\", Infinity) / axis.get(\"minZoomCount\", 1)) {\n\t\t\t\t\t\tthis._handleWheelAnimation(axis.zoom(newStart, newEnd));\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tprevent = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\n\n\t\tif ((wheelX === \"zoomY\" || wheelX === \"zoomXY\") && shiftX != 0) {\n\t\t\tthis.yAxes.each((axis) => {\n\t\t\t\tif (axis.get(\"zoomY\")) {\n\t\t\t\t\tlet start = axis.get(\"start\")!;\n\t\t\t\t\tlet end = axis.get(\"end\")!;\n\n\t\t\t\t\tlet position = axis.fixPosition(plotPoint.y / plotContainer.height());\n\n\t\t\t\t\tif (wheelZoomPositionY != null) {\n\t\t\t\t\t\tposition = wheelZoomPositionY;\n\t\t\t\t\t}\n\n\t\t\t\t\tlet maxDeviation = axis.get(\"maxDeviation\", 0);\n\n\t\t\t\t\tlet newStart = Math.min(1 + maxDeviation, Math.max(-maxDeviation, start - wheelStep * (end - start) * shiftX * position));\n\t\t\t\t\tlet newEnd = Math.max(-maxDeviation, Math.min(1 + maxDeviation, end + wheelStep * (end - start) * shiftX * (1 - position)));\n\n\t\t\t\t\tif (newStart == start && newEnd == end) {\n\t\t\t\t\t\tprevent = false;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (1 / (newEnd - newStart) < axis.getPrivate(\"maxZoomFactor\", Infinity) / axis.get(\"minZoomCount\", 1)) {\n\t\t\t\t\t\tthis._handleWheelAnimation(axis.zoom(newStart, newEnd));\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tprevent = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\n\t\tif ((wheelY === \"zoomY\" || wheelY === \"zoomXY\") && shiftY != 0) {\n\t\t\tthis.yAxes.each((axis) => {\n\t\t\t\tif (axis.get(\"zoomY\")) {\n\t\t\t\t\tlet start = axis.get(\"start\")!;\n\t\t\t\t\tlet end = axis.get(\"end\")!;\n\n\t\t\t\t\tlet position = axis.fixPosition(plotPoint.y / plotContainer.height());\n\n\t\t\t\t\tif (wheelZoomPositionY != null) {\n\t\t\t\t\t\tposition = wheelZoomPositionY;\n\t\t\t\t\t}\n\n\t\t\t\t\tlet maxDeviation = axis.get(\"maxDeviation\", 0);\n\n\t\t\t\t\tlet newStart = Math.min(1 + maxDeviation, Math.max(-maxDeviation, start - wheelStep * (end - start) * shiftY * position));\n\t\t\t\t\tlet newEnd = Math.max(-maxDeviation, Math.min(1 + maxDeviation, end + wheelStep * (end - start) * shiftY * (1 - position)));\n\n\t\t\t\t\tif (newStart == start && newEnd == end) {\n\t\t\t\t\t\tprevent = false;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (1 / (newEnd - newStart) < axis.getPrivate(\"maxZoomFactor\", Infinity) / axis.get(\"minZoomCount\", 1)) {\n\t\t\t\t\t\tthis._handleWheelAnimation(axis.zoom(newStart, newEnd));\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tprevent = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\n\n\t\tif ((wheelX === \"panX\" || wheelX === \"panXY\") && shiftX != 0) {\n\t\t\tthis.xAxes.each((axis) => {\n\t\t\t\tif (axis.get(\"panX\")) {\n\t\t\t\t\tlet start = axis.get(\"start\")!;\n\t\t\t\t\tlet end = axis.get(\"end\")!;\n\n\t\t\t\t\tlet delta = this._getWheelSign(axis) * wheelStep * (end - start) * shiftX;\n\t\t\t\t\tlet newStart = start + delta;\n\t\t\t\t\tlet newEnd = end + delta;\n\n\t\t\t\t\tlet se = this._fixWheel(newStart, newEnd);\n\t\t\t\t\tnewStart = se[0];\n\t\t\t\t\tnewEnd = se[1];\n\n\t\t\t\t\tif (newStart == start && newEnd == end) {\n\t\t\t\t\t\tprevent = false;\n\t\t\t\t\t}\n\n\t\t\t\t\tthis._handleWheelAnimation(axis.zoom(newStart, newEnd));\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\n\t\tif ((wheelY === \"panX\" || wheelY === \"panXY\") && shiftY != 0) {\n\t\t\tthis.xAxes.each((axis) => {\n\t\t\t\tif (axis.get(\"panX\")) {\n\t\t\t\t\tlet start = axis.get(\"start\")!;\n\t\t\t\t\tlet end = axis.get(\"end\")!;\n\n\t\t\t\t\tlet delta = this._getWheelSign(axis) * wheelStep * (end - start) * shiftY;\n\t\t\t\t\tlet newStart = start + delta;\n\t\t\t\t\tlet newEnd = end + delta;\n\n\t\t\t\t\tlet se = this._fixWheel(newStart, newEnd);\n\t\t\t\t\tnewStart = se[0];\n\t\t\t\t\tnewEnd = se[1];\n\n\t\t\t\t\tif (newStart == start && newEnd == end) {\n\t\t\t\t\t\tprevent = false;\n\t\t\t\t\t}\n\n\t\t\t\t\tthis._handleWheelAnimation(axis.zoom(newStart, newEnd));\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\n\t\tif ((wheelX === \"panY\" || wheelX === \"panXY\") && shiftX != 0) {\n\t\t\tthis.yAxes.each((axis) => {\n\t\t\t\tif (axis.get(\"panY\")) {\n\t\t\t\t\tlet start = axis.get(\"start\")!;\n\t\t\t\t\tlet end = axis.get(\"end\")!;\n\n\t\t\t\t\tlet delta = this._getWheelSign(axis) * wheelStep * (end - start) * shiftX;\n\t\t\t\t\tlet newStart = start + delta;\n\t\t\t\t\tlet newEnd = end + delta;\n\n\t\t\t\t\tlet se = this._fixWheel(newStart, newEnd);\n\t\t\t\t\tnewStart = se[0];\n\t\t\t\t\tnewEnd = se[1];\n\n\t\t\t\t\tif (newStart == start && newEnd == end) {\n\t\t\t\t\t\tprevent = false;\n\t\t\t\t\t}\n\n\t\t\t\t\tthis._handleWheelAnimation(axis.zoom(newStart, newEnd));\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\n\t\tif ((wheelY === \"panY\" || wheelY === \"panXY\") && shiftY != 0) {\n\t\t\tthis.yAxes.each((axis) => {\n\t\t\t\tif (axis.get(\"panY\")) {\n\t\t\t\t\tlet start = axis.get(\"start\")!;\n\t\t\t\t\tlet end = axis.get(\"end\")!;\n\n\t\t\t\t\tlet delta = this._getWheelSign(axis) * wheelStep * (end - start) * shiftY;\n\t\t\t\t\tlet newStart = start - delta;\n\t\t\t\t\tlet newEnd = end - delta;\n\n\t\t\t\t\tlet se = this._fixWheel(newStart, newEnd);\n\t\t\t\t\tnewStart = se[0];\n\t\t\t\t\tnewEnd = se[1];\n\n\t\t\t\t\tif (newStart == start && newEnd == end) {\n\t\t\t\t\t\tprevent = false;\n\t\t\t\t\t}\n\n\t\t\t\t\tthis._handleWheelAnimation(axis.zoom(newStart, newEnd));\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\n\t\tif (prevent) {\n\t\t\twheelEvent.preventDefault();\n\t\t}\n\t}\n\n\tprotected _handleSetWheel() {\n\t\tconst wheelX = this.get(\"wheelX\");\n\t\tconst wheelY = this.get(\"wheelY\");\n\t\tconst plotContainer = this.plotContainer;\n\n\t\tif (wheelX !== \"none\" || wheelY !== \"none\") {\n\t\t\tthis._wheelDp = plotContainer.events.on(\"wheel\", (event) => {\n\t\t\t\tconst wheelEvent = event.originalEvent;\n\t\t\t\tif ((wheelX !== \"none\" && Math.abs(wheelEvent.deltaX) != 0) || (wheelY !== \"none\" && Math.abs(wheelEvent.deltaY) != 0)) {\n\t\t\t\t\tthis.handleWheel(event);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis._disposers.push(this._wheelDp);\n\t\t}\n\t\telse {\n\t\t\tif (this._wheelDp) {\n\t\t\t\tthis._wheelDp.dispose();\n\t\t\t}\n\t\t}\n\t}\n\n\tprotected _getWheelSign(axis: Axis<AxisRenderer>) {\n\t\tlet sign = 1;\n\t\tif (axis.get(\"renderer\").get(\"inversed\")) {\n\t\t\tsign = -1;\n\t\t}\n\n\t\treturn sign\n\t}\n\n\tprotected _fixWheel(start: number, end: number): [number, number] {\n\t\tconst diff = end - start;\n\t\tif (start < 0) {\n\t\t\tstart = 0;\n\t\t\tend = start + diff;\n\t\t}\n\t\tif (end > 1) {\n\t\t\tend = 1;\n\t\t\tstart = end - diff;\n\t\t}\n\n\t\treturn [start, end];\n\t}\n\n\tprotected _handlePlotDown(event: ISpritePointerEvent) {\n\t\tconst originalEvent = event.originalEvent as any;\n\n\t\tif (originalEvent.button == 2) {\n\t\t\treturn;\n\t\t}\n\t\tconst plotContainer = this.plotContainer;\n\t\tlet local = plotContainer.toLocal(event.point);\n\n\t\tif (this.get(\"pinchZoomX\") || this.get(\"pinchZoomY\")) {\n\t\t\tconst pointerId = originalEvent.pointerId;\n\n\t\t\tif (pointerId) {\n\n\t\t\t\tif ($object.keys(plotContainer._downPoints).length > 0) {\n\t\t\t\t\tconst xAxis = this.xAxes.getIndex(0);\n\t\t\t\t\tconst yAxis = this.yAxes.getIndex(0);\n\n\n\t\t\t\t\tif (xAxis) {\n\t\t\t\t\t\tthis._downStartX = xAxis.get(\"start\", 0);\n\t\t\t\t\t\tthis._downEndX = xAxis.get(\"end\", 1);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (yAxis) {\n\t\t\t\t\t\tthis._downStartY = yAxis.get(\"start\", 0);\n\t\t\t\t\t\tthis._downEndY = yAxis.get(\"end\", 1);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (this.get(\"panX\") || this.get(\"panY\")) {\n\n\t\t\tif (local.x >= 0 && local.y >= 0 && local.x <= plotContainer.width() && local.y <= this.height()) {\n\t\t\t\t//this._downPoint = local;\n\t\t\t\tthis._downPoint = { x: originalEvent.clientX, y: originalEvent.clientY };\n\n\t\t\t\tconst panX = this.get(\"panX\");\n\t\t\t\tconst panY = this.get(\"panY\");\n\n\t\t\t\tif (panX) {\n\t\t\t\t\tthis.xAxes.each((axis) => {\n\t\t\t\t\t\taxis._panStart = axis.get(\"start\")!;\n\t\t\t\t\t\taxis._panEnd = axis.get(\"end\")!;\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t\tif (panY) {\n\t\t\t\t\tthis.yAxes.each((axis) => {\n\t\t\t\t\t\taxis._panStart = axis.get(\"start\")!;\n\t\t\t\t\t\taxis._panEnd = axis.get(\"end\")!;\n\t\t\t\t\t})\n\t\t\t\t}\n\n\t\t\t\tconst eventType = \"panstarted\";\n\t\t\t\tif (this.events.isEnabled(eventType)) {\n\t\t\t\t\tthis.events.dispatch(eventType, { type: eventType, target: this, originalEvent: event.originalEvent });\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tprotected _handleWheelAnimation(animation?: Animation<any>) {\n\t\tif (animation) {\n\t\t\tanimation.events.on(\"stopped\", () => {\n\t\t\t\tthis._dispatchWheelAnimation();\n\t\t\t})\n\t\t}\n\t\telse {\n\t\t\tthis._dispatchWheelAnimation();\n\t\t}\n\t}\n\n\tprotected _dispatchWheelAnimation() {\n\t\tconst eventType = \"wheelended\";\n\t\tif (this.events.isEnabled(eventType)) {\n\t\t\tthis.events.dispatch(eventType, { type: eventType, target: this });\n\t\t}\n\t}\n\n\tprotected _handlePlotUp(event: ISpritePointerEvent) {\n\t\tconst downPoint = this._downPoint;\n\t\tif (downPoint) {\n\t\t\tif (this.get(\"panX\") || this.get(\"panY\")) {\n\t\t\t\tif (event.originalEvent.clientX == downPoint.x && event.originalEvent.clientY == downPoint.y) {\n\t\t\t\t\tconst eventType = \"pancancelled\";\n\t\t\t\t\tif (this.events.isEnabled(eventType)) {\n\t\t\t\t\t\tthis.events.dispatch(eventType, { type: eventType, target: this, originalEvent: event.originalEvent });\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tconst eventType = \"panended\";\n\t\t\t\tif (this.events.isEnabled(eventType)) {\n\t\t\t\t\tthis.events.dispatch(eventType, { type: eventType, target: this, originalEvent: event.originalEvent });\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// TODO: handle multitouch\n\t\tthis._downPoint = undefined;\n\t\tthis.xAxes.each((xAxis) => {\n\t\t\txAxis._isPanning = false;\n\t\t})\n\t\tthis.yAxes.each((yAxis) => {\n\t\t\tyAxis._isPanning = false;\n\t\t})\n\t}\n\n\tprotected _handlePlotMove(event: ISpritePointerEvent) {\n\t\tconst plotContainer = this.plotContainer;\n\n\t\tif (this.get(\"pinchZoomX\") || this.get(\"pinchZoomY\")) {\n\t\t\tconst touchEvent = event.originalEvent as any;\n\t\t\tconst pointerId = touchEvent.pointerId;\n\n\t\t\tif (pointerId) {\n\t\t\t\tthis._movePoints[pointerId] = event.point;\n\n\t\t\t\tif ($object.keys(plotContainer._downPoints).length > 1) {\n\t\t\t\t\tthis._handlePinch();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tlet downPoint = this._downPoint!;\n\n\t\tif (downPoint) {\n\n\t\t\tdownPoint = plotContainer.toLocal(this._root.documentPointToRoot(downPoint));\n\t\t\tlet local = plotContainer.toLocal(event.point);\n\n\t\t\tconst panX = this.get(\"panX\");\n\t\t\tconst panY = this.get(\"panY\");\n\n\t\t\tif (panX) {\n\n\t\t\t\tlet scrollbarX = this.get(\"scrollbarX\");\n\t\t\t\tif (scrollbarX) {\n\t\t\t\t\tscrollbarX.events.disableType(\"rangechanged\");\n\t\t\t\t}\n\n\t\t\t\tthis.xAxes.each((axis) => {\n\t\t\t\t\tif (axis.get(\"panX\")) {\n\t\t\t\t\t\taxis._isPanning = true;\n\t\t\t\t\t\t//const maxDeviation = axis.get(\"maxDeviation\", 0);\n\t\t\t\t\t\tlet panStart = axis._panStart;\n\t\t\t\t\t\tlet panEnd = axis._panEnd;\n\t\t\t\t\t\tlet difference = (panEnd - panStart);\n\t\t\t\t\t\tlet deltaX = difference * (downPoint.x - local.x) / plotContainer.width();\n\n\t\t\t\t\t\tif (axis.get(\"renderer\").get(\"inversed\")) {\n\t\t\t\t\t\t\tdeltaX *= -1;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tlet start = panStart + deltaX;\n\t\t\t\t\t\tlet end = panEnd + deltaX;\n\n\t\t\t\t\t\tif (end - start < 1 + axis.get(\"maxDeviation\", 1) * 2) {\n\t\t\t\t\t\t\taxis.set(\"start\", start);\n\t\t\t\t\t\t\taxis.set(\"end\", end);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\tif (scrollbarX) {\n\t\t\t\t\tscrollbarX.events.enableType(\"rangechanged\");\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (panY) {\n\n\t\t\t\tlet scrollbarY = this.get(\"scrollbarY\");\n\t\t\t\tif (scrollbarY) {\n\t\t\t\t\tscrollbarY.events.disableType(\"rangechanged\");\n\t\t\t\t}\n\n\t\t\t\tthis.yAxes.each((axis) => {\n\t\t\t\t\tif (axis.get(\"panY\")) {\n\t\t\t\t\t\taxis._isPanning = true;\n\t\t\t\t\t\t//const maxDeviation = axis.get(\"maxDeviation\", 0);\n\n\t\t\t\t\t\tlet panStart = axis._panStart;\n\t\t\t\t\t\tlet panEnd = axis._panEnd;\n\t\t\t\t\t\tlet difference = (panEnd - panStart);\n\t\t\t\t\t\tlet deltaY = difference * (downPoint.y - local.y) / plotContainer.height();\n\t\t\t\t\t\tif (axis.get(\"renderer\").get(\"inversed\")) {\n\t\t\t\t\t\t\tdeltaY *= -1;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tlet start = panStart - deltaY;\n\t\t\t\t\t\tlet end = panEnd - deltaY;\n\n\t\t\t\t\t\tif (end - start < 1 + axis.get(\"maxDeviation\", 1) * 2) {\n\t\t\t\t\t\t\taxis.set(\"start\", start);\n\t\t\t\t\t\t\taxis.set(\"end\", end);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t})\n\n\t\t\t\tif (scrollbarY) {\n\t\t\t\t\tscrollbarY.events.enableType(\"rangechanged\");\n\t\t\t\t}\n\t\t\t}\n\n\n\t\t}\n\t}\n\n\tprotected _handlePinch() {\n\t\tconst plotContainer = this.plotContainer;\n\t\tlet i = 0;\n\t\tlet downPoints: Array<IPoint> = [];\n\t\tlet movePoints: Array<IPoint> = [];\n\n\t\t$object.each(plotContainer._downPoints, (k, point) => {\n\t\t\tdownPoints[i] = point;\n\t\t\tlet movePoint = this._movePoints[k];\n\t\t\tif (movePoint) {\n\t\t\t\tmovePoints[i] = movePoint;\n\t\t\t}\n\t\t\ti++;\n\t\t});\n\n\t\tif (downPoints.length > 1 && movePoints.length > 1) {\n\t\t\tconst w = plotContainer.width();\n\t\t\tconst h = plotContainer.height();\n\n\t\t\tlet downPoint0 = downPoints[0];\n\t\t\tlet downPoint1 = downPoints[1];\n\n\t\t\tlet movePoint0 = movePoints[0];\n\t\t\tlet movePoint1 = movePoints[1];\n\n\t\t\tif (downPoint0 && downPoint1 && movePoint0 && movePoint1) {\n\n\t\t\t\tmovePoint0 = plotContainer.toLocal(movePoint0)\n\t\t\t\tmovePoint1 = plotContainer.toLocal(movePoint1)\n\n\t\t\t\tdownPoint0 = plotContainer.toLocal(downPoint0)\n\t\t\t\tdownPoint1 = plotContainer.toLocal(downPoint1)\n\n\t\t\t\tif (this.get(\"pinchZoomX\")) {\n\t\t\t\t\tconst downStartX = this._downStartX;\n\t\t\t\t\tconst downEndX = this._downEndX;\n\n\t\t\t\t\tif (downStartX != null && downEndX != null) {\n\n\t\t\t\t\t\tif (downPoint0.x > downPoint1.x) {\n\t\t\t\t\t\t\t[downPoint0, downPoint1] = [downPoint1, downPoint0];\n\t\t\t\t\t\t\t[movePoint0, movePoint1] = [movePoint1, movePoint0];\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tlet downPos0 = downStartX + (downPoint0.x / w) * (downEndX - downStartX);\n\t\t\t\t\t\tlet downPos1 = downStartX + (downPoint1.x / w) * (downEndX - downStartX);\n\n\t\t\t\t\t\tlet movePos0 = downStartX + (movePoint0.x / w) * (downEndX - downStartX);\n\t\t\t\t\t\tlet movePos1 = downStartX + (movePoint1.x / w) * (downEndX - downStartX);\n\n\t\t\t\t\t\tlet initialDistance = Math.max(0.001, downPos1 - downPos0);\n\t\t\t\t\t\tlet currentDistance = Math.max(0.001, movePos1 - movePos0);\n\n\n\t\t\t\t\t\tlet d = initialDistance / currentDistance;\n\n\t\t\t\t\t\tlet s = downStartX * d + downPos0 - movePos0 * d;\n\t\t\t\t\t\tlet e = downEndX * d + downPos1 - movePos1 * d;\n\n\t\t\t\t\t\tthis.xAxes.each((xAxis) => {\n\t\t\t\t\t\t\tlet sa = xAxis.fixPosition(s);\n\t\t\t\t\t\t\tlet ea = xAxis.fixPosition(e);\n\n\t\t\t\t\t\t\txAxis.zoom(sa, ea, 0);\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (this.get(\"pinchZoomY\")) {\n\t\t\t\t\tconst downStartY = this._downStartY;\n\t\t\t\t\tconst downEndY = this._downEndY;\n\n\t\t\t\t\tif (downStartY != null && downEndY != null) {\n\n\t\t\t\t\t\tif (downPoint0.y < downPoint1.y) {\n\t\t\t\t\t\t\t[downPoint0, downPoint1] = [downPoint1, downPoint0];\n\t\t\t\t\t\t\t[movePoint0, movePoint1] = [movePoint1, movePoint0];\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tlet downPos0 = downStartY + (1 - downPoint0.y / h) * (downEndY - downStartY);\n\t\t\t\t\t\tlet downPos1 = downStartY + (1 - downPoint1.y / h) * (downEndY - downStartY);\n\n\t\t\t\t\t\tlet movePos0 = downStartY + (1 - movePoint0.y / h) * (downEndY - downStartY);\n\t\t\t\t\t\tlet movePos1 = downStartY + (1 - movePoint1.y / h) * (downEndY - downStartY);\n\n\t\t\t\t\t\tlet initialDistance = Math.max(0.001, downPos1 - downPos0);\n\t\t\t\t\t\tlet currentDistance = Math.max(0.001, movePos1 - movePos0);\n\n\t\t\t\t\t\tlet d = initialDistance / currentDistance;\n\n\t\t\t\t\t\tlet s = downStartY * d + downPos0 - movePos0 * d;\n\t\t\t\t\t\tlet e = downEndY * d + downPos1 - movePos1 * d;\n\n\t\t\t\t\t\tthis.yAxes.each((yAxis) => {\n\n\t\t\t\t\t\t\tlet sa = yAxis.fixPosition(s);\n\t\t\t\t\t\t\tlet ea = yAxis.fixPosition(e);\n\n\t\t\t\t\t\t\tyAxis.zoom(sa, ea, 0);\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tpublic _handleCursorPosition() {\n\t\tconst cursor = this.get(\"cursor\");\n\t\tif (cursor) {\n\t\t\tconst cursorPoint = cursor.getPrivate(\"point\");\n\n\t\t\tlet snapToSeries = cursor.get(\"snapToSeries\");\n\n\t\t\tif (cursor._downPoint) {\n\t\t\t\tsnapToSeries = undefined;\n\t\t\t}\n\n\t\t\tif (snapToSeries && cursorPoint) {\n\t\t\t\tconst snapToSeriesBy = cursor.get(\"snapToSeriesBy\");\n\t\t\t\tconst dataItems: Array<DataItem<IXYSeriesDataItem>> = [];\n\t\t\t\t$array.each(snapToSeries, (series) => {\n\t\t\t\t\tif (!series.isHidden() && !series.isHiding()) {\n\t\t\t\t\t\tif (snapToSeriesBy != \"x!\" && snapToSeriesBy != \"y!\") {\n\t\t\t\t\t\t\tconst startIndex = series.startIndex();\n\t\t\t\t\t\t\tconst endIndex = series.endIndex();\n\t\t\t\t\t\t\tfor (let i = startIndex; i < endIndex; i++) {\n\t\t\t\t\t\t\t\tconst dataItem = series.dataItems[i];\n\t\t\t\t\t\t\t\tif (dataItem && !dataItem.isHidden()) {\n\t\t\t\t\t\t\t\t\tdataItems.push(dataItem);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tconst tooltipDataItem = series.get(\"tooltipDataItem\");\n\t\t\t\t\t\t\tif (tooltipDataItem) {\n\t\t\t\t\t\t\t\tdataItems.push(tooltipDataItem);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t})\n\n\t\t\t\tlet minDistance = Infinity;\n\t\t\t\tlet closestItem: DataItem<IXYSeriesDataItem> | undefined;\n\n\t\t\t\t$array.each(dataItems, (dataItem) => {\n\t\t\t\t\tconst point = dataItem.get(\"point\");\n\n\t\t\t\t\tif (point) {\n\t\t\t\t\t\tlet distance = 0;\n\t\t\t\t\t\tif (snapToSeriesBy == \"x\" || snapToSeriesBy == \"x!\") {\n\t\t\t\t\t\t\tdistance = Math.abs(cursorPoint.x - point.x);\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (snapToSeriesBy == \"y\" || snapToSeriesBy == \"y!\") {\n\t\t\t\t\t\t\tdistance = Math.abs(cursorPoint.y - point.y);\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tdistance = Math.hypot(cursorPoint.x - point.x, cursorPoint.y - point.y);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (distance < minDistance) {\n\t\t\t\t\t\t\tminDistance = distance;\n\t\t\t\t\t\t\tclosestItem = dataItem;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t})\n\n\t\t\t\t$array.each(snapToSeries, (series) => {\n\t\t\t\t\tconst tooltip = series.get(\"tooltip\");\n\t\t\t\t\tif (tooltip) {\n\t\t\t\t\t\ttooltip._setDataItem(undefined);\n\t\t\t\t\t}\n\t\t\t\t})\n\n\t\t\t\tif (closestItem) {\n\t\t\t\t\tlet series = closestItem.component as XYSeries;\n\t\t\t\t\tseries.showDataItemTooltip(closestItem);\n\t\t\t\t\tseries.setRaw(\"tooltipDataItem\", closestItem);\n\n\t\t\t\t\tconst point = closestItem.get(\"point\");\n\t\t\t\t\tif (point) {\n\n\t\t\t\t\t\t// removing x and y to solve #72225\n\t\t\t\t\t\tcursor.handleMove(series.toGlobal({ x: point.x - series.x(), y: point.y - series.y() }), true);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tpublic _updateCursor() {\n\t\tlet cursor = this.get(\"cursor\");\n\t\tif (cursor) {\n\t\t\tcursor.updateCursor();\n\t\t}\n\t}\n\n\tprotected _addCursor(cursor: XYCursor) {\n\t\tthis.plotContainer.children.push(cursor);\n\t}\n\n\tpublic _prepareChildren() {\n\t\tsuper._prepareChildren();\n\n\t\tthis.series.each((series) => {\n\t\t\tthis._colorize(series);\n\t\t})\n\n\t\tif (this.isDirty(\"wheelX\") || this.isDirty(\"wheelY\")) {\n\t\t\tthis._handleSetWheel();\n\t\t}\n\n\t\tif (this.isDirty(\"cursor\")) {\n\t\t\tconst previous = this._prevSettings.cursor;\n\t\t\tconst cursor = this.get(\"cursor\")!;\n\t\t\tif (cursor !== previous) {\n\t\t\t\tthis._disposeProperty(\"cursor\");\n\t\t\t\tif (previous) {\n\t\t\t\t\tprevious.dispose();\n\t\t\t\t}\n\t\t\t\tif (cursor) {\n\t\t\t\t\tcursor._setChart(this);\n\t\t\t\t\tthis._addCursor(cursor);\n\n\t\t\t\t\tthis._pushPropertyDisposer(\"cursor\", cursor.events.on(\"selectended\", () => {\n\t\t\t\t\t\tthis._handleCursorSelectEnd();\n\t\t\t\t\t}))\n\t\t\t\t}\n\n\t\t\t\t//this.setRaw(\"cursor\", cursor) // to reset previous value\n\t\t\t\tthis._prevSettings.cursor = cursor;\n\t\t\t}\n\t\t}\n\n\t\tif (this.isDirty(\"scrollbarX\")) {\n\t\t\tconst previous = this._prevSettings.scrollbarX;\n\t\t\tconst scrollbarX = this.get(\"scrollbarX\")!;\n\t\t\tif (scrollbarX !== previous) {\n\t\t\t\tthis._disposeProperty(\"scrollbarX\");\n\t\t\t\tif (previous) {\n\t\t\t\t\tprevious.dispose();\n\t\t\t\t}\n\t\t\t\tif (scrollbarX) {\n\t\t\t\t\tif (!scrollbarX.parent) {\n\t\t\t\t\t\tthis.topAxesContainer.children.push(scrollbarX);\n\t\t\t\t\t}\n\n\t\t\t\t\tthis._pushPropertyDisposer(\"scrollbarX\", scrollbarX.events.on(\"rangechanged\", (e) => {\n\t\t\t\t\t\tthis._handleScrollbar(this.xAxes, e.start, e.end, e.grip);\n\t\t\t\t\t}))\n\n\t\t\t\t\tthis._pushPropertyDisposer(\"scrollbarX\", scrollbarX.events.on(\"released\", () => {\n\t\t\t\t\t\tthis.xAxes.each((axis) => {\n\t\t\t\t\t\t\tif (axis.get(\"zoomable\")) {\n\t\t\t\t\t\t\t\tthis._handleAxisSelection(axis);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t}))\n\n\t\t\t\t\t// Used to populate `ariaLabel` with meaningful values\n\t\t\t\t\tscrollbarX.setPrivate(\"positionTextFunction\", (position: number) => {\n\t\t\t\t\t\tconst axis = this.xAxes.getIndex(0);\n\t\t\t\t\t\treturn axis ? axis.getTooltipText(position, false) || \"\" : \"\";\n\t\t\t\t\t});\n\n\t\t\t\t}\n\n\t\t\t\tthis._prevSettings.scrollbarX = scrollbarX;\n\t\t\t}\n\t\t}\n\n\t\tif (this.isDirty(\"scrollbarY\")) {\n\t\t\tconst previous = this._prevSettings.scrollbarY;\n\t\t\tconst scrollbarY = this.get(\"scrollbarY\")!;\n\t\t\tif (scrollbarY !== previous) {\n\t\t\t\tthis._disposeProperty(\"scrollbarY\");\n\t\t\t\tif (previous) {\n\t\t\t\t\tprevious.dispose();\n\t\t\t\t}\n\t\t\t\tif (scrollbarY) {\n\t\t\t\t\tif (!scrollbarY.parent) {\n\t\t\t\t\t\tthis.rightAxesContainer.children.push(scrollbarY);\n\t\t\t\t\t}\n\n\t\t\t\t\tthis._pushPropertyDisposer(\"scrollbarY\", scrollbarY.events.on(\"rangechanged\", (e) => {\n\t\t\t\t\t\tthis._handleScrollbar(this.yAxes, e.start, e.end, e.grip);\n\t\t\t\t\t}))\n\n\t\t\t\t\tthis._pushPropertyDisposer(\"scrollbarY\", scrollbarY.events.on(\"released\", () => {\n\t\t\t\t\t\tthis.yAxes.each((axis) => {\n\t\t\t\t\t\t\tif (axis.get(\"zoomable\")) {\n\t\t\t\t\t\t\t\tthis._handleAxisSelection(axis);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t}))\n\n\t\t\t\t\t// Used to populate `ariaLabel` with meaningful values\n\t\t\t\t\tscrollbarY.setPrivate(\"positionTextFunction\", (position: number) => {\n\t\t\t\t\t\tconst axis = this.yAxes.getIndex(0);\n\t\t\t\t\t\treturn axis ? axis.getTooltipText(position, false) || \"\" : \"\";\n\t\t\t\t\t});\n\n\t\t\t\t}\n\t\t\t\tthis._prevSettings.scrollbarY = scrollbarY;\n\t\t\t}\n\t\t}\n\n\t\tthis._handleZoomOut();\n\t}\n\n\tprotected _processSeries(series: this[\"_seriesType\"]) {\n\t\tsuper._processSeries(series);\n\n\t\tconst xAxis = series.get(\"xAxis\");\n\t\tconst yAxis = series.get(\"yAxis\");\n\n\t\t$array.move(xAxis.series, series);\n\t\t$array.move(yAxis.series, series);\n\n\t\tseries._posXDp = series.addDisposer(xAxis.events.on(\"positionchanged\", () => {\n\t\t\tseries._fixPosition();\n\t\t}))\n\n\t\tseries._posXDp = series.addDisposer(yAxis.events.on(\"positionchanged\", () => {\n\t\t\tseries._fixPosition();\n\t\t}))\n\n\t\tif (!series.get(\"baseAxis\")) {\n\t\t\tif (yAxis.isType<CategoryAxis<any>>(\"CategoryAxis\") || yAxis.isType<DateAxis<any>>(\"DateAxis\")) {\n\t\t\t\tseries.set(\"baseAxis\", yAxis);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tseries.set(\"baseAxis\", xAxis);\n\t\t\t}\n\t\t}\n\n\t\tif (series.get(\"stacked\")) {\n\t\t\tseries._markDirtyKey(\"stacked\");\n\t\t\t$array.each(series.dataItems, (dataItem) => {\n\t\t\t\tdataItem.set(\"stackToItemY\", undefined);\n\t\t\t\tdataItem.set(\"stackToItemX\", undefined);\n\t\t\t})\n\t\t}\n\t\tseries._markDirtyAxes();\n\t\tyAxis.markDirtyExtremes();\n\t\txAxis.markDirtyExtremes();\n\t\txAxis._seriesAdded = true;\n\t\tyAxis._seriesAdded = true;\n\n\t\tthis._colorize(series);\n\t}\n\n\tprotected _colorize(series: this[\"_seriesType\"]) {\n\t\tconst colorSet = this.get(\"colors\")!;\n\t\tif (colorSet) {\n\t\t\tif (series.get(\"fill\") == null) {\n\t\t\t\tconst color = colorSet.next();\n\n\t\t\t\tseries._setSoft(\"stroke\", color);\n\t\t\t\tseries._setSoft(\"fill\", color);\n\t\t\t}\n\t\t}\n\t\tconst patternSet = this.get(\"patterns\")!;\n\t\tif (patternSet) {\n\t\t\tif (series.get(\"fillPattern\") == null) {\n\t\t\t\tconst pattern = patternSet.next();\n\n\t\t\t\tseries._setSoft(\"fillPattern\", pattern);\n\t\t\t}\n\t\t}\n\t}\n\n\tprotected _handleCursorSelectEnd() {\n\t\tconst cursor = this.get(\"cursor\")!;\n\t\tconst behavior = cursor.get(\"behavior\");\n\n\t\tconst downPositionX = cursor.getPrivate(\"downPositionX\", 0);\n\t\tconst downPositionY = cursor.getPrivate(\"downPositionY\", 0);\n\n\t\tconst positionX = Math.min(1, Math.max(0, cursor.getPrivate(\"positionX\", 0.5)));\n\t\tconst positionY = Math.min(1, Math.max(0, cursor.getPrivate(\"positionY\", 0.5)));\n\n\t\tthis.xAxes.each((axis) => {\n\t\t\tif (behavior === \"zoomX\" || behavior === \"zoomXY\") {\n\t\t\t\tlet position0 = axis.toAxisPosition(downPositionX);\n\t\t\t\tlet position1 = axis.toAxisPosition(positionX);\n\n\t\t\t\taxis.zoom(position0, position1);\n\t\t\t}\n\t\t\taxis.setPrivate(\"updateScrollbar\", true);\n\t\t})\n\n\t\tthis.yAxes.each((axis) => {\n\t\t\tif (behavior === \"zoomY\" || behavior === \"zoomXY\") {\n\t\t\t\tlet position0 = axis.toAxisPosition(downPositionY);\n\t\t\t\tlet position1 = axis.toAxisPosition(positionY);\n\t\t\t\taxis.zoom(position0, position1);\n\t\t\t}\n\t\t\taxis.setPrivate(\"updateScrollbar\", true);\n\t\t})\n\t}\n\n\tprotected _handleScrollbar(axes: ListAutoDispose<Axis<any>>, start: number, end: number, priority?: \"start\" | \"end\") {\n\n\t\taxes.each((axis) => {\n\n\t\t\tlet axisStart = axis.fixPosition(start);\n\t\t\tlet axisEnd = axis.fixPosition(end);\n\n\t\t\tlet zoomAnimation = axis.zoom(axisStart, axisEnd, undefined, priority);\n\n\t\t\tconst updateScrollbar = \"updateScrollbar\";\n\t\t\taxis.setPrivateRaw(updateScrollbar, false);\n\n\t\t\tif (zoomAnimation) {\n\t\t\t\tzoomAnimation.events.on(\"stopped\", () => {\n\t\t\t\t\taxis.setPrivateRaw(updateScrollbar, true);\n\t\t\t\t});\n\t\t\t}\n\t\t\telse {\n\t\t\t\taxis.setPrivateRaw(updateScrollbar, true);\n\t\t\t}\n\t\t})\n\t}\n\n\n\tprotected _processAxis<R extends AxisRenderer>(axes: ListAutoDispose<Axis<R>>, container: Container): IDisposer {\n\t\treturn axes.events.onAll((change) => {\n\t\t\tif (change.type === \"clear\") {\n\t\t\t\t$array.each(change.oldValues, (axis) => {\n\t\t\t\t\tthis._removeAxis(axis);\n\t\t\t\t})\n\t\t\t} else if (change.type === \"push\") {\n\t\t\t\tcontainer.children.push(change.newValue);\n\t\t\t\tchange.newValue.processChart(this);\n\t\t\t} else if (change.type === \"setIndex\") {\n\t\t\t\tcontainer.children.setIndex(change.index, change.newValue);\n\t\t\t\tchange.newValue.processChart(this);\n\t\t\t} else if (change.type === \"insertIndex\") {\n\t\t\t\tcontainer.children.insertIndex(change.index, change.newValue);\n\t\t\t\tchange.newValue.processChart(this);\n\t\t\t} else if (change.type === \"removeIndex\") {\n\t\t\t\tthis._removeAxis(change.oldValue);\n\t\t\t} else if (change.type === \"moveIndex\") {\n\t\t\t\tcontainer.children.moveValue(change.value, change.newIndex);\n\t\t\t\tchange.value.processChart(this);\n\t\t\t} else {\n\t\t\t\tthrow new Error(\"Unknown IListEvent type\");\n\t\t\t}\n\t\t});\n\t}\n\n\tprotected _removeAxis(axis: Axis<AxisRenderer>) {\n\t\tif (!axis.isDisposed()) {\n\t\t\tconst axisParent = axis.parent\n\t\t\tif (axisParent) {\n\t\t\t\taxisParent.children.removeValue(axis);\n\t\t\t}\n\n\t\t\tconst gridContainer = axis.gridContainer;\n\t\t\tconst gridParent = gridContainer.parent;\n\t\t\tif (gridParent) {\n\t\t\t\tgridParent.children.removeValue(gridContainer);\n\t\t\t}\n\n\t\t\tconst topGridContainer = axis.topGridContainer;\n\t\t\tconst topGridParent = topGridContainer.parent;\n\t\t\tif (topGridParent) {\n\t\t\t\ttopGridParent.children.removeValue(topGridContainer);\n\t\t\t}\n\t\t}\n\t}\n\n\tpublic _updateChartLayout() {\n\t\tconst left = this.leftAxesContainer.width();\n\t\tconst right = this.rightAxesContainer.width();\n\n\t\tconst bottomAxesContainer = this.bottomAxesContainer;\n\t\tbottomAxesContainer.set(\"paddingLeft\", left);\n\t\tbottomAxesContainer.set(\"paddingRight\", right);\n\n\t\tconst topAxesContainer = this.topAxesContainer;\n\t\ttopAxesContainer.set(\"paddingLeft\", left);\n\t\ttopAxesContainer.set(\"paddingRight\", right);\n\t}\n\n\t/**\n\t * @ignore\n\t */\n\tpublic processAxis(axis: Axis<AxisRenderer>) {\n\t\tvar cursor = this.get(\"cursor\");\n\t\tif (cursor) {\n\t\t\tthis.addDisposer(axis.on(\"start\", () => {\n\t\t\t\tthis._updateCursor();\n\t\t\t}))\n\n\t\t\tthis.addDisposer(axis.on(\"end\", () => {\n\t\t\t\tthis._updateCursor();\n\t\t\t}))\n\t\t}\n\t}\n\n\n\tpublic _handleAxisSelection(axis: Axis<any>, force?: boolean) {\n\n\t\tlet start = axis.fixPosition(axis.get(\"start\", 0));\n\t\tlet end = axis.fixPosition(axis.get(\"end\", 1));\n\n\t\tif (start > end) {\n\t\t\t[start, end] = [end, start];\n\t\t}\n\n\t\tif (this.xAxes.indexOf(axis) != -1) {\n\t\t\tif (force || axis.getPrivate(\"updateScrollbar\")) {\n\t\t\t\tlet scrollbarX = this.get(\"scrollbarX\");\n\n\t\t\t\tif (scrollbarX && (!scrollbarX.getPrivate(\"isBusy\") || force)) {\n\t\t\t\t\tscrollbarX.setRaw(\"start\", start);\n\t\t\t\t\tscrollbarX.setRaw(\"end\", end);\n\t\t\t\t\tscrollbarX.updateGrips();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\telse if (this.yAxes.indexOf(axis) != -1) {\n\t\t\tif (force || axis.getPrivate(\"updateScrollbar\")) {\n\t\t\t\tlet scrollbarY = this.get(\"scrollbarY\");\n\n\t\t\t\tif (scrollbarY && (!scrollbarY.getPrivate(\"isBusy\") || force)) {\n\t\t\t\t\tscrollbarY.setRaw(\"start\", start);\n\t\t\t\t\tscrollbarY.setRaw(\"end\", end);\n\t\t\t\t\tscrollbarY.updateGrips();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tthis._handleZoomOut();\n\t}\n\n\tprotected _handleZoomOut() {\n\t\tlet zoomOutButton = this.zoomOutButton;\n\t\tif (zoomOutButton && zoomOutButton.parent) {\n\t\t\tlet visible = false;\n\t\t\tthis.xAxes.each((axis) => {\n\t\t\t\tif (axis.get(\"zoomOut\", true)) {\n\t\t\t\t\tif ($math.round(axis.get(\"start\", 0), 5) != 0 || $math.round(axis.get(\"end\", 1), 5) != 1) {\n\t\t\t\t\t\tvisible = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t\tthis.yAxes.each((axis) => {\n\t\t\t\tif (axis.get(\"zoomOut\", true)) {\n\t\t\t\t\tif ($math.round(axis.get(\"start\", 0), 5) != 0 || $math.round(axis.get(\"end\", 1), 5) != 1) {\n\t\t\t\t\t\tvisible = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\n\t\t\tif (visible) {\n\t\t\t\tif (zoomOutButton.isHidden()) {\n\t\t\t\t\tzoomOutButton.show();\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\tzoomOutButton.hide();\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Checks if point is within plot area.\n\t *\n\t * @param   point  Reference point\n\t * @return         Is within plot area?\n\t */\n\tpublic inPlot(point: IPoint): boolean {\n\t\tconst plotContainer = this.plotContainer;\n\t\tconst otherCharts = this.getPrivate(\"otherCharts\", this._otherCharts);\n\t\tconst global = plotContainer.toGlobal(point);\n\n\t\tif (point.x >= -0.5 && point.y >= -0.5 && point.x <= plotContainer.width() + 0.5 && point.y <= plotContainer.height() + 0.5) {\n\t\t\treturn true;\n\t\t}\n\t\tif (otherCharts) {\n\n\t\t\tfor (let i = otherCharts.length - 1; i >= 0; i--) {\n\t\t\t\tconst chart = otherCharts[i];\n\n\t\t\t\tif (chart != this) {\n\t\t\t\t\tconst chartPlotContainer = chart.plotContainer;\n\t\t\t\t\tconst documentPoint = this._root.rootPointToDocument(global);\n\t\t\t\t\tconst chartRoot = chart._root.documentPointToRoot(documentPoint);\n\t\t\t\t\tconst local = chartPlotContainer.toLocal(chartRoot);\n\t\t\t\t\tif (local.x >= -0.1 && local.y >= -0.1 && local.x <= chartPlotContainer.width() + 0.1 && local.y <= chartPlotContainer.height() + 0.1) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n\n\t/**\n\t * @ignore\n\t */\n\tpublic arrangeTooltips() {\n\t\tconst plotContainer = this.plotContainer;\n\n\t\tconst w = plotContainer.width();\n\t\tconst h = plotContainer.height();\n\n\t\tlet hh = this.height();\n\n\t\tconst bounds = this._root.tooltipContainer.get(\"layerMargin\");\n\n\t\tif (bounds) {\n\t\t\tif (bounds.bottom > hh) {\n\t\t\t\thh = bounds.bottom;\n\t\t\t}\n\t\t}\n\n\t\tlet plotT = plotContainer._display.toGlobal({ x: 0, y: 0 });\n\t\tlet plotB = plotContainer._display.toGlobal({ x: w, y: h });\n\n\t\tconst tooltips: Array<Tooltip> = [];\n\t\tlet sum = 0;\n\n\t\tlet minDistance = Infinity;\n\t\tlet movePoint = this._movePoint;\n\t\tlet maxTooltipDistance = this.get(\"maxTooltipDistance\");\n\t\tlet maxTooltipDistanceBy = this.get(\"maxTooltipDistanceBy\", \"xy\");\n\t\tlet closest: XYSeries;\n\t\tlet closestPoint: IPoint;\n\n\t\tif ($type.isNumber(maxTooltipDistance)) {\n\t\t\tthis.series.each((series) => {\n\t\t\t\tif (!series.isHidden()) {\n\t\t\t\t\tconst tooltip = series.get(\"tooltip\");\n\t\t\t\t\tif (tooltip) {\n\t\t\t\t\t\tlet point = tooltip.get(\"pointTo\")!;\n\t\t\t\t\t\tif (point) {\n\t\t\t\t\t\t\tlet distance = Math.hypot(movePoint.x - point.x, movePoint.y - point.y);\n\t\t\t\t\t\t\tif (maxTooltipDistanceBy == \"x\") {\n\t\t\t\t\t\t\t\tdistance = Math.abs(movePoint.x - point.x);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse if (maxTooltipDistanceBy == \"y\") {\n\t\t\t\t\t\t\t\tdistance = Math.abs(movePoint.y - point.y);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (distance < minDistance) {\n\t\t\t\t\t\t\t\tminDistance = distance;\n\t\t\t\t\t\t\t\tclosest = series;\n\t\t\t\t\t\t\t\tclosestPoint = point;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\t\tconst tooltipSeries: Array<XYSeries> = [];\n\n\t\tthis.series.each((series) => {\n\t\t\tconst tooltip = series.get(\"tooltip\")!;\n\n\t\t\tif (tooltip && !tooltip.get(\"forceHidden\")) {\n\t\t\t\tlet hidden = false;\n\t\t\t\tlet point = tooltip.get(\"pointTo\")!;\n\t\t\t\tif (point) {\n\t\t\t\t\tif (maxTooltipDistance >= 0) {\n\t\t\t\t\t\tlet point = tooltip.get(\"pointTo\")!;\n\t\t\t\t\t\tif (point && closestPoint) {\n\t\t\t\t\t\t\tif (series != closest) {\n\t\t\t\t\t\t\t\tlet distance = Math.hypot(closestPoint.x - point.x, closestPoint.y - point.y);\n\t\t\t\t\t\t\t\tif (maxTooltipDistanceBy == \"x\") {\n\t\t\t\t\t\t\t\t\tdistance = Math.abs(closestPoint.x - point.x);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\telse if (maxTooltipDistanceBy == \"y\") {\n\t\t\t\t\t\t\t\t\tdistance = Math.abs(closestPoint.y - point.y);\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tif (distance > maxTooltipDistance) {\n\t\t\t\t\t\t\t\t\thidden = true;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse if (maxTooltipDistance == -1) {\n\t\t\t\t\t\tif (series != closest) {\n\t\t\t\t\t\t\thidden = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!this.inPlot(this._tooltipToLocal(point)) || !tooltip.dataItem) {\n\t\t\t\t\t\thidden = true;\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tif (!hidden) {\n\t\t\t\t\t\t\tsum += point.y;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (hidden || series.isHidden() || series.isHiding()) {\n\t\t\t\t\t\ttooltip.hide(0);\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\ttooltip.show();\n\t\t\t\t\t\ttooltips.push(tooltip);\n\n\t\t\t\t\t\ttooltipSeries.push(series);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\n\t\tthis.setPrivate(\"tooltipSeries\", tooltipSeries);\n\n\t\tif (this.get(\"arrangeTooltips\")) {\n\n\t\t\tlet totalTooltipH = 0;\n\t\t\tlet tooltipCount = 0;\n\n\t\t\tconst tooltipContainer = this._root.tooltipContainer;\n\n\t\t\tconst count = tooltips.length;\n\t\t\tconst average = sum / count;\n\n\t\t\tif (average > h / 2 + plotT.y) {\n\t\t\t\ttooltips.sort((a, b) => $order.compareNumber(b.get(\"pointTo\")!.y, a.get(\"pointTo\")!.y));\n\n\t\t\t\tlet prevY = plotB.y;\n\n\t\t\t\t$array.each(tooltips, (tooltip) => {\n\t\t\t\t\tlet height = tooltip.height();\n\t\t\t\t\ttooltipCount++;\n\t\t\t\t\ttotalTooltipH += height;\n\t\t\t\t\tlet centerY = tooltip.get(\"centerY\");\n\t\t\t\t\tif (centerY instanceof Percent) {\n\t\t\t\t\t\theight *= centerY.value;\n\t\t\t\t\t}\n\t\t\t\t\theight += tooltip.get(\"marginBottom\", 0);\n\n\t\t\t\t\ttooltip.set(\"bounds\", { left: plotT.x, top: plotT.y, right: plotB.x, bottom: prevY })\n\t\t\t\t\ttooltip.setPrivate(\"customData\", { left: plotT.x, top: plotT.y, right: plotB.x, bottom: prevY })\n\t\t\t\t\tprevY = Math.min(prevY - height, tooltip._fy - height);\n\t\t\t\t\tif (tooltip.parent == tooltipContainer) {\n\t\t\t\t\t\ttooltipContainer.children.moveValue(tooltip, 0);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\tif (prevY < 0) {\n\t\t\t\t\ttooltips.reverse();\n\t\t\t\t\tlet prevBottom = prevY;\n\n\t\t\t\t\t$array.each(tooltips, (tooltip) => {\n\t\t\t\t\t\ttooltipCount++;\n\t\t\t\t\t\tlet bounds = tooltip.get(\"bounds\");\n\t\t\t\t\t\tif (bounds) {\n\t\t\t\t\t\t\tlet top = bounds.top - prevY;\n\t\t\t\t\t\t\tlet bottom = bounds.bottom - prevY;\n\t\t\t\t\t\t\tif (top < prevBottom) {\n\t\t\t\t\t\t\t\ttop = prevBottom;\n\t\t\t\t\t\t\t\tbottom = top + tooltip.height();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\ttooltip.set(\"bounds\", { left: bounds.left, top: top, right: bounds.right, bottom: bottom })\n\t\t\t\t\t\t\tprevBottom = bounds.bottom - prevY + tooltip.get(\"marginBottom\", 0);\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\ttooltips.reverse();\n\t\t\t\ttooltips.sort((a, b) => $order.compareNumber(a.get(\"pointTo\")!.y, b.get(\"pointTo\")!.y));\n\n\t\t\t\tlet prevY = 0;\n\t\t\t\t$array.each(tooltips, (tooltip) => {\n\t\t\t\t\ttooltipCount++;\n\t\t\t\t\tlet height = tooltip.height();\n\t\t\t\t\ttotalTooltipH += height;\n\t\t\t\t\tlet centerY = tooltip.get(\"centerY\");\n\t\t\t\t\tif (centerY instanceof Percent) {\n\t\t\t\t\t\theight *= centerY.value;\n\t\t\t\t\t}\n\t\t\t\t\theight += tooltip.get(\"marginBottom\", 0);\n\n\t\t\t\t\ttooltip.set(\"bounds\", { left: plotT.x, top: prevY, right: plotB.x, bottom: Math.max(plotT.y + hh, prevY + height) })\n\t\t\t\t\tif (tooltip.parent == tooltipContainer) {\n\t\t\t\t\t\ttooltipContainer.children.moveValue(tooltip, 0);\n\t\t\t\t\t}\n\t\t\t\t\tprevY = Math.max(prevY + height, tooltip._fy + height);\n\t\t\t\t})\n\n\t\t\t\tif (prevY > hh) {\n\t\t\t\t\ttooltips.reverse();\n\t\t\t\t\tlet prevBottom = hh;\n\n\t\t\t\t\t$array.each(tooltips, (tooltip) => {\n\t\t\t\t\t\ttooltipCount++;\n\t\t\t\t\t\tlet bounds = tooltip.get(\"bounds\");\n\t\t\t\t\t\tif (bounds) {\n\t\t\t\t\t\t\tlet top = bounds.top - (hh - prevY);\n\t\t\t\t\t\t\tlet bottom = bounds.bottom - (hh - prevY);\n\t\t\t\t\t\t\tif (bottom > prevBottom) {\n\t\t\t\t\t\t\t\tbottom = prevBottom\n\t\t\t\t\t\t\t\ttop = bottom - tooltip.height();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\ttooltip.set(\"bounds\", { left: bounds.left, top: top, right: bounds.right, bottom: bottom })\n\t\t\t\t\t\t\tprevBottom = bottom - tooltip.height() - tooltip.get(\"marginBottom\", 0);\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (totalTooltipH == 0 && tooltipCount > 0) {\n\t\t\t\tthis._disposers.push(this.root.events.once(\"frameended\", () => {\n\t\t\t\t\tthis.arrangeTooltips();\n\t\t\t\t}))\n\t\t\t}\n\t\t}\n\t}\n\n\tprotected _tooltipToLocal(point: IPoint): IPoint {\n\t\treturn this.plotContainer.toLocal(point);\n\t}\n\n\t/**\n\t * Fully zooms out the chart.\n\t */\n\tpublic zoomOut() {\n\t\tthis.xAxes.each((axis) => {\n\t\t\tif (axis.get(\"zoomOut\", true)) {\n\t\t\t\taxis.setPrivate(\"updateScrollbar\", true);\n\t\t\t\taxis.zoom(0, 1);\n\t\t\t}\n\t\t})\n\n\t\tthis.yAxes.each((axis) => {\n\t\t\tif (axis.get(\"zoomOut\", true)) {\n\t\t\t\taxis.setPrivate(\"updateScrollbar\", true);\n\t\t\t\taxis.zoom(0, 1);\n\t\t\t}\n\t\t})\n\t}\n\n\tprotected _dispose() {\n\t\tsuper._dispose();\n\n\t\t// Explicitly disposing cursor to avoid memory leak of cursor adding\n\t\t// keyboard events after parent chart has been disposed\n\t\tconst cursor = this.get(\"cursor\");\n\t\tif (cursor) {\n\t\t\tcursor.dispose();\n\t\t}\n\t}\n\n}\n","export var slice = Array.prototype.slice;\n\nexport default function(x) {\n  return typeof x === \"object\" && \"length\" in x\n    ? x // Array, TypedArray, NodeList, array-like\n    : Array.from(x); // Map, Set, iterable, string, or anything else\n}\n","function Linear(context) {\n  this._context = context;\n}\n\nLinear.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; // falls through\n      default: this._context.lineTo(x, y); break;\n    }\n  }\n};\n\nexport default function(context) {\n  return new Linear(context);\n}\n","export function x(p) {\n  return p[0];\n}\n\nexport function y(p) {\n  return p[1];\n}\n","import array from \"./array.js\";\nimport constant from \"./constant.js\";\nimport curveLinear from \"./curve/linear.js\";\nimport {withPath} from \"./path.js\";\nimport {x as pointX, y as pointY} from \"./point.js\";\n\nexport default function(x, y) {\n  var defined = constant(true),\n      context = null,\n      curve = curveLinear,\n      output = null,\n      path = withPath(line);\n\n  x = typeof x === \"function\" ? x : (x === undefined) ? pointX : constant(x);\n  y = typeof y === \"function\" ? y : (y === undefined) ? pointY : constant(y);\n\n  function line(data) {\n    var i,\n        n = (data = array(data)).length,\n        d,\n        defined0 = false,\n        buffer;\n\n    if (context == null) output = curve(buffer = path());\n\n    for (i = 0; i <= n; ++i) {\n      if (!(i < n && defined(d = data[i], i, data)) === defined0) {\n        if (defined0 = !defined0) output.lineStart();\n        else output.lineEnd();\n      }\n      if (defined0) output.point(+x(d, i, data), +y(d, i, data));\n    }\n\n    if (buffer) return output = null, buffer + \"\" || null;\n  }\n\n  line.x = function(_) {\n    return arguments.length ? (x = typeof _ === \"function\" ? _ : constant(+_), line) : x;\n  };\n\n  line.y = function(_) {\n    return arguments.length ? (y = typeof _ === \"function\" ? _ : constant(+_), line) : y;\n  };\n\n  line.defined = function(_) {\n    return arguments.length ? (defined = typeof _ === \"function\" ? _ : constant(!!_), line) : defined;\n  };\n\n  line.curve = function(_) {\n    return arguments.length ? (curve = _, context != null && (output = curve(context)), line) : curve;\n  };\n\n  line.context = function(_) {\n    return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), line) : context;\n  };\n\n  return line;\n}\n","import array from \"./array.js\";\nimport constant from \"./constant.js\";\nimport curveLinear from \"./curve/linear.js\";\nimport line from \"./line.js\";\nimport {withPath} from \"./path.js\";\nimport {x as pointX, y as pointY} from \"./point.js\";\n\nexport default function(x0, y0, y1) {\n  var x1 = null,\n      defined = constant(true),\n      context = null,\n      curve = curveLinear,\n      output = null,\n      path = withPath(area);\n\n  x0 = typeof x0 === \"function\" ? x0 : (x0 === undefined) ? pointX : constant(+x0);\n  y0 = typeof y0 === \"function\" ? y0 : (y0 === undefined) ? constant(0) : constant(+y0);\n  y1 = typeof y1 === \"function\" ? y1 : (y1 === undefined) ? pointY : constant(+y1);\n\n  function area(data) {\n    var i,\n        j,\n        k,\n        n = (data = array(data)).length,\n        d,\n        defined0 = false,\n        buffer,\n        x0z = new Array(n),\n        y0z = new Array(n);\n\n    if (context == null) output = curve(buffer = path());\n\n    for (i = 0; i <= n; ++i) {\n      if (!(i < n && defined(d = data[i], i, data)) === defined0) {\n        if (defined0 = !defined0) {\n          j = i;\n          output.areaStart();\n          output.lineStart();\n        } else {\n          output.lineEnd();\n          output.lineStart();\n          for (k = i - 1; k >= j; --k) {\n            output.point(x0z[k], y0z[k]);\n          }\n          output.lineEnd();\n          output.areaEnd();\n        }\n      }\n      if (defined0) {\n        x0z[i] = +x0(d, i, data), y0z[i] = +y0(d, i, data);\n        output.point(x1 ? +x1(d, i, data) : x0z[i], y1 ? +y1(d, i, data) : y0z[i]);\n      }\n    }\n\n    if (buffer) return output = null, buffer + \"\" || null;\n  }\n\n  function arealine() {\n    return line().defined(defined).curve(curve).context(context);\n  }\n\n  area.x = function(_) {\n    return arguments.length ? (x0 = typeof _ === \"function\" ? _ : constant(+_), x1 = null, area) : x0;\n  };\n\n  area.x0 = function(_) {\n    return arguments.length ? (x0 = typeof _ === \"function\" ? _ : constant(+_), area) : x0;\n  };\n\n  area.x1 = function(_) {\n    return arguments.length ? (x1 = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), area) : x1;\n  };\n\n  area.y = function(_) {\n    return arguments.length ? (y0 = typeof _ === \"function\" ? _ : constant(+_), y1 = null, area) : y0;\n  };\n\n  area.y0 = function(_) {\n    return arguments.length ? (y0 = typeof _ === \"function\" ? _ : constant(+_), area) : y0;\n  };\n\n  area.y1 = function(_) {\n    return arguments.length ? (y1 = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), area) : y1;\n  };\n\n  area.lineX0 =\n  area.lineY0 = function() {\n    return arealine().x(x0).y(y0);\n  };\n\n  area.lineY1 = function() {\n    return arealine().x(x0).y(y1);\n  };\n\n  area.lineX1 = function() {\n    return arealine().x(x1).y(y0);\n  };\n\n  area.defined = function(_) {\n    return arguments.length ? (defined = typeof _ === \"function\" ? _ : constant(!!_), area) : defined;\n  };\n\n  area.curve = function(_) {\n    return arguments.length ? (curve = _, context != null && (output = curve(context)), area) : curve;\n  };\n\n  area.context = function(_) {\n    return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), area) : context;\n  };\n\n  return area;\n}\n","import type { Axis } from \"../axes/Axis\";\nimport type { AxisRenderer } from \"../axes/AxisRenderer\";\n\nimport { XYSeries, IXYSeriesPrivate, IXYSeriesSettings, IXYSeriesDataItem, IXYSeriesAxisRange } from \"./XYSeries\";\nimport { Graphics } from \"../../../core/render/Graphics\";\nimport { CurveFactory, line, area } from \"d3-shape\";\nimport { Template } from \"../../../core/util/Template\";\nimport { ListTemplate } from \"../../../core/util/List\";\nimport { color } from \"../../../core/util/Color\";\nimport { DataItem } from \"../../../core/render/Component\";\nimport { Rectangle } from \"../../../core/render/Rectangle\";\n\nimport * as $type from \"../../../core/util/Type\";\nimport * as $array from \"../../../core/util/Array\";\nimport * as $utils from \"../../../core/util/Utils\";\n\nexport interface IPointOptions {\n}\n\nexport interface ILineSeriesDataItem extends IXYSeriesDataItem {\n}\n\nexport interface ILineSeriesSettings extends IXYSeriesSettings {\n\n\t/**\n\t * If set to `true` the line will connect over \"gaps\" - categories or time\n\t * intervals with no data.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/series/line-series/#Gaps} for more info\n\t * @default true\n\t */\n\tconnect?: boolean;\n\n\t/**\n\t * If there are more than `autoGapCount` base time intervals (e.g. days) with\n\t * no data, the line will break and will display gap.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/series/line-series/#Auto_gaps_with_dates} for more info\n\t * @default 1.1\n\t */\n\tautoGapCount?: number;\n\n\t/**\n\t * @ignore\n\t */\n\tcurveFactory?: CurveFactory;\n\n\t/**\n\t * Allows simplifying the line with many points.\n\t *\n\t * If set, the series will skip points that are closer than X pixels to each\n\t * other.\n\t *\n\t * With many data points, this allows having smoother, less cluttered lines.\n\t *\n\t * @default 0\n\t * @since 5.2.7\n\t */\n\tminDistance?: number;\n\n\n}\n\nexport interface ILineSeriesPrivate extends IXYSeriesPrivate {\n}\n\n/**\n * Interface representing a [[LineSeries]] axis range.\n *\n * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/axes/axis-ranges/#Series_axis_ranges} for more info\n */\nexport interface ILineSeriesAxisRange extends IXYSeriesAxisRange {\n\n\t/**\n\t * A list template to use when applying line settings to the line segments covered\n\t * by an axis range.\n\t */\n\tstrokes?: ListTemplate<Graphics>;\n\n\t/**\n\t * A list template to use when applying fill settings to the fill segments covered\n\t * by an axis range.\n\t */\n\tfills?: ListTemplate<Graphics>;\n}\n\n/**\n * Used to plot line and/or area series.\n *\n * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/series/line-series/} for more info\n * @important\n */\nexport class LineSeries extends XYSeries {\n\n\tdeclare public _settings: ILineSeriesSettings;\n\tdeclare public _privateSettings: ILineSeriesPrivate;\n\tdeclare public _dataItemSettings: ILineSeriesDataItem;\n\tdeclare public _axisRangeType: ILineSeriesAxisRange;\n\n\tpublic static className: string = \"LineSeries\";\n\tpublic static classNames: Array<string> = XYSeries.classNames.concat([LineSeries.className]);\n\n\tprotected _endIndex!: number;\n\n\tprotected _strokeGenerator = line();\n\tprotected _fillGenerator = area();\n\n\tprotected _legendStroke?: Graphics;\n\tprotected _legendFill?: Graphics;\n\n\tprotected _afterNew() {\n\t\tthis._fillGenerator.y0(function(p: number[]) {\n\t\t\treturn p[3];\n\t\t});\n\n\t\tthis._fillGenerator.x0(function(p: number[]) {\n\t\t\treturn p[2];\n\t\t});\n\n\t\tthis._fillGenerator.y1(function(p: number[]) {\n\t\t\treturn p[1];\n\t\t});\n\n\t\tthis._fillGenerator.x1(function(p: number[]) {\n\t\t\treturn p[0];\n\t\t});\n\n\t\tsuper._afterNew();\n\t}\n\n\t/**\n\t * @ignore\n\t */\n\tpublic makeStroke(strokes: ListTemplate<Graphics>): Graphics {\n\t\tconst stroke = this.mainContainer.children.push(strokes.make());\n\t\tstrokes.push(stroke);\n\t\treturn stroke;\n\t}\n\n\t/**\n\t * A [[TemplateList]] of all line segments in series.\n\t *\n\t * `strokes.template` can be used to set default settings for all line\n\t * segments, or to change on existing ones.\n\t *\n\t * @default new ListTemplate<Graphics>\n\t */\n\tpublic readonly strokes: ListTemplate<Graphics> = this.addDisposer(new ListTemplate(\n\t\tTemplate.new({}),\n\t\t() => Graphics._new(this._root, {\n\t\t\tthemeTags: $utils.mergeTags(this.strokes.template.get(\"themeTags\", []), [\"line\", \"series\", \"stroke\"])\n\t\t}, [this.strokes.template]),\n\t));\n\n\t/**\n\t * @ignore\n\t */\n\tpublic makeFill(fills: ListTemplate<Graphics>): Graphics {\n\t\tconst fill = this.mainContainer.children.push(fills.make());\n\t\tfills.push(fill);\n\t\treturn fill;\n\t}\n\n\t/**\n\t * A [[TemplateList]] of all segment fills in series.\n\t *\n\t * `fills.template` can be used to set default settings for all segment\n\t * fills, or to change on existing ones.\n\t *\n\t * @default new ListTemplate<Graphics>\n\t */\n\tpublic readonly fills: ListTemplate<Graphics> = this.addDisposer(new ListTemplate(\n\t\tTemplate.new({}),\n\t\t() => Graphics._new(this._root, {\n\t\t\tthemeTags: $utils.mergeTags(this.strokes.template.get(\"themeTags\", []), [\"line\", \"series\", \"fill\"])\n\t\t}, [this.fills.template]),\n\t));\n\n\t// custom set from data\n\tprotected _fillTemplate: Template<Graphics> | undefined;\n\tprotected _strokeTemplate: Template<Graphics> | undefined;\n\n\tprotected _previousPoint: Array<number> = [0, 0, 0, 0];\n\n\tprotected _dindex = 0;\n\tprotected _sindex = 0;\n\n\tpublic _updateChildren() {\n\n\t\tthis._strokeTemplate = undefined;\n\t\tthis._fillTemplate = undefined;\n\n\t\tlet xAxis = this.get(\"xAxis\");\n\t\tlet yAxis = this.get(\"yAxis\");\n\n\t\tif (this.isDirty(\"stroke\")) {\n\t\t\tconst stroke = this.get(\"stroke\");\n\t\t\tthis.strokes.template.set(\"stroke\", stroke);\n\t\t\tconst legendStroke = this._legendStroke;\n\t\t\tif (legendStroke) {\n\t\t\t\tlegendStroke.states.lookup(\"default\")!.set(\"stroke\", stroke);\n\t\t\t}\n\t\t}\n\t\tif (this.isDirty(\"fill\")) {\n\t\t\tconst fill = this.get(\"fill\");\n\t\t\tthis.fills.template.set(\"fill\", fill);\n\t\t\tconst legendFill = this._legendFill;\n\t\t\tif (legendFill) {\n\t\t\t\tlegendFill.states.lookup(\"default\")!.set(\"fill\", fill);\n\t\t\t}\n\t\t}\n\n\t\tif (this.isDirty(\"fillPattern\")) {\n\t\t\tconst fillPattern = this.get(\"fillPattern\");\n\t\t\tthis.fills.template.set(\"fillPattern\", fillPattern);\n\t\t\tconst legendFill = this._legendFill;\n\t\t\tif (legendFill) {\n\t\t\t\tlegendFill.states.lookup(\"default\")!.set(\"fillPattern\", fillPattern);\n\t\t\t}\n\t\t}\n\n\t\tif (this.isDirty(\"curveFactory\")) {\n\t\t\tconst curveFactory = this.get(\"curveFactory\")!;\n\t\t\tif (curveFactory) {\n\t\t\t\tthis._strokeGenerator.curve(curveFactory);\n\t\t\t\tthis._fillGenerator.curve(curveFactory);\n\t\t\t}\n\t\t}\n\n\t\tif (xAxis.inited && yAxis.inited) {\n\t\t\tif (this._axesDirty || this._valuesDirty || this._stackDirty || this.isDirty(\"vcx\") || this.isDirty(\"vcy\") || this._sizeDirty || this.isDirty(\"connect\") || this.isDirty(\"curveFactory\")) {\n\n\t\t\t\tthis.fills.each((fill) => {\n\t\t\t\t\tfill.setPrivate(\"visible\", false);\n\t\t\t\t})\n\n\t\t\t\tthis.strokes.each((fill) => {\n\t\t\t\t\tfill.setPrivate(\"visible\", false);\n\t\t\t\t})\n\n\t\t\t\tthis.axisRanges.each((axisRange) => {\n\t\t\t\t\tlet fills = axisRange.fills;\n\t\t\t\t\tif (fills) {\n\t\t\t\t\t\tfills.each((fill) => {\n\t\t\t\t\t\t\tfill.setPrivate(\"visible\", false);\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\n\t\t\t\t\tlet strokes = axisRange.strokes;\n\t\t\t\t\tif (strokes) {\n\t\t\t\t\t\tstrokes.each((stroke) => {\n\t\t\t\t\t\t\tstroke.setPrivate(\"visible\", false);\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t})\n\n\t\t\t\tlet startIndex = this.startIndex();\n\n\t\t\t\tlet strokeTemplateField = this.strokes.template.get(\"templateField\");\n\t\t\t\tlet fillTemplateField = this.fills.template.get(\"templateField\");\n\n\t\t\t\tlet strokeTemplateFound = true;\n\t\t\t\tlet fillTemplateFound = true;\n\n\t\t\t\tif (strokeTemplateField) {\n\t\t\t\t\tstrokeTemplateFound = false;\n\t\t\t\t}\n\t\t\t\tif (fillTemplateField) {\n\t\t\t\t\tfillTemplateFound = false;\n\t\t\t\t}\n\n\t\t\t\tfor (let i = startIndex - 1; i >= 0; i--) {\n\t\t\t\t\tlet dataItem = this.dataItems[i];\n\t\t\t\t\tlet hasValues = true;\n\t\t\t\t\tlet dataContext = dataItem.dataContext as any;\n\t\t\t\t\tif (strokeTemplateField) {\n\t\t\t\t\t\tif (dataContext[strokeTemplateField]) {\n\t\t\t\t\t\t\tstrokeTemplateFound = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (fillTemplateField) {\n\t\t\t\t\t\tif (dataContext[fillTemplateField]) {\n\t\t\t\t\t\t\tfillTemplateFound = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t$array.each(this._valueFields, (field) => {\n\t\t\t\t\t\tif (!$type.isNumber(dataItem.get(field as any))) {\n\t\t\t\t\t\t\thasValues = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\tif (hasValues && strokeTemplateFound && fillTemplateFound) {\n\t\t\t\t\t\tstartIndex = i;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\n\t\t\t\tlet len = this.dataItems.length;\n\t\t\t\tlet endIndex = this.endIndex();\n\n\t\t\t\tif (endIndex < len) {\n\t\t\t\t\tendIndex++;\n\t\t\t\t\tfor (let i = endIndex; i < len; i++) {\n\t\t\t\t\t\tlet dataItem = this.dataItems[i];\n\t\t\t\t\t\tlet hasValues = true;\n\t\t\t\t\t\t$array.each(this._valueFields, (field) => {\n\t\t\t\t\t\t\tif (!$type.isNumber(dataItem.get(field as any))) {\n\t\t\t\t\t\t\t\thasValues = false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t\tif (hasValues) {\n\t\t\t\t\t\t\tendIndex = i + 1;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (startIndex > 0) {\n\t\t\t\t\tstartIndex--;\n\t\t\t\t}\n\n\t\t\t\tthis._endIndex = endIndex;\n\n\t\t\t\tthis._clearGraphics();\n\t\t\t\tthis._sindex = 0;\n\t\t\t\tthis._dindex = startIndex;\n\t\t\t\tif (this.dataItems.length == 1) {\n\t\t\t\t\tthis._startSegment(0);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\t// this is done to avoid recursion with a lot of segments\n\t\t\t\t\twhile (this._dindex < endIndex - 1) {\n\t\t\t\t\t\tthis._startSegment(this._dindex);\n\t\t\t\t\t\tthis._sindex++;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tthis._skipped = true;\n\t\t}\n\n\t\tsuper._updateChildren();\n\t}\n\n\tprotected _clearGraphics() {\n\t\tthis.strokes.clear();\n\t\tthis.fills.clear();\n\n\t\tthis.axisRanges.each((axisRange) => {\n\t\t\taxisRange.fills!.clear();\n\t\t\taxisRange.strokes!.clear();\n\t\t})\n\t}\n\n\tprotected _startSegment(dataItemIndex: number) {\n\t\tlet endIndex = this._endIndex;\n\t\tlet currentEndIndex = endIndex;\n\n\t\tconst autoGapCount = this.get(\"autoGapCount\")!;\n\t\tconst connect = this.get(\"connect\");\n\n\t\tconst fill = this.makeFill(this.fills);\n\n\t\tconst fillTemplate = this._fillTemplate;\n\t\tconst originalTemplate = this.fills.template;\n\t\tif (fillTemplate && fillTemplate != originalTemplate) {\n\t\t\tfill.template = fillTemplate;\n\t\t}\n\n\t\tfill.setPrivate(\"visible\", true);\n\n\t\tconst stroke = this.makeStroke(this.strokes);\n\n\t\tconst strokeTemplate = this._strokeTemplate;\n\t\tif (strokeTemplate && strokeTemplate != this.strokes.template) {\n\t\t\tstroke.template = strokeTemplate;\n\t\t}\n\n\t\tstroke.setPrivate(\"visible\", true);\n\n\t\tlet xAxis = this.get(\"xAxis\");\n\t\tlet yAxis = this.get(\"yAxis\");\n\t\tlet baseAxis = this.get(\"baseAxis\")!;\n\n\t\tlet vcx = this.get(\"vcx\", 1);\n\t\tlet vcy = this.get(\"vcy\", 1);\n\n\t\tlet xField = this._xField;\n\t\tlet yField = this._yField;\n\n\t\tlet xOpenField = this._xOpenField;\n\t\tlet yOpenField = this._yOpenField;\n\n\t\tconst xOpenFieldValue = this.get(\"openValueXField\");\n\t\tconst yOpenFieldValue = this.get(\"openValueYField\");\n\n\t\tif (!xOpenFieldValue) {\n\t\t\txOpenField = this._xField;\n\t\t}\n\n\t\tif (!yOpenFieldValue) {\n\t\t\tyOpenField = this._yField;\n\t\t}\n\n\t\tconst stacked = this.get(\"stacked\");\n\n\t\tconst basePosX = xAxis.basePosition();\n\t\tconst basePosY = yAxis.basePosition();\n\n\t\tlet baseField: string;\n\t\tif (baseAxis === yAxis) {\n\t\t\tbaseField = this._yField;\n\t\t}\n\t\telse {\n\t\t\tbaseField = this._xField;\n\t\t}\n\n\t\tconst segments: Array<Array<Array<number>>> = [];\n\t\tlet points: Array<Array<number>> = [];\n\t\tsegments.push(points);\n\n\t\tconst strokeTemplateField = this.strokes.template.get(\"templateField\");\n\t\tconst fillTemplateField = this.fills.template.get(\"templateField\");\n\n\t\tlet locationX = this.get(\"locationX\", 0.5);\n\t\tlet locationY = this.get(\"locationY\", 0.5);\n\n\t\tlet openLocationX = this.get(\"openLocationX\", locationX);\n\t\tlet openLocationY = this.get(\"openLocationY\", locationY);\n\n\t\tconst minDistance = this.get(\"minDistance\", 0);\n\n\t\tlet i: number;\n\n\t\tlet fillVisible = this.fills.template.get(\"visible\");\n\t\tif (this.axisRanges.length > 0) {\n\t\t\tfillVisible = true;\n\t\t}\n\n\t\tlet getOpen = false;\n\t\tif (stacked || xOpenFieldValue || yOpenFieldValue) {\n\t\t\tgetOpen = true;\n\t\t}\n\n\t\tconst o = {\n\t\t\tpoints, segments, stacked, getOpen, basePosX, basePosY, fillVisible, xField, yField, xOpenField, yOpenField, vcx, vcy, baseAxis, xAxis, yAxis, locationX, locationY, openLocationX, openLocationY, minDistance\n\t\t}\n\n\n\t\tlet rangeStrokeTemplate = this._strokeTemplate;\n\t\tlet rangeFillTemplate = this._fillTemplate;\n\n\t\tfor (i = dataItemIndex; i < currentEndIndex; i++) {\n\t\t\tthis._dindex = i;\n\t\t\tconst dataItem = this._dataItems[i];\n\n\t\t\tlet valueX = dataItem.get(xField as any);\n\t\t\tlet valueY = dataItem.get(yField as any);\n\n\t\t\tif (valueX == null || valueY == null) {\n\t\t\t\tif (!connect) {\n\t\t\t\t\tpoints = [];\n\t\t\t\t\tsegments.push(points);\n\t\t\t\t\to.points = points;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis._getPoints(dataItem, o);\n\t\t\t}\n\n\t\t\tif (strokeTemplateField) {\n\t\t\t\tlet strokeTemplate = (dataItem.dataContext as any)[strokeTemplateField]\n\t\t\t\tif (strokeTemplate) {\n\t\t\t\t\tif (!(strokeTemplate instanceof Template)) {\n\t\t\t\t\t\tstrokeTemplate = Template.new(strokeTemplate);\n\t\t\t\t\t}\n\n\t\t\t\t\tthis._strokeTemplate = strokeTemplate;\n\t\t\t\t\tif (i > dataItemIndex) {\n\t\t\t\t\t\tcurrentEndIndex = i;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\trangeStrokeTemplate = strokeTemplate;\n\t\t\t\t\t\tstroke.template = strokeTemplate;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (fillTemplateField) {\n\t\t\t\tlet fillTemplate = (dataItem.dataContext as any)[fillTemplateField]\n\t\t\t\tif (fillTemplate) {\n\t\t\t\t\tif (!(fillTemplate instanceof Template)) {\n\t\t\t\t\t\tfillTemplate = Template.new(fillTemplate);\n\t\t\t\t\t}\n\n\t\t\t\t\tthis._fillTemplate = fillTemplate;\n\t\t\t\t\tif (i > dataItemIndex) {\n\t\t\t\t\t\tcurrentEndIndex = i;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\trangeFillTemplate = fillTemplate;\n\t\t\t\t\t\tfill.template = fillTemplate;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (!connect) {\n\t\t\t\tlet nextItem = this.dataItems[i + 1];\n\t\t\t\tif (nextItem) {\n\t\t\t\t\tif (baseAxis.shouldGap(dataItem, nextItem, autoGapCount, baseField)) {\n\t\t\t\t\t\tpoints = [];\n\t\t\t\t\t\tsegments.push(points);\n\t\t\t\t\t\to.points = points;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfill.setRaw(\"userData\", [dataItemIndex, i]);\n\t\tstroke.setRaw(\"userData\", [dataItemIndex, i]);\n\n\t\tif (i === endIndex) {\n\t\t\tthis._endLine(points, segments[0][0]);\n\t\t}\n\n\t\tif (stroke) {\n\t\t\tthis._drawStroke(stroke, segments);\n\t\t}\n\n\t\tif (fill) {\n\t\t\tthis._drawFill(fill, segments);\n\t\t}\n\n\t\tthis.axisRanges.each((axisRange) => {\n\t\t\tconst container = axisRange.container;\n\t\t\tconst fills = axisRange.fills!;\n\t\t\tconst fill = this.makeFill(fills);\n\t\t\tif (container) {\n\t\t\t\tcontainer.children.push(fill);\n\t\t\t}\n\n\t\t\tfill.setPrivate(\"visible\", true);\n\t\t\tthis._drawFill(fill, segments);\n\n\t\t\tconst strokes = axisRange.strokes!;\n\t\t\tconst stroke = this.makeStroke(strokes);\n\t\t\tif (container) {\n\t\t\t\tcontainer.children.push(stroke);\n\t\t\t}\n\n\t\t\tif (rangeStrokeTemplate && rangeStrokeTemplate != this.strokes.template) {\n\t\t\t\tstroke.template = rangeStrokeTemplate;\n\t\t\t}\n\n\t\t\tif (rangeFillTemplate && rangeFillTemplate != this.fills.template) {\n\t\t\t\tfill.template = rangeFillTemplate;\n\t\t\t}\n\n\t\t\tstroke.setPrivate(\"visible\", true);\n\t\t\tthis._drawStroke(stroke, segments);\n\n\t\t\tfill.setRaw(\"userData\", [dataItemIndex, i]);\n\t\t\tstroke.setRaw(\"userData\", [dataItemIndex, i]);\n\t\t})\n\t}\n\n\tprotected _getPoints(dataItem: DataItem<this[\"_dataItemSettings\"]>, o: { points: Array<Array<number>>, segments: number[][][], stacked: boolean | undefined, getOpen: boolean, basePosX: number, basePosY: number, fillVisible: boolean | undefined, xField: string, yField: string, xOpenField: string, yOpenField: string, vcx: number, vcy: number, baseAxis: Axis<AxisRenderer>, xAxis: Axis<AxisRenderer>, yAxis: Axis<AxisRenderer>, locationX: number, locationY: number, openLocationX: number, openLocationY: number, minDistance: number }) {\n\t\tlet points = o.points;\n\n\t\tlet itemLocationX = dataItem.get(\"locationX\", o.locationX);\n\t\tlet itemLocationY = dataItem.get(\"locationY\", o.locationY);\n\n\t\tconst exactLocationX = this.get(\"exactLocationX\", false);\n\t\tconst exactLocationY = this.get(\"exactLocationY\", false);\n\n\t\tlet xPos = o.xAxis.getDataItemPositionX(dataItem, o.xField, itemLocationX, o.vcx, exactLocationX);\n\t\tlet yPos = o.yAxis.getDataItemPositionY(dataItem, o.yField, itemLocationY, o.vcy, exactLocationY);\n\n\t\tif (this._shouldInclude(xPos)) {\n\n\t\t\tconst iPoint = this.getPoint(xPos, yPos);\n\t\t\tconst point = [iPoint.x, iPoint.y];\n\n\t\t\tiPoint.x += this._x;\n\t\t\tiPoint.y += this._y;\n\n\t\t\tdataItem.set(\"point\", iPoint);\n\n\t\t\tif (o.fillVisible) {\n\t\t\t\tlet xPos0: number = xPos;\n\t\t\t\tlet yPos0: number = yPos;\n\n\t\t\t\tif (o.baseAxis === o.xAxis) {\n\t\t\t\t\tyPos0 = o.basePosY;\n\t\t\t\t}\n\t\t\t\telse if (o.baseAxis === o.yAxis) {\n\t\t\t\t\txPos0 = o.basePosX;\n\t\t\t\t}\n\n\t\t\t\tif (o.getOpen) {\n\t\t\t\t\tlet valueX = dataItem.get(o.xOpenField as any);\n\t\t\t\t\tlet valueY = dataItem.get(o.yOpenField as any);\n\n\t\t\t\t\tif (valueX != null && valueY != null) {\n\t\t\t\t\t\tlet itemLocationX = dataItem.get(\"openLocationX\", o.openLocationX);\n\t\t\t\t\t\tlet itemLocationY = dataItem.get(\"openLocationY\", o.openLocationY);\n\n\t\t\t\t\t\tif (o.stacked) {\n\t\t\t\t\t\t\tlet stackToItemX = dataItem.get(\"stackToItemX\")!;\n\t\t\t\t\t\t\tlet stackToItemY = dataItem.get(\"stackToItemY\")!;\n\n\t\t\t\t\t\t\tif (stackToItemX) {\n\t\t\t\t\t\t\t\txPos0 = o.xAxis.getDataItemPositionX(stackToItemX, o.xField, itemLocationX, (stackToItemX.component as XYSeries).get(\"vcx\"), exactLocationX);\n\t\t\t\t\t\t\t\tif ($type.isNaN(xPos0)) {\n\t\t\t\t\t\t\t\t\txPos0 = o.basePosX;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\tif (o.yAxis === o.baseAxis) {\n\t\t\t\t\t\t\t\t\txPos0 = o.basePosX;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\t\txPos0 = o.xAxis.getDataItemPositionX(dataItem, o.xOpenField, itemLocationX, o.vcx, exactLocationX);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (stackToItemY) {\n\t\t\t\t\t\t\t\tyPos0 = o.yAxis.getDataItemPositionY(stackToItemY, o.yField, itemLocationY, (stackToItemY.component as XYSeries).get(\"vcy\"), exactLocationY);\n\t\t\t\t\t\t\t\tif ($type.isNaN(yPos0)) {\n\t\t\t\t\t\t\t\t\tyPos0 = o.basePosY;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\tif (o.xAxis === o.baseAxis) {\n\t\t\t\t\t\t\t\t\tyPos0 = o.basePosY;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\t\tyPos0 = o.yAxis.getDataItemPositionY(dataItem, o.yOpenField, itemLocationY, o.vcy, exactLocationY);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\txPos0 = o.xAxis.getDataItemPositionX(dataItem, o.xOpenField, itemLocationX, o.vcx, exactLocationX);\n\t\t\t\t\t\t\tyPos0 = o.yAxis.getDataItemPositionY(dataItem, o.yOpenField, itemLocationY, o.vcy, exactLocationY);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tlet closeIPoint = this.getPoint(xPos0, yPos0);\n\n\t\t\t\tpoint[2] = closeIPoint.x;\n\t\t\t\tpoint[3] = closeIPoint.y;\n\t\t\t}\n\n\t\t\tif (o.minDistance > 0) {\n\t\t\t\tconst p0 = point[0];\n\t\t\t\tconst p1 = point[1];\n\t\t\t\tconst p2 = point[2];\n\t\t\t\tconst p3 = point[3];\n\n\t\t\t\tconst prev = this._previousPoint;\n\n\t\t\t\tconst pp0 = prev[0];\n\t\t\t\tconst pp1 = prev[1];\n\t\t\t\tconst pp2 = prev[2];\n\t\t\t\tconst pp3 = prev[3];\n\n\t\t\t\tif (Math.hypot(p0 - pp0, p1 - pp1) > o.minDistance || (p2 && p3 && Math.hypot(p2 - pp2, p3 - pp3) > o.minDistance)) {\n\t\t\t\t\tpoints.push(point);\n\t\t\t\t\tthis._previousPoint = point;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\tpoints.push(point);\n\t\t\t}\n\t\t}\n\t}\n\n\n\tprotected _endLine(_points: Array<Array<number>>, _firstPoint: Array<number>) {\n\n\t}\n\n\tprotected _drawStroke(graphics: Graphics, segments: number[][][]) {\n\t\tif (graphics.get(\"visible\") && !graphics.get(\"forceHidden\")) {\n\t\t\tgraphics.set(\"draw\", (display) => {\n\t\t\t\t$array.each(segments, (segment) => {\n\t\t\t\t\tthis._strokeGenerator.context(display as any);\n\t\t\t\t\tthis._strokeGenerator(segment as [number, number][]);\n\t\t\t\t})\n\t\t\t})\n\t\t}\n\t}\n\n\tprotected _drawFill(graphics: Graphics, segments: number[][][]) {\n\t\tif (graphics.get(\"visible\") && !graphics.get(\"forceHidden\")) {\n\t\t\tgraphics.set(\"draw\", (display) => {\n\t\t\t\t$array.each(segments, (segment) => {\n\t\t\t\t\tthis._fillGenerator.context(display as any);\n\t\t\t\t\tthis._fillGenerator(segment as [number, number][]);\n\t\t\t\t})\n\t\t\t})\n\t\t}\n\t}\n\n\tprotected _processAxisRange(axisRange: this[\"_axisRangeType\"]) {\n\t\tsuper._processAxisRange(axisRange);\n\t\taxisRange.fills = new ListTemplate(\n\t\t\tTemplate.new({}),\n\t\t\t() => Graphics._new(this._root, {\n\t\t\t\tthemeTags: $utils.mergeTags(axisRange.fills!.template.get(\"themeTags\", []), [\"line\", \"series\", \"fill\"]),\n\t\t\t}, [this.fills.template, axisRange.fills!.template]),\n\t\t);\n\n\t\taxisRange.strokes = new ListTemplate(\n\t\t\tTemplate.new({}),\n\t\t\t() => Graphics._new(this._root, {\n\t\t\t\tthemeTags: $utils.mergeTags(axisRange.strokes!.template.get(\"themeTags\", []), [\"line\", \"series\", \"stroke\"]),\n\t\t\t}, [this.strokes.template, axisRange.strokes!.template])\n\t\t);\n\t}\n\n\t/**\n\t * @ignore\n\t */\n\tpublic createLegendMarker(_dataItem?: DataItem<this[\"_dataItemSettings\"]>) {\n\n\t\tconst legendDataItem = this.get(\"legendDataItem\");\n\n\t\tif (legendDataItem) {\n\t\t\tconst marker = legendDataItem.get(\"marker\");\n\n\t\t\tconst markerRectangle = legendDataItem.get(\"markerRectangle\");\n\t\t\tif (markerRectangle) {\n\t\t\t\tmarkerRectangle.setPrivate(\"visible\", false);\n\t\t\t}\n\n\t\t\tmarker.set(\"background\", Rectangle.new(marker._root, { fillOpacity: 0, fill: color(0x000000) }))\n\n\t\t\tconst legendStroke = marker.children.push(Graphics._new(marker._root, {\n\t\t\t\tthemeTags: [\"line\", \"series\", \"legend\", \"marker\", \"stroke\"], interactive: false\n\t\t\t}, [this.strokes.template]));\n\n\t\t\tthis._legendStroke = legendStroke;\n\n\t\t\tconst legendFill = marker.children.push(Graphics._new(marker._root, {\n\t\t\t\tthemeTags: [\"line\", \"series\", \"legend\", \"marker\", \"fill\"]\n\t\t\t}, [this.fills.template]));\n\n\t\t\tthis._legendFill = legendFill;\n\n\t\t\tconst disabledColor = this._root.interfaceColors.get(\"disabled\");\n\n\t\t\tlegendStroke.states.create(\"disabled\", { fill: disabledColor, stroke: disabledColor });\n\t\t\tlegendFill.states.create(\"disabled\", { fill: disabledColor, stroke: disabledColor });\n\n\t\t\tif (this.bullets.length > 0) {\n\t\t\t\tconst bulletFunction = this.bullets.getIndex(0);\n\t\t\t\tif (bulletFunction) {\n\t\t\t\t\tconst bullet = bulletFunction(marker._root, this, new DataItem(this, { legend: true }, {}));\n\t\t\t\t\tif (bullet) {\n\t\t\t\t\t\tconst sprite = bullet.get(\"sprite\");\n\t\t\t\t\t\tif (sprite instanceof Graphics) {\n\t\t\t\t\t\t\tsprite.states.create(\"disabled\", { fill: disabledColor, stroke: disabledColor });\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (sprite) {\n\n\t\t\t\t\t\t\tsprite.setAll({\n\t\t\t\t\t\t\t\ttooltipText: undefined,\n\t\t\t\t\t\t\t\ttooltipHTML: undefined,\n\t\t\t\t\t\t\t\tfocusable: undefined,\n\t\t\t\t\t\t\t\tfocusableGroup: undefined,\n\t\t\t\t\t\t\t\tariaLabel: undefined\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tmarker.children.push(sprite);\n\t\t\t\t\t\t\tsprite.setAll({ x: marker.width() / 2, y: marker.height() / 2 });\n\n\t\t\t\t\t\t\tmarker.events.on(\"boundschanged\", () => {\n\t\t\t\t\t\t\t\tsprite.setAll({ x: marker.width() / 2, y: marker.height() / 2 });\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n","import type { IPoint } from \"../../../core/util/IPoint\";\nimport type { Graphics } from \"../../../core/render/Graphics\";\nimport type { AxisLabel } from \"./AxisLabel\";\nimport type { AxisBullet } from \"./AxisBullet\";\nimport type { Grid } from \"./Grid\";\nimport type { AxisTick } from \"./AxisTick\";\nimport type { Tooltip } from \"../../../core/render/Tooltip\";\nimport type { Template } from \"../../../core/util/Template\";\n\nimport { AxisRenderer, IAxisRendererSettings, IAxisRendererPrivate } from \"./AxisRenderer\";\nimport { p100 } from \"../../../core/util/Percent\";\nimport { Rectangle } from \"../../../core/render/Rectangle\";\n\nimport * as $type from \"../../../core/util/Type\";\nimport * as $utils from \"../../../core/util/Utils\";\n\nexport interface IAxisRendererYSettings extends IAxisRendererSettings {\n\n\t/**\n\t * If set to `true` the axis will be drawn on the opposite side of the plot\n\t * area.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/axes/#Axis_position} for more info\n\t * @default false\n\t */\n\topposite?: boolean;\n\n\t/**\n\t * If set to `true`, all axis elements (ticks, labels) will be drawn inside\n\t * plot area.\n\t *\n\t * @default false\n\t */\n\tinside?: boolean;\n}\n\nexport interface IAxisRendererYPrivate extends IAxisRendererPrivate {\n}\n\n/**\n * Used to render vertical axis.\n *\n * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/#Axis_renderer} for more info\n * @important\n */\nexport class AxisRendererY extends AxisRenderer {\n\n\tpublic static className: string = \"AxisRendererY\";\n\tpublic static classNames: Array<string> = AxisRenderer.classNames.concat([AxisRendererY.className]);\n\n\tdeclare public _settings: IAxisRendererYSettings;\n\tdeclare public _privateSettings: IAxisRendererYPrivate;\n\n\tdeclare public readonly labelTemplate: Template<AxisLabel>;\n\n\tprotected _downY?: number;\n\n\tpublic thumb: Rectangle = Rectangle.new(this._root, { height: p100, isMeasured: false, themeTags: [\"axis\", \"y\", \"thumb\", \"zoomgrip\"] });\n\n\tpublic _afterNew() {\n\t\tthis._settings.themeTags = $utils.mergeTags(this._settings.themeTags, [\"renderer\", \"y\"]);\n\t\tif (this._settings.opposite) {\n\t\t\tthis._settings.themeTags.push(\"opposite\");\n\t\t}\n\n\t\tsuper._afterNew();\n\t\tthis.setPrivateRaw(\"letter\", \"Y\");\n\n\t\tconst gridTemplate = this.grid.template;\n\t\tgridTemplate.set(\"width\", p100);\n\t\tgridTemplate.set(\"height\", 0);\n\t\tgridTemplate.set(\"draw\", (display, graphics) => {\n\t\t\tdisplay.moveTo(0, 0);\n\t\t\tdisplay.lineTo(graphics.width(), 0);\n\t\t});\n\n\t\tthis.set(\"draw\", (display, renderer) => {\n\t\t\tdisplay.moveTo(0, 0);\n\t\t\tdisplay.lineTo(0, renderer.height());\n\t\t});\n\t}\n\n\tprotected _getPan(point1: IPoint, point2: IPoint): number {\n\t\treturn (point1.y - point2.y) / this.height();\n\t}\n\n\tpublic _changed() {\n\t\tsuper._changed();\n\n\t\tconst axis = this.axis;\n\t\tconst ghostLabel = axis.ghostLabel;\n\t\tif (ghostLabel) {\n\t\t\tghostLabel.setPrivate(\"visible\", !this.get(\"inside\"));\n\t\t\tghostLabel.set(\"y\", -1000);\n\t\t}\n\n\t\tconst thumb = this.thumb;\n\t\tconst opposite = \"opposite\";\n\t\tconst inside = \"inside\";\n\t\tconst chart = this.chart;\n\n\t\tif (this.isDirty(opposite) || this.isDirty(inside)) {\n\n\t\t\tconst axisChildren = axis.children;\n\n\t\t\tif (this.get(inside)) {\n\t\t\t\taxis.addTag(inside);\n\t\t\t}\n\t\t\telse {\n\t\t\t\taxis.removeTag(inside);\n\t\t\t}\n\n\t\t\tif (chart) {\n\t\t\t\tif (this.get(opposite)) {\n\t\t\t\t\tconst children = chart.rightAxesContainer.children;\n\t\t\t\t\tif (children.indexOf(axis) == -1) {\n\t\t\t\t\t\tchildren.moveValue(axis, 0);\n\t\t\t\t\t}\n\t\t\t\t\taxis.addTag(opposite);\n\t\t\t\t\taxisChildren.moveValue(this, 0);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tconst children = chart.leftAxesContainer.children;\n\t\t\t\t\tif (children.indexOf(axis) == -1) {\n\t\t\t\t\t\tchildren.moveValue(axis);\n\t\t\t\t\t}\n\t\t\t\t\taxis.removeTag(opposite);\n\n\t\t\t\t\taxisChildren.moveValue(this);\n\t\t\t\t}\n\n\t\t\t\taxis.ghostLabel?._applyThemes();\n\t\t\t\tthis.labels.each((label) => {\n\t\t\t\t\tlabel._applyThemes();\n\t\t\t\t})\n\t\t\t\tthis.root._markDirtyRedraw();\n\t\t\t}\n\t\t\taxis.markDirtySize();\n\t\t}\n\n\t\tconst w = axis.labelsContainer.width();\n\n\t\tif (chart) {\n\t\t\tif (this.get(opposite)) {\n\t\t\t\tthumb.set(\"centerX\", 0);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthumb.set(\"centerX\", w);\n\t\t\t}\n\t\t}\n\n\t\tthumb.setPrivate(\"width\", w);\n\t}\n\n\t/**\n\t * @ignore\n\t */\n\tpublic processAxis() {\n\t\tsuper.processAxis();\n\t\tconst axis = this.axis;\n\t\tif (axis.get(\"height\") == null) {\n\t\t\taxis.set(\"height\", p100);\n\t\t}\n\t\tconst horizontalLayout = this._root.horizontalLayout;\n\t\taxis.set(\"layout\", horizontalLayout);\n\t\taxis.labelsContainer.set(\"height\", p100);\n\t\taxis.axisHeader.set(\"layout\", horizontalLayout);\n\t}\n\n\tpublic _updatePositions() {\n\t\tconst axis = this.axis;\n\t\tconst y = axis.y() - $utils.relativeToValue(axis.get(\"centerY\", 0), axis.height());\n\t\taxis.gridContainer.set(\"y\", y);\n\t\taxis.topGridContainer.set(\"y\", y);\n\t\taxis.bulletsContainer.set(\"x\", this.x());\n\n\t\tconst chart = axis.chart;\n\t\tif (chart) {\n\t\t\tconst plotContainer = chart.plotContainer;\n\t\t\tconst axisHeader = axis.axisHeader;\n\t\t\tlet height = axis.get(\"marginTop\", 0);\n\n\t\t\tif (axisHeader.children.length > 0) {\n\t\t\t\theight = axis.axisHeader.height();\n\t\t\t\taxis.set(\"marginTop\", height + 1);\n\t\t\t}\n\t\t\telse {\n\t\t\t\taxisHeader.set(\"height\", height);\n\t\t\t}\n\t\t\taxisHeader.setAll({ y: axis.y() - height, x: -1, width: plotContainer.width() + 2 });\n\t\t}\n\t}\n\n\t/**\n\t * @ignore\n\t */\n\tpublic axisLength(): number {\n\t\treturn this.axis.innerHeight();\n\t}\n\n\t/**\n\t * Converts axis relative position to actual coordinate in pixels.\n\t *\n\t * @param   position  Position\n\t * @return            Point\n\t */\n\tpublic positionToPoint(position: number): IPoint {\n\t\treturn { x: 0, y: this.positionToCoordinate(position) };\n\t}\n\n\t/**\n\t * @ignore\n\t */\n\tpublic updateLabel(label?: AxisLabel, position?: number, endPosition?: number, count?: number) {\n\t\tif (label) {\n\t\t\tif (!$type.isNumber(position)) {\n\t\t\t\tposition = 0;\n\t\t\t}\n\n\t\t\tlet location = 0.5;\n\t\t\tif ($type.isNumber(count) && count > 1) {\n\t\t\t\tlocation = label.get(\"multiLocation\", location)\n\t\t\t}\n\t\t\telse {\n\t\t\t\tlocation = label.get(\"location\", location)\n\t\t\t}\n\n\t\t\tconst opposite = this.get(\"opposite\");\n\t\t\tconst inside = label.get(\"inside\", this.get(\"inside\", false));\n\n\t\t\tif (opposite) {\n\t\t\t\tlabel.set(\"x\", 0);\n\n\t\t\t\tif (inside) {\n\t\t\t\t\tlabel.set(\"position\", \"absolute\");\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tlabel.set(\"position\", \"relative\");\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif (inside) {\n\t\t\t\t\tlabel.set(\"x\", 0);\n\t\t\t\t\tlabel.set(\"position\", \"absolute\");\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tlabel.set(\"x\", undefined);\n\t\t\t\t\tlabel.set(\"position\", \"relative\");\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif ($type.isNumber(endPosition) && endPosition != position) {\n\t\t\t\tposition = position + (endPosition - position) * location;\n\t\t\t}\n\n\t\t\tlabel.set(\"y\", this.positionToCoordinate(position));\n\t\t\tthis.toggleVisibility(label, position, label.get(\"minPosition\", 0), label.get(\"maxPosition\", 1));\n\t\t}\n\t}\n\n\t/**\n\t * @ignore\n\t */\n\tpublic updateGrid(grid?: Grid, position?: number, endPosition?: number) {\n\t\tif (grid) {\n\t\t\tif (!$type.isNumber(position)) {\n\t\t\t\tposition = 0;\n\t\t\t}\n\n\t\t\tlet location = grid.get(\"location\", 0.5);\n\t\t\tif ($type.isNumber(endPosition) && endPosition != position) {\n\t\t\t\tposition = position + (endPosition - position) * location;\n\t\t\t}\n\n\t\t\tgrid.set(\"y\", this.positionToCoordinate(position));\n\t\t\tthis.toggleVisibility(grid, position, 0, 1);\n\t\t}\n\t}\n\n\t/**\n\t * @ignore\n\t */\n\tpublic updateTick(tick?: AxisTick, position?: number, endPosition?: number, count?: number) {\n\t\tif (tick) {\n\t\t\tif (!$type.isNumber(position)) {\n\t\t\t\tposition = 0;\n\t\t\t}\n\n\t\t\tlet location = 0.5;\n\t\t\tif ($type.isNumber(count) && count > 1) {\n\t\t\t\tlocation = tick.get(\"multiLocation\", location);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tlocation = tick.get(\"location\", location);\n\t\t\t}\n\n\t\t\tif ($type.isNumber(endPosition) && endPosition != position) {\n\t\t\t\tposition = position + (endPosition - position) * location;\n\t\t\t}\n\n\t\t\ttick.set(\"y\", this.positionToCoordinate(position));\n\n\t\t\tlet length = tick.get(\"length\", 0);\n\t\t\tconst inside = tick.get(\"inside\", this.get(\"inside\", false));\n\n\t\t\tif (this.get(\"opposite\")) {\n\t\t\t\ttick.set(\"x\", 0);\n\t\t\t\tif (inside) {\n\t\t\t\t\tlength *= -1\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif (!inside) {\n\t\t\t\t\tlength *= -1\n\t\t\t\t}\n\t\t\t}\n\t\t\ttick.set(\"draw\", (display) => {\n\t\t\t\tdisplay.moveTo(0, 0);\n\t\t\t\tdisplay.lineTo(length, 0);\n\t\t\t})\n\n\t\t\tthis.toggleVisibility(tick, position, tick.get(\"minPosition\", 0), tick.get(\"maxPosition\", 1));\n\t\t}\n\t}\n\n\t/**\n\t * @ignore\n\t */\n\tpublic updateBullet(bullet?: AxisBullet, position?: number, endPosition?: number) {\n\t\tif (bullet) {\n\n\t\t\tconst sprite = bullet.get(\"sprite\");\n\t\t\tif (sprite) {\n\n\t\t\t\tif (!$type.isNumber(position)) {\n\t\t\t\t\tposition = 0;\n\t\t\t\t}\n\n\t\t\t\tlet location = bullet.get(\"location\", 0.5);\n\t\t\t\tif ($type.isNumber(endPosition) && endPosition != position) {\n\t\t\t\t\tposition = position + (endPosition - position) * location;\n\t\t\t\t}\n\n\n\t\t\t\tlet bulletPosition = this.axis.roundAxisPosition(position, location);\n\t\t\t\tlet previousBullet = this.axis._bullets[bulletPosition];\n\t\t\t\tlet d = 1;\n\t\t\t\tif (this.get(\"opposite\")) {\n\t\t\t\t\td = -1;\n\t\t\t\t}\n\n\t\t\t\tif (bullet.get(\"stacked\")) {\n\t\t\t\t\tif (previousBullet) {\n\t\t\t\t\t\tlet previousSprite = previousBullet.get(\"sprite\");\n\t\t\t\t\t\tif (previousSprite) {\n\t\t\t\t\t\t\tsprite.set(\"x\", previousSprite.x() + previousSprite.width() * d);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tsprite.set(\"x\", 0);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tthis.axis._bullets[bulletPosition] = bullet;\n\n\n\t\t\t\tsprite.set(\"y\", this.positionToCoordinate(position));\n\n\t\t\t\tthis.toggleVisibility(sprite, position, 0, 1);\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * @ignore\n\t */\n\tpublic updateFill(fill?: Graphics, position?: number, endPosition?: number) {\n\t\tif (fill) {\n\t\t\tif (!$type.isNumber(position)) {\n\t\t\t\tposition = 0;\n\t\t\t}\n\t\t\tif (!$type.isNumber(endPosition)) {\n\t\t\t\tendPosition = 1;\n\t\t\t}\n\n\t\t\tlet y0 = this.positionToCoordinate(position);\n\t\t\tlet y1 = this.positionToCoordinate(endPosition);\n\n\t\t\tthis.fillDrawMethod(fill, y0, y1);\n\t\t}\n\t}\n\n\tprotected fillDrawMethod(fill: Graphics, y0: number, y1: number) {\n\t\tfill.set(\"draw\", (display) => {\n\t\t\t// using for holes, so can not be rectangle\n\t\t\tconst w = this.axis!.gridContainer.width();\n\t\t\tconst h = this.height();\n\n\t\t\tif (y1 < y0) {\n\t\t\t\t[y1, y0] = [y0, y1];\n\t\t\t}\n\n\t\t\tif (y0 > h || y1 < 0) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t//y0 = Math.max(0, y0);\n\t\t\t//y1 = Math.min(h, y1);\n\n\t\t\tdisplay.moveTo(0, y0);\n\t\t\tdisplay.lineTo(w, y0);\n\t\t\tdisplay.lineTo(w, y1);\n\t\t\tdisplay.lineTo(0, y1);\n\t\t\tdisplay.lineTo(0, y0);\n\t\t})\n\t}\n\n\t/**\n\t * Converts relative position (0-1) on axis to a pixel coordinate.\n\t *\n\t * @param position  Position (0-1)\n\t * @return Coordinate (px)\n\t */\n\tpublic positionToCoordinate(position: number): number {\n\t\tif (!this._inversed) {\n\t\t\treturn (this._end - position) * this._axisLength;\n\t\t}\n\t\telse {\n\t\t\treturn (position - this._start) * this._axisLength;\n\t\t}\n\t}\n\n\t/**\n\t * @ignore\n\t */\n\tpublic positionTooltip(tooltip: Tooltip, position: number) {\n\t\tthis._positionTooltip(tooltip, { x: 0, y: this.positionToCoordinate(position) });\n\t}\n\n\t/**\n\t * @ignore\n\t */\n\tpublic updateTooltipBounds(tooltip: Tooltip) {\n\t\tconst inside = this.get(\"inside\");\n\t\tconst num = 100000;\n\n\t\tlet global = this._display.toGlobal({ x: 0, y: 0 });\n\t\tlet y = global.y;\n\t\tlet x = 0;\n\t\tlet h = this.axisLength();\n\t\tlet w = num;\n\n\t\tlet pointerOrientation: \"left\" | \"right\" = \"right\";\n\n\t\tif (this.get(\"opposite\")) {\n\t\t\tif (inside) {\n\t\t\t\tpointerOrientation = \"right\";\n\t\t\t\tx = global.x - num;\n\t\t\t\tw = num;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tpointerOrientation = \"left\";\n\t\t\t\tx = global.x;\n\t\t\t\tw = num;\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tif (inside) {\n\t\t\t\tpointerOrientation = \"left\";\n\t\t\t\tx = global.x;\n\t\t\t\tw = num;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tpointerOrientation = \"right\";\n\t\t\t\tx = global.x - num;\n\t\t\t\tw = num;\n\t\t\t}\n\t\t}\n\n\t\tconst bounds = { left: x, right: x + w, top: y, bottom: y + h };\n\t\tconst oldBounds = tooltip.get(\"bounds\");\n\n\t\tif (!$utils.sameBounds(bounds, oldBounds)) {\n\t\t\ttooltip.set(\"bounds\", bounds);\n\t\t\ttooltip.set(\"pointerOrientation\", pointerOrientation);\n\t\t}\n\t}\n\n\t/**\n\t * @ignore\n\t */\n\tpublic _updateLC() {\n\t\tconst axis = this.axis;\n\t\tconst parent = axis.parent;\n\t\tif (parent) {\n\t\t\tconst h = parent.innerHeight();\n\t\t\tthis._lc = this.axisLength() / h;\n\t\t\tthis._ls = axis.y() / h;\n\t\t}\n\t}\n\n\t/**\n\t * @ignore\n\t */\n\tpublic toAxisPosition(position: number): number {\n\t\tconst start = this._start || 0;\n\t\tconst end = this._end || 1;\n\n\t\tposition -= this._ls;\n\n\t\tposition = position * (end - start) / this._lc;\n\n\t\tif (this.get(\"inversed\")) {\n\t\t\tposition = start + position;\n\t\t}\n\t\telse {\n\t\t\tposition = end - position;\n\t\t}\n\n\t\treturn position;\n\t}\n\n\t/**\n\t * @ignore\n\t */\n\tpublic toGlobalPosition(position: number): number {\n\t\tconst start = this._start || 0;\n\t\tconst end = this._end || 1;\n\n\t\tif (this.get(\"inversed\")) {\n\t\t\tposition = position - start;\n\t\t}\n\t\telse {\n\t\t\tposition = end - position;\n\t\t}\n\n\t\tposition = position / (end - start) * this._lc\n\n\t\tposition += this._ls;\n\n\t\treturn position;\n\t}\n\n\n\t/**\n\t * @ignore\n\t */\n\tpublic fixPosition(position: number) {\n\t\tif (!this.get(\"inversed\")) {\n\t\t\treturn 1 - position;\n\t\t}\n\t\treturn position;\n\t}\n\n}\n","import type { Axis, IAxisPrivate, IAxisDataItem } from \"../axes/Axis\";\nimport type { AxisRenderer } from \"../axes/AxisRenderer\";\nimport type { IPoint } from \"../../../core/util/IPoint\";\nimport type { Sprite } from \"../../../core/render/Sprite\";\nimport type { Bullet } from \"../../../core/render/Bullet\";\nimport type { XYChart } from \"../XYChart\";\n//import type { CategoryAxis } from \"../axes/CategoryAxis\";\nimport type { DateAxis } from \"../axes/DateAxis\";\nimport type { ITimeInterval } from \"../../../core/util/Time\";\nimport type { IDisposer } from \"../../../core/util/Disposer\";\n\nimport { DataItem } from \"../../../core/render/Component\";\nimport { Series, ISeriesSettings, ISeriesDataItem, ISeriesPrivate, ISeriesEvents } from \"../../../core/render/Series\";\nimport { List } from \"../../../core/util/List\";\nimport { Container } from \"../../../core/render/Container\";\nimport { Graphics } from \"../../../core/render/Graphics\";\n\n\nimport * as $type from \"../../../core/util/Type\";\nimport * as $object from \"../../../core/util/Object\";\nimport * as $array from \"../../../core/util/Array\";\nimport * as $utils from \"../../../core/util/Utils\";\n\n/**\n * @ignore\n */\nfunction min(left: number | undefined, right: number | undefined): number | undefined {\n\tif (left == null) {\n\t\treturn right;\n\n\t} else if (right == null) {\n\t\treturn left;\n\n\t} else if (right < left) {\n\t\treturn right;\n\n\t} else {\n\t\treturn left;\n\t}\n}\n\n/**\n * @ignore\n */\nfunction max(left: number | undefined, right: number | undefined): number | undefined {\n\tif (left == null) {\n\t\treturn right;\n\n\t} else if (right == null) {\n\t\treturn left;\n\n\t} else if (right > left) {\n\t\treturn right;\n\n\t} else {\n\t\treturn left;\n\t}\n}\n\n/**\n * Interface representing a series axis range.\n *\n * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/axes/axis-ranges/#Series_axis_ranges} for more info\n */\nexport interface IXYSeriesAxisRange {\n\n\t/**\n\t * Related axis data item.\n\t */\n\taxisDataItem: DataItem<IAxisDataItem>;\n\n\t/**\n\t * A [[Container]] element that range's elements are placed in.\n\t */\n\tcontainer?: Container;\n\n\t/**\n\t * Target series.\n\t */\n\tseries?: XYSeries;\n\n}\n\nexport interface IXYAxisPrivate extends IAxisPrivate {\n\tmin?: number;\n\tmax?: number;\n}\n\nexport interface IXYAxis extends Axis<AxisRenderer> {\n\t_privateSettings: IXYAxisPrivate;\n}\n\nexport interface IXYSeriesEvents extends ISeriesEvents {\n\n\t/**\n\t * Kicks in when axis starts using different data set, e.g. data\n\t * of different granularit on [[DateAxis]].\n\t *\n\t * @since 5.1.1\n\t */\n\tdatasetchanged: {\n\t\tid: string\n\t}\n}\n\n/**\n * XY chart series data item.\n */\nexport interface IXYSeriesDataItem extends ISeriesDataItem {\n\tvalueX?: number;\n\tvalueXWorking?: number;\n\tvalueXChange?: number;\n\tvalueXChangePercent?: number;\n\tvalueXChangeSelection?: number;\n\tvalueXChangeSelectionPercent?: number;\n\tvalueXChangePrevious?: number;\n\tvalueXChangePreviousPercent?: number;\n\tvalueXWorkingOpen?: number;\n\tvalueXWorkingClose?: number;\n\n\tvalueY?: number;\n\tvalueYChange?: number;\n\tvalueYWorking?: number;\n\tvalueYChangePercent?: number;\n\tvalueYChangeSelection?: number;\n\tvalueYChangeSelectionPercent?: number;\n\tvalueYChangePrevious?: number;\n\tvalueYChangePreviousPercent?: number;\n\tvalueYWorkingOpen?: number;\n\tvalueYWorkingClose?: number;\n\n\topenValueX?: number;\n\topenValueXWorking?: number;\n\topenValueXChange?: number;\n\topenValueXChangePercent?: number;\n\topenValueXChangeSelection?: number;\n\topenValueXChangeSelectionPercent?: number;\n\topenValueXChangePrevious?: number;\n\topenValueXChangePreviousPercent?: number;\n\topenValueXWorkingOpen?: number;\n\topenValueXWorkingClose?: number;\n\topenValueY?: number;\n\topenValueYWorking?: number;\n\topenValueYChange?: number;\n\topenValueYChangePercent?: number;\n\topenValueYChangeSelection?: number;\n\topenValueYChangeSelectionPercent?: number;\n\topenValueYChangePrevious?: number;\n\topenValueYChangePreviousPercent?: number;\n\topenValueYWorkingOpen?: number;\n\topenValueYWorkingClose?: number;\n\n\tlowValueX?: number;\n\tlowValueXWorking?: number;\n\tlowValueXChange?: number;\n\tlowValueXChangePercent?: number;\n\tlowValueXChangeSelection?: number;\n\tlowValueXChangeSelectionPercent?: number;\n\tlowValueXChangePrevious?: number;\n\tlowValueXChangePreviousPercent?: number;\n\tlowValueXWorkingOpen?: number;\n\tlowValueXWorkingClose?: number;\n\n\thighValueX?: number;\n\thighValueXWorking?: number;\n\thighValueXChange?: number;\n\thighValueXChangePercent?: number;\n\thighValueXChangeSelection?: number;\n\thighValueXChangeSelectionPercent?: number;\n\thighValueXChangePrevious?: number;\n\thighValueXChangePreviousPercent?: number;\n\thighValueXWorkingOpen?: number;\n\thighValueXWorkingClose?: number;\n\n\tlowValueY?: number;\n\tlowValueYWorking?: number;\n\tlowValueYChange?: number;\n\tlowValueYChangePercent?: number;\n\tlowValueYChangeSelection?: number;\n\tlowValueYChangeSelectionPercent?: number;\n\tlowValueYChangePrevious?: number;\n\tlowValueYChangePreviousPercent?: number;\n\tlowValueYWorkingOpen?: number;\n\tlowValueYWorkingClose?: number;\n\n\thighValueY?: number;\n\thighValueYWorking?: number;\n\thighValueYChange?: number;\n\thighValueYChangePercent?: number;\n\thighValueYChangeSelection?: number;\n\thighValueYChangeSelectionPercent?: number;\n\thighValueYChangePrevious?: number;\n\thighValueYChangePreviousPercent?: number;\n\thighValueYWorkingOpen?: number;\n\thighValueYWorkingClose?: number;\n\n\tcategoryX?: string;\n\tcategoryY?: string;\n\n\topenCategoryX?: string;\n\topenCategoryY?: string;\n\n\tlocationX?: number;\n\tlocationY?: number;\n\n\topenLocationX?: number;\n\topenLocationY?: number;\n\n\tstackToItemX?: DataItem<IXYSeriesDataItem>;\n\tstackToItemY?: DataItem<IXYSeriesDataItem>;\n\n\tleft?: number;\n\tright?: number;\n\ttop?: number;\n\tbottom?: number;\n\n\tpoint?: IPoint;\n\n\toriginals?: Array<DataItem<IXYSeriesDataItem>>;\n}\n\nexport interface IXYSeriesSettings extends ISeriesSettings {\n\n\t/**\n\t * If this is set to `true`, data items will ignore `locationX` setting\n\t * but will place the data point at exact X value.\n\t * \n\t * This works with [[DateAxis]] only.\n\t * \n\t * On a `ColumnSeries`/`CandlestickSeries` this setting will affect bullets\n\t * only.\n\t *\n\t * @default false\n\t * @since 5.13.0\n\t */\n\texactLocationX?: boolean;\n\n\t/**\n\t * If this is set to `true`, data items will ignore `locationX` setting\n\t * but will place the data point at exact Y value.\n\t * \n\t * This works with [[DateAxis]] only.\n\t * \n\t * On a `ColumnSeries`/`CandlestickSeries` this setting will affect bullets\n\t * only.\n\t *\n\t * @default false\n\t * @since 5.13.0\n\t */\n\texactLocationY?: boolean;\n\n\t/**\n\t * If set to `true` series will use selection extremes when calculating\n\t * their min and max values of the axis. Useful for stacked series.\n\t *\n\t * @since 5.10.11\n\t */\n\tuseSelectionExtremes?: boolean;\n\n\t/**\n\t * Minimal distance between data items in pixels.\n\t *\n\t * If data items are closer than this, bullets are turned off to avoid\n\t * overcrowding.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/series/#Bullets} for more info\n\t */\n\tminBulletDistance?: number;\n\n\t/**\n\t * X axis series uses.\n\t *\n\t * **IMPORTANT:** `xAxis` needs to be set when creating the series. Updating\n\t * this setting on previously created series object will not work.\n\t */\n\txAxis: IXYAxis;\n\n\t/**\n\t * Y axis series uses.\n\t *\n\t * **IMPORTANT:** `yAxis` needs to be set when creating the series. Updating\n\t * this setting on previously created series object will not work.\n\t */\n\tyAxis: IXYAxis;\n\n\t/**\n\t * If set to `true` series will be stacked to other series that also have\n\t * this setting set to `true`.\n\t *\n\t * NOTE: for series stack properly, all stacked series must have same number\n\t * of data items with the same timestamp/category.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/series/#Stacked_series} for more info\n\t */\n\tstacked?: boolean;\n\n\t/**\n\t * Whether to stack negative values from zero (`true`) or from whatever\n\t * previous series value is (`false`).\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/series/#Negative_value_stacking} for more info\n\t */\n\tstackToNegative?: boolean;\n\n\t/**\n\t * Base axis for the series.\n\t *\n\t * A base axis will dictate direction series plot.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/series/#Base_axis} for more info\n\t */\n\tbaseAxis?: IXYAxis;\n\n\t/**\n\t * Input data field for X value.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/series/#Data_fields} for more info\n\t */\n\tvalueXField?: string;\n\n\t/**\n\t * Input data field for Y value.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/series/#Data_fields} for more info\n\t */\n\tvalueYField?: string;\n\n\t/**\n\t * Exclude series values when calculating totals for category/interval.\n\t *\n\t * @default false\n\t */\n\texcludeFromTotal?: boolean;\n\n\t/**\n\t * Display data field for X value.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/series/#Data_fields} for more info\n\t */\n\tvalueXShow?: \"valueXWorking\" | \"valueXChange\" | \"valueXChangePercent\" | \"valueXChangeSelection\" | \"valueXChangeSelectionPercent\" | \"valueXChangePrevious\" | \"valueXChangePreviousPercent\" | \"valueXTotal\" | \"valueXTotalPercent\" | \"valueXSum\";\n\n\t/**\n\t * Display data field for Y value.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/series/#Data_fields} for more info\n\t */\n\tvalueYShow?: \"valueYWorking\" | \"valueYChange\" | \"valueYChangePercent\" | \"valueYChangeSelection\" | \"valueYChangeSelectionPercent\" | \"valueYChangePrevious\" | \"valueYChangePreviousPercent\" | \"valueYTotal\" | \"valueYTotalPercent\" | \"valueYSum\";\n\n\t/**\n\t * Indicates what aggregate value to use for collective data item, when\n\t * aggregating X values from several data items.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/axes/date-axis/#Dynamic_data_item_grouping} for more info\n\t */\n\tvalueXGrouped?: \"open\" | \"close\" | \"low\" | \"high\" | \"average\" | \"sum\" | \"extreme\";\n\n\t/**\n\t * Indicates what aggregate value to use for collective data item, when\n\t * aggregating X values from several data items.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/axes/date-axis/#Dynamic_data_item_grouping} for more info\n\t */\n\tvalueYGrouped?: \"open\" | \"close\" | \"low\" | \"high\" | \"average\" | \"sum\" | \"extreme\";\n\n\t/**\n\t * Input data field for X open value.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/series/#Data_fields} for more info\n\t */\n\topenValueXField?: string;\n\n\t/**\n\t * Input data field for X open value.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/series/#Data_fields} for more info\n\t */\n\topenValueYField?: string;\n\n\t/**\n\t * Display data field for X open value.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/series/#Data_fields} for more info\n\t */\n\topenValueXShow?: \"openValueXWorking\" | \"openValueXChange\" | \"openValueXChangePercent\" | \"openValueXChangeSelection\" | \"openValueXChangeSelectionPercent\" | \"openValueXChangePrevious\" | \"openValueXChangePreviousPercent\";\n\n\t/**\n\t * Display data field for Y open value.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/series/#Data_fields} for more info\n\t */\n\topenValueYShow?: \"openValueYWorking\" | \"openValueYChange\" | \"openValueYChangePercent\" | \"openValueYChangeSelection\" | \"openValueYChangeSelectionPercent\" | \"openValueYChangePrevious\" | \"openValueYChangePreviousPercent\";\n\n\t/**\n\t * Display data field for Y open value.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/axes/date-axis/#Dynamic_data_item_grouping} for more info\n\t */\n\topenValueXGrouped?: \"open\" | \"close\" | \"low\" | \"high\" | \"average\" | \"sum\" | \"extreme\";\n\n\t/**\n\t * Display data field for Y open value.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/axes/date-axis/#Dynamic_data_item_grouping} for more info\n\t */\n\topenValueYGrouped?: \"open\" | \"close\" | \"low\" | \"high\" | \"average\" | \"sum\" | \"extreme\";\n\n\n\n\t/**\n\t * Input data field for X low value.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/series/candlestick-series/} for more info\n\t */\n\tlowValueXField?: string;\n\n\t/**\n\t * Input data field for Y low value.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/series/candlestick-series/} for more info\n\t */\n\tlowValueYField?: string;\n\n\t/**\n\t * Input data field for X high value.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/series/candlestick-series/} for more info\n\t */\n\thighValueXField?: string;\n\n\t/**\n\t * Input data field for Y high value.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/series/candlestick-series/} for more info\n\t */\n\thighValueYField?: string;\n\n\t/**\n\t * Display data field for X low value.\n\t */\n\tlowValueXShow?: \"lowValueXWorking\" | \"lowValueXChange\" | \"lowValueXChangePercent\" | \"lowValueXChangeSelection\" | \"lowValueXChangeSelectionPercent\" | \"lowValueXChangePrevious\" | \"lowValueXChangePreviousPercent\";\n\n\t/**\n\t * Display data field for Y low value.\n\t */\n\tlowValueYShow?: \"lowValueYWorking\" | \"lowValueYChange\" | \"lowValueYChangePercent\" | \"lowValueYChangeSelection\" | \"lowValueYChangeSelectionPercent\" | \"lowValueYChangePrevious\" | \"lowValueYChangePreviousPercent\";\n\n\t/**\n\t * Indicates what aggregate value to use for collective data item, when\n\t * aggregating X low values from several data items.\n\t */\n\tlowValueXGrouped?: \"open\" | \"close\" | \"low\" | \"high\" | \"average\" | \"sum\" | \"extreme\";\n\n\t/**\n\t * Indicates what aggregate value to use for collective data item, when\n\t * aggregating Y low values from several data items.\n\t */\n\tlowValueYGrouped?: \"open\" | \"close\" | \"low\" | \"high\" | \"average\" | \"sum\" | \"extreme\";\n\n\t/**\n\t * Display data field for X high value.\n\t */\n\thighValueXShow?: \"highValueXWorking\" | \"highValueXChange\" | \"highValueXChangePercent\" | \"highValueXChangeSelection\" | \"highValueXChangeSelectionPercent\" | \"highValueXChangePrevious\" | \"highValueXChangePreviousPercent\";\n\n\t/**\n\t * Display data field for Y low value.\n\t */\n\thighValueYShow?: \"highValueYWorking\" | \"highValueYChange\" | \"highValueYChangePercent\" | \"highValueYChangeSelection\" | \"highValueYChangeSelectionPercent\" | \"highValueYChangePrevious\" | \"highValueYChangePreviousPercent\";\n\n\t/**\n\t * Indicates what aggregate value to use for collective data item, when\n\t * aggregating X high values from several data items.\n\t */\n\thighValueXGrouped?: \"open\" | \"close\" | \"high\" | \"high\" | \"average\" | \"sum\" | \"extreme\";\n\n\t/**\n\t * Indicates what aggregate value to use for collective data item, when\n\t * aggregating X high values from several data items.\n\t */\n\thighValueYGrouped?: \"open\" | \"close\" | \"high\" | \"high\" | \"average\" | \"sum\" | \"extreme\";\n\n\t/**\n\t * Horizontal location of the low data point relative to its cell.\n\t *\n\t * `0` - beginning, `0.5` - middle, `1` - end.\n\t *\n\t * @default 0.5\n\t */\n\tlowLocationX?: number;\n\n\t/**\n\t * Vertical location of the low data point relative to its cell.\n\t *\n\t * `0` - beginning, `0.5` - middle, `1` - end.\n\t *\n\t * @default 0.5\n\t */\n\tlowLocationY?: number;\n\n\t/**\n\t * Horizontal location of the high data point relative to its cell.\n\t *\n\t * `0` - beginning, `0.5` - middle, `1` - end.\n\t *\n\t * @default 0.5\n\t */\n\thighLocationX?: number;\n\n\t/**\n\t * Vertical location of the high data point relative to its cell.\n\t *\n\t * `0` - beginning, `0.5` - middle, `1` - end.\n\t *\n\t * @default 0.5\n\t */\n\thighLocationY?: number;\n\n\n\t/**\n\t * Input data field for X category.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/series/#Data_fields} for more info\n\t */\n\tcategoryXField?: string;\n\n\t/**\n\t * Input data field for Y category.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/series/#Data_fields} for more info\n\t */\n\tcategoryYField?: string;\n\n\t/**\n\t * Display data field for X category.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/series/#Data_fields} for more info\n\t */\n\topenCategoryXField?: string;\n\n\t/**\n\t * Display data field for Y category.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/series/#Data_fields} for more info\n\t */\n\topenCategoryYField?: string;\n\n\t/**\n\t * If set to `true` this series will be ignored when calculating scale of the\n\t * related axes.\n\t *\n\t * @default false\n\t */\n\tignoreMinMax?: boolean;\n\n\t/**\n\t * @ignore\n\t */\n\tvcx?: number;\n\n\t/**\n\t * @ignore\n\t */\n\tvcy?: number;\n\n\t/**\n\t * Horizontal location of the data point relative to its cell.\n\t *\n\t * `0` - beginning, `0.5` - middle, `1` - end.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/series/line-series/#Data_item_location} for more info\n\t * @default 0.5\n\t */\n\tlocationX?: number;\n\n\t/**\n\t * Vertical location of the data point relative to its cell.\n\t *\n\t * `0` - beginning, `0.5` - middle, `1` - end.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/series/line-series/#Data_item_location} for more info\n\t * @default 0.5\n\t */\n\tlocationY?: number;\n\n\t/**\n\t * Horizontal location of the open data point relative to its cell.\n\t *\n\t * `0` - beginning, `0.5` - middle, `1` - end.\n\t *\n\t * @default 0.5\n\t */\n\topenLocationX?: number;\n\n\t/**\n\t * Vertical location of the open data point relative to its cell.\n\t *\n\t * `0` - beginning, `0.5` - middle, `1` - end.\n\t *\n\t * @default 0.5\n\t */\n\topenLocationY?: number;\n\n\t/**\n\t * If set to `true` [[XYCursor]] will show closest data item from series\n\t * even if it is outside currently hovered date axis interval.\n\t *\n\t * This setting is relevant only if `baseAxis` is a date axis.\n\t */\n\tsnapTooltip?: boolean;\n\n\t/**\n\t * Text to use for series legend label when no particular category/interval\n\t * is selected.\n\t */\n\tlegendRangeLabelText?: string;\n\n\t/**\n\t * Text to use for series legend value label when no particular\n\t * category/interval is selected.\n\t */\n\tlegendRangeValueText?: string;\n\n\n\t/**\n\t * If set to `true`, series bullets will be masked by plot area.\n\t */\n\tmaskBullets?: boolean;\n\n\t/**\n\t * Whether series' tooltip should inherit its color from series or its first\n\t * bullet.\n\t *\n\t * @default \"series\"\n\t */\n\tseriesTooltipTarget?: \"series\" | \"bullet\";\n\n\t/**\n\t * Indicates horizontal position at which to show series' tooltip at.\n\t *\n\t * @default \"value\"\n\t * @since 5.0.16\n\t */\n\ttooltipPositionX?: \"open\" | \"value\" | \"low\" | \"high\";\n\n\t/**\n\t * Indicates vertical position at which to show series' tooltip at.\n\t *\n\t * @default \"value\"\n\t * @since 5.0.16\n\t */\n\ttooltipPositionY?: \"open\" | \"value\" | \"low\" | \"high\";\n\n\n\t/**\n\t * If set to `true` data items for this series won't be grouped even if\n\t * the `groupData: true` is set on a related [[DateAxis]].\n\t * \n\t * @since 5.0.19\n\t */\n\tgroupDataDisabled?: boolean;\n\n\t/**\n\t * A [[DataItem]] that is being used for current tooltip, e.g. by a chart\n\t * cursor.\n\t *\n\t * @since 5.1.2\n\t */\n\ttooltipDataItem?: DataItem<IXYSeriesDataItem>\n\n\t/**\n\t * If set to `true`, when data is grouped, the `originals` setting of the\n\t * group data items will be populated by the original (source) data items\n\t * that fall into the group.\n\t *\n\t * Please note that if `groupDataCallback` is set, this setting is ignored\n\t * as originals will always be included, regardless of the value.\n\t *\n\t * @since 5.1.11\n\t * @default false\n\t */\n\tgroupDataWithOriginals?: boolean;\n\n\t/**\n\t * A custom function to call when grouping data items.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/axes/date-axis/#Custom_aggregation_functions} for more info\n\t * @since 5.1.11\n\t */\n\tgroupDataCallback?: (dataItem: DataItem<IXYSeriesDataItem>, interval: ITimeInterval) => void;\n\n}\n\nexport interface IXYSeriesPrivate extends ISeriesPrivate {\n\n\tminX?: number;\n\tmaxX?: number;\n\n\tminY?: number;\n\tmaxY?: number;\n\n\tselectionMinX?: number;\n\tselectionMaxX?: number;\n\n\tselectionMinY?: number;\n\tselectionMaxY?: number;\n\n\tvalueXAverage?: number;\n\tvalueXCount?: number;\n\tvalueXSum?: number;\n\tvalueXAbsoluteSum?: number;\n\tvalueXLow?: number;\n\tvalueXHigh?: number;\n\tvalueXOpen?: number;\n\tvalueXClose?: number;\n\n\tvalueYAverage?: number;\n\tvalueYCount?: number;\n\tvalueYSum?: number;\n\tvalueYAbsoluteSum?: number;\n\tvalueYLow?: number;\n\tvalueYHigh?: number;\n\tvalueYOpen?: number;\n\tvalueYClose?: number;\n\n\tvalueXAverageSelection?: number;\n\tvalueXCountSelection?: number;\n\tvalueXSumSelection?: number;\n\tvalueXAbsoluteSumSelection?: number;\n\tvalueXLowSelection?: number;\n\tvalueXHighSelection?: number;\n\tvalueXOpenSelection?: number;\n\tvalueXCloseSelection?: number;\n\n\tvalueYAverageSelection?: number;\n\tvalueYCountSelection?: number;\n\tvalueYSumSelection?: number;\n\tvalueYAbsoluteSumSelection?: number;\n\tvalueYLowSelection?: number;\n\tvalueYHighSelection?: number;\n\tvalueYOpenSelection?: number;\n\tvalueYCloseSelection?: number;\n\n\topenValueXAverage?: number;\n\topenValueXCount?: number;\n\topenValueXSum?: number;\n\topenValueXAbsoluteSum?: number;\n\topenValueXLow?: number;\n\topenValueXHigh?: number;\n\topenValueXOpen?: number;\n\topenValueXClose?: number;\n\n\topenValueYAverage?: number;\n\topenValueYCount?: number;\n\topenValueYSum?: number;\n\topenValueYAbsoluteSum?: number;\n\topenValueYLow?: number;\n\topenValueYHigh?: number;\n\topenValueYOpen?: number;\n\topenValueYClose?: number;\n\n\topenValueXAverageSelection?: number;\n\topenValueXCountSelection?: number;\n\topenValueXSumSelection?: number;\n\topenValueXAbsoluteSumSelection?: number;\n\topenValueXLowSelection?: number;\n\topenValueXHighSelection?: number;\n\topenValueXOpenSelection?: number;\n\topenValueXCloseSelection?: number;\n\n\topenValueYAverageSelection?: number;\n\topenValueYCountSelection?: number;\n\topenValueYSumSelection?: number;\n\topenValueYAbsoluteSumSelection?: number;\n\topenValueYLowSelection?: number;\n\topenValueYHighSelection?: number;\n\topenValueYOpenSelection?: number;\n\topenValueYCloseSelection?: number;\n\n\tlowValueXAverage?: number;\n\tlowValueXCount?: number;\n\tlowValueXSum?: number;\n\tlowValueXAbsoluteSum?: number;\n\tlowValueXLow?: number;\n\tlowValueXHigh?: number;\n\tlowValueXlow?: number;\n\tlowValueXClose?: number;\n\n\tlowValueYAverage?: number;\n\tlowValueYCount?: number;\n\tlowValueYSum?: number;\n\tlowValueYAbsoluteSum?: number;\n\tlowValueYLow?: number;\n\tlowValueYHigh?: number;\n\tlowValueYlow?: number;\n\tlowValueYClose?: number;\n\n\tlowValueXAverageSelection?: number;\n\tlowValueXCountSelection?: number;\n\tlowValueXSumSelection?: number;\n\tlowValueXAbsoluteSumSelection?: number;\n\tlowValueXLowSelection?: number;\n\tlowValueXHighSelection?: number;\n\tlowValueXlowSelection?: number;\n\tlowValueXCloseSelection?: number;\n\n\tlowValueYAverageSelection?: number;\n\tlowValueYCountSelection?: number;\n\tlowValueYSumSelection?: number;\n\tlowValueYAbsoluteSumSelection?: number;\n\tlowValueYLowSelection?: number;\n\tlowValueYHighSelection?: number;\n\tlowValueYlowSelection?: number;\n\tlowValueYCloseSelection?: number;\n\n\thighValueXAverage?: number;\n\thighValueXCount?: number;\n\thighValueXSum?: number;\n\thighValueXAbsoluteSum?: number;\n\thighValueXLow?: number;\n\thighValueXHigh?: number;\n\thighValueXhigh?: number;\n\thighValueXClose?: number;\n\n\thighValueYAverage?: number;\n\thighValueYCount?: number;\n\thighValueYSum?: number;\n\thighValueYAbsoluteSum?: number;\n\thighValueYLow?: number;\n\thighValueYHigh?: number;\n\thighValueYhigh?: number;\n\thighValueYClose?: number;\n\n\thighValueXAverageSelection?: number;\n\thighValueXCountSelection?: number;\n\thighValueXSumSelection?: number;\n\thighValueXAbsoluteSumSelection?: number;\n\thighValueXLowSelection?: number;\n\thighValueXHighSelection?: number;\n\thighValueXhighSelection?: number;\n\thighValueXCloseSelection?: number;\n\n\thighValueYAverageSelection?: number;\n\thighValueYCountSelection?: number;\n\thighValueYSumSelection?: number;\n\thighValueYAbsoluteSumSelection?: number;\n\thighValueYLowSelection?: number;\n\thighValueYHighSelection?: number;\n\thighValueYhighSelection?: number;\n\thighValueYCloseSelection?: number;\n\n\toutOfSelection?: boolean;\n\n\tdoNotUpdateLegend?: boolean;\n}\n\n\n/**\n * A base class for all XY chart series.\n *\n * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/series/} for more info\n */\nexport abstract class XYSeries extends Series {\n\tpublic static className: string = \"XYSeries\";\n\tpublic static classNames: Array<string> = Series.classNames.concat([XYSeries.className]);\n\n\tdeclare public _settings: IXYSeriesSettings;\n\tdeclare public _privateSettings: IXYSeriesPrivate;\n\tdeclare public _dataItemSettings: IXYSeriesDataItem;\n\tdeclare public _axisRangeType: IXYSeriesAxisRange;\n\tdeclare public _events: IXYSeriesEvents;\n\n\tprotected _xField!: string;\n\tprotected _yField!: string;\n\tprotected _xOpenField!: string;\n\tprotected _yOpenField!: string;\n\n\tprotected _xLowField!: string;\n\tprotected _xHighField!: string;\n\tprotected _yLowField!: string;\n\tprotected _yHighField!: string;\n\n\tprotected _axesDirty: boolean = false;\n\tpublic _stackDirty: boolean = false;\n\n\tprotected _selectionProcessed = false;\n\n\tdeclare public chart: XYChart | undefined;\n\n\tpublic _dataSets: { [index: string]: Array<DataItem<IXYSeriesDataItem>> } = {};\n\n\tpublic _mainContainerMask: Graphics | undefined;\n\n\tprotected _x: number = 0;\n\tprotected _y: number = 0;\n\n\tpublic _bullets: { [index: string]: Sprite } = {};\n\n\t/**\n\t * A [[Container]] that us used to put series' elements in.\n\t *\n\t * @default Container.new()\n\t */\n\tpublic readonly mainContainer: Container = this.children.push(Container.new(this._root, {}));\n\n\t/**\n\t * A list of axis ranges that affect the series.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/axes/axis-ranges/} for more info\n\t */\n\tpublic readonly axisRanges: List<this[\"_axisRangeType\"]> = new List();\n\n\tprotected _skipped: boolean = false;\n\n\tprotected _couldStackTo: Array<XYSeries> = [];\n\n\tprotected _reallyStackedTo: { [index: number]: XYSeries } = {};\n\n\tpublic _stackedSeries: { [index: number]: XYSeries } = {};\n\n\tprotected _aLocationX0: number = 0;\n\tprotected _aLocationX1: number = 1;\n\tprotected _aLocationY0: number = 0;\n\tprotected _aLocationY1: number = 1;\n\n\tprotected _showBullets: boolean = true;\n\n\tprotected valueXFields = [\n\t\t\"valueX\",\n\t\t\"openValueX\",\n\t\t\"lowValueX\",\n\t\t\"highValueX\"\n\t];\n\n\tprotected valueYFields = [\n\t\t\"valueY\",\n\t\t\"openValueY\",\n\t\t\"lowValueY\",\n\t\t\"highValueY\"\n\t];\n\n\tpublic _valueXFields!: Array<string>;\n\tpublic _valueYFields!: Array<string>;\n\n\t// used for full min/max\n\tprotected _valueXShowFields!: Array<string>;\n\tprotected _valueYShowFields!: Array<string>;\n\n\t// used for selection (uses working)\n\tpublic __valueXShowFields!: Array<string>;\n\tpublic __valueYShowFields!: Array<string>;\n\n\tprotected _emptyDataItem = new DataItem(this, undefined, {});\n\n\tpublic _dataSetId?: string;\n\n\tprotected _tooltipFieldX?: string;\n\tprotected _tooltipFieldY?: string;\n\n\tpublic _posXDp?: IDisposer;\n\tpublic _posYDp?: IDisposer;\n\n\tprotected _afterNew() {\n\t\tthis.fields.push(\"categoryX\", \"categoryY\", \"openCategoryX\", \"openCategoryY\");\n\t\tthis.valueFields.push(\"valueX\", \"valueY\", \"openValueX\", \"openValueY\", \"lowValueX\", \"lowValueY\", \"highValueX\", \"highValueY\");\n\n\t\tthis._setRawDefault(\"vcx\", 1);\n\t\tthis._setRawDefault(\"vcy\", 1);\n\t\t// this can't go to themes, as data might be parsed before theme\n\t\tthis._setRawDefault(\"valueXShow\", \"valueXWorking\");\n\t\tthis._setRawDefault(\"valueYShow\", \"valueYWorking\");\n\n\t\tthis._setRawDefault(\"openValueXShow\", \"openValueXWorking\");\n\t\tthis._setRawDefault(\"openValueYShow\", \"openValueYWorking\");\n\n\t\tthis._setRawDefault(\"lowValueXShow\", \"lowValueXWorking\");\n\t\tthis._setRawDefault(\"lowValueYShow\", \"lowValueYWorking\");\n\n\t\tthis._setRawDefault(\"highValueXShow\", \"highValueXWorking\");\n\t\tthis._setRawDefault(\"highValueYShow\", \"highValueYWorking\");\n\n\t\tthis._setRawDefault(\"lowValueXGrouped\", \"low\");\n\t\tthis._setRawDefault(\"lowValueYGrouped\", \"low\");\n\n\t\tthis._setRawDefault(\"highValueXGrouped\", \"high\");\n\t\tthis._setRawDefault(\"highValueYGrouped\", \"high\");\n\n\n\n\t\tsuper._afterNew();\n\n\t\tthis.set(\"maskContent\", true);\n\n\t\tthis._disposers.push(this.axisRanges.events.onAll((change) => {\n\t\t\tif (change.type === \"clear\") {\n\t\t\t\t$array.each(change.oldValues, (axisRange) => {\n\t\t\t\t\tthis._removeAxisRange(axisRange);\n\t\t\t\t});\n\t\t\t} else if (change.type === \"push\") {\n\t\t\t\tthis._processAxisRange(change.newValue);\n\t\t\t} else if (change.type === \"setIndex\") {\n\t\t\t\tthis._processAxisRange(change.newValue);\n\t\t\t} else if (change.type === \"insertIndex\") {\n\t\t\t\tthis._processAxisRange(change.newValue);\n\t\t\t} else if (change.type === \"removeIndex\") {\n\t\t\t\tthis._removeAxisRange(change.oldValue);\n\t\t\t} else if (change.type === \"moveIndex\") {\n\t\t\t\tthis._processAxisRange(change.value);\n\t\t\t} else {\n\t\t\t\tthrow new Error(\"Unknown IStreamEvent type\");\n\t\t\t}\n\t\t}))\n\n\t\tthis.states.create(\"hidden\", <any>{ opacity: 1, visible: false });\n\n\t\tthis.onPrivate(\"startIndex\", () => {\n\t\t\tthis.root.events.once(\"frameended\", () => {\n\t\t\t\tthis.updateLegendValue();\n\t\t\t})\n\t\t})\n\n\t\tthis.onPrivate(\"endIndex\", () => {\n\t\t\tthis.root.events.once(\"frameended\", () => {\n\t\t\t\tthis.updateLegendValue();\n\t\t\t})\n\t\t})\n\n\t\tthis._makeFieldNames();\n\t}\n\n\tprotected _processAxisRange(axisRange: this[\"_axisRangeType\"]) {\n\t\tconst container = Container.new(this._root, {});\n\t\taxisRange.container = container;\n\t\tthis.children.push(container);\n\n\t\taxisRange.series = this;\n\n\t\tconst axisDataItem = axisRange.axisDataItem;\n\t\taxisDataItem.setRaw(\"isRange\", true);\n\n\t\tconst axis = <Axis<AxisRenderer>>axisDataItem.component;\n\t\tif (axis) {\n\t\t\taxis._processAxisRange(axisDataItem, [\"range\", \"series\"]);\n\n\t\t\tconst bullet = axisDataItem.get(\"bullet\");\n\t\t\tif (bullet) {\n\t\t\t\tconst sprite = bullet.get(\"sprite\");\n\t\t\t\tif (sprite) {\n\t\t\t\t\tsprite.setPrivate(\"visible\", false);\n\t\t\t\t}\n\t\t\t}\n\t\t\tconst axisFill = axisDataItem.get(\"axisFill\");\n\t\t\tif (axisFill) {\n\t\t\t\tcontainer.set(\"mask\", axisFill);\n\t\t\t}\n\t\t\taxis._seriesAxisRanges.push(axisDataItem);\n\t\t}\n\t}\n\n\tprotected _onDataClear(): void {\n\t\tsuper._onDataClear();\n\t\t$object.each(this._dataSets, (_key, dataItems) => {\n\t\t\t$array.each(dataItems, (dataItem) => {\n\t\t\t\tdataItem.dispose();\n\t\t\t});\n\t\t\tdataItems.length = 0;\n\t\t});\n\t}\n\n\tprotected _removeAxisRange(axisRange: this[\"_axisRangeType\"]) {\n\t\tconst axisDataItem = axisRange.axisDataItem;\n\t\tconst axis = <Axis<AxisRenderer>>axisDataItem.component;\n\t\taxisDataItem.dispose();\n\n\t\t$array.remove(axis._seriesAxisRanges, axisDataItem);\n\n\t\tconst container = axisRange.container;\n\t\tif (container) {\n\t\t\tcontainer.dispose();\n\t\t}\n\t}\n\n\tprotected _updateFields() {\n\t\tsuper._updateFields();\n\n\t\tthis._valueXFields = [];\n\t\tthis._valueYFields = [];\n\t\tthis._valueXShowFields = [];\n\t\tthis._valueYShowFields = [];\n\n\t\tthis.__valueXShowFields = [];\n\t\tthis.__valueYShowFields = [];\n\n\t\tif (this.valueXFields) {\n\t\t\t$array.each(this.valueXFields as Array<keyof this[\"_settings\"]>, (key) => {\n\t\t\t\tconst field = this.get(<any>(key + \"Field\"));\n\t\t\t\tif (field) {\n\t\t\t\t\tthis._valueXFields.push(<any>key);\n\t\t\t\t\tlet field = this.get(<any>(key + \"Show\"));\n\t\t\t\t\tthis.__valueXShowFields.push(field);\n\n\t\t\t\t\tif (field.indexOf(\"Working\") != -1) {\n\t\t\t\t\t\tthis._valueXShowFields.push(field.split(\"Working\")[0]);\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tthis._valueXShowFields.push(field);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tif (this.valueYFields) {\n\t\t\t$array.each(this.valueYFields as Array<keyof this[\"_settings\"]>, (key) => {\n\t\t\t\tconst field = this.get(<any>(key + \"Field\"));\n\n\t\t\t\tif (field) {\n\t\t\t\t\tthis._valueYFields.push(<any>key);\n\t\t\t\t\tlet field = this.get(<any>(key + \"Show\"));\n\t\t\t\t\tthis.__valueYShowFields.push(field);\n\n\t\t\t\t\tif (field.indexOf(\"Working\") != -1) {\n\t\t\t\t\t\tthis._valueYShowFields.push(field.split(\"Working\")[0]);\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tthis._valueYShowFields.push(field);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\n\tprotected _dispose() {\n\t\tsuper._dispose();\n\n\t\tthis._bullets = {};\n\t\tconst chart = this.chart;\n\t\tif (chart) {\n\t\t\tchart.series.removeValue(this);\n\t\t}\n\n\t\t$array.removeFirst(this.get(\"xAxis\").series, this);\n\t\t$array.removeFirst(this.get(\"yAxis\").series, this);\n\t}\n\n\t// TODO use  SelectKeys<this[\"_privateSettings\"], number | undefined>\n\tprotected _min<Key extends keyof this[\"_privateSettings\"]>(key: Key, value: number | undefined) {\n\t\tlet newValue = min(this.getPrivate(key) as any, value);\n\t\tthis.setPrivate(key, newValue as any);\n\t}\n\n\t// TODO use  SelectKeys<this[\"_privateSettings\"], number | undefined>\n\tprotected _max<Key extends keyof this[\"_privateSettings\"]>(key: Key, value: number | undefined) {\n\t\tlet newValue = max(this.getPrivate(key) as any, value);\n\t\tthis.setPrivate(key, newValue as any);\n\t}\n\n\tprotected _shouldMakeBullet(dataItem: DataItem<this[\"_dataItemSettings\"]>): boolean {\n\n\t\tconst xAxis = this.get(\"xAxis\");\n\t\tconst yAxis = this.get(\"yAxis\");\n\t\tconst baseAxis = this.get(\"baseAxis\");\n\n\t\tif (!xAxis.inited || !yAxis.inited) {\n\t\t\treturn false\n\t\t}\n\n\t\tconst minBulletDistance = this.get(\"minBulletDistance\", 0);\n\t\tif (minBulletDistance > 0) {\n\t\t\tlet startIndex = this.startIndex();\n\t\t\tlet endIndex = this.endIndex();\n\n\t\t\tlet count = endIndex - startIndex;\n\n\t\t\tif (xAxis == baseAxis) {\n\t\t\t\tif (xAxis.get(\"renderer\").axisLength() / count < minBulletDistance / 5) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (yAxis == baseAxis) {\n\t\t\t\tif (yAxis.get(\"renderer\").axisLength() / count < minBulletDistance / 5) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (dataItem.get(this._xField as any) != null && dataItem.get(this._yField as any) != null) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\tprotected _makeFieldNames() {\n\t\tconst xAxis = this.get(\"xAxis\");\n\t\tconst yAxis = this.get(\"yAxis\");\n\t\tconst xName = xAxis.getPrivate(\"name\")!;\n\t\tconst xCapName = $utils.capitalizeFirst(xName);\n\n\t\tconst yName = yAxis.getPrivate(\"name\")!;\n\t\tconst yCapName = $utils.capitalizeFirst(yName);\n\n\t\tconst xLetter = xAxis.get(\"renderer\").getPrivate(\"letter\")!\n\t\tconst yLetter = yAxis.get(\"renderer\").getPrivate(\"letter\")!\n\n\t\tconst open = \"open\";\n\t\tconst low = \"low\";\n\t\tconst high = \"high\";\n\t\tconst show = \"Show\";\n\n\t\tif (xAxis.className === \"ValueAxis\") {\n\t\t\tthis._xField = this.get(<any>(xName + xLetter! + show));\n\t\t\tthis._xOpenField = this.get(<any>(open + xCapName + xLetter! + show));\n\t\t\tthis._xLowField = this.get(<any>(low + xCapName + xLetter! + show));\n\t\t\tthis._xHighField = this.get(<any>(high + xCapName + xLetter! + show));\n\t\t}\n\t\telse {\n\t\t\tthis._xField = <any>(xName + xLetter!);\n\t\t\tthis._xOpenField = <any>(open + xCapName + xLetter!);\n\t\t\tthis._xLowField = <any>(low + xCapName + xLetter!);\n\t\t\tthis._xHighField = <any>(high + xCapName + xLetter!);\n\t\t}\n\n\t\tif (yAxis.className === \"ValueAxis\") {\n\t\t\tthis._yField = this.get(<any>(yName + yLetter! + show));\n\t\t\tthis._yOpenField = this.get(<any>(open + yCapName + yLetter! + show));\n\t\t\tthis._yLowField = this.get(<any>(low + yCapName + yLetter! + show));\n\t\t\tthis._yHighField = this.get(<any>(high + yCapName + yLetter! + show));\n\t\t}\n\t\telse {\n\t\t\tthis._yField = <any>(yName + yLetter!);\n\t\t\tthis._yOpenField = <any>(open + yCapName + yLetter!);\n\t\t\tthis._yLowField = <any>(low + yCapName + yLetter!);\n\t\t\tthis._yHighField = <any>(high + yCapName + yLetter!);\n\t\t}\n\t}\n\n\tprotected _fixVC() {\n\t\tconst xAxis = this.get(\"xAxis\");\n\t\tconst yAxis = this.get(\"yAxis\");\n\t\tconst baseAxis = this.get(\"baseAxis\");\n\t\tconst hiddenState = this.states.lookup(\"hidden\");\n\t\tconst sequencedInterpolation = this.get(\"sequencedInterpolation\");\n\n\t\tif (hiddenState) {\n\t\t\tlet value = 0;\n\t\t\tif (sequencedInterpolation) {\n\t\t\t\tvalue = 0.999999999999; // makes animate, good for stacked\n\t\t\t}\n\n\t\t\tif (xAxis === baseAxis) {\n\t\t\t\thiddenState.set(\"vcy\", value);\n\t\t\t}\n\t\t\telse if (yAxis === baseAxis) {\n\t\t\t\thiddenState.set(\"vcx\", value);\n\t\t\t}\n\t\t\telse {\n\t\t\t\thiddenState.set(\"vcy\", value);\n\t\t\t\thiddenState.set(\"vcx\", value);\n\t\t\t}\n\t\t}\n\t}\n\n\n\tprotected _handleMaskBullets() {\n\t\tif (this.isDirty(\"maskBullets\")) {\n\t\t\tthis.bulletsContainer.set(\"maskContent\", this.get(\"maskBullets\"));\n\t\t}\n\t}\n\n\tpublic _fixPosition() {\n\t\tconst xAxis = this.get(\"xAxis\");\n\t\tconst yAxis = this.get(\"yAxis\");\n\n\t\tthis.set(\"x\", xAxis.x() - $utils.relativeToValue(xAxis.get(\"centerX\", 0), xAxis.width()) - xAxis.parent!.get(\"paddingLeft\", 0));\n\t\tthis.set(\"y\", yAxis.y() - $utils.relativeToValue(yAxis.get(\"centerY\", 0), yAxis.height()) - yAxis.parent!.get(\"paddingTop\", 0));\n\n\t\tthis.bulletsContainer.set(\"y\", this.y());\n\t\tthis.bulletsContainer.set(\"x\", this.x());\n\t}\n\n\n\tpublic _prepareChildren() {\n\t\tsuper._prepareChildren();\n\n\t\tthis._bullets = {};\n\n\t\tif (this.isDirty(\"valueYShow\") || this.isDirty(\"valueXShow\") || this.isDirty(\"openValueYShow\") || this.isDirty(\"openValueXShow\") || this.isDirty(\"lowValueYShow\") || this.isDirty(\"lowValueXShow\") || this.isDirty(\"highValueYShow\") || this.isDirty(\"highValueXShow\")) {\n\t\t\tthis._updateFields();\n\t\t\tthis._makeFieldNames();\n\t\t\tthis._valuesDirty = true;\n\t\t}\n\n\t\tif (this.isDirty(\"xAxis\") || this.isDirty(\"yAxis\")) {\n\t\t\tthis._valuesDirty = true;\n\t\t}\n\n\t\tthis.set(\"width\", this.get(\"xAxis\").width());\n\t\tthis.set(\"height\", this.get(\"yAxis\").height());\n\n\t\tthis._handleMaskBullets();\n\n\t\tconst xAxis = this.get(\"xAxis\");\n\t\tconst yAxis = this.get(\"yAxis\");\n\t\tconst baseAxis = this.get(\"baseAxis\");\n\n\t\tconst tooltipPositionX = this.get(\"tooltipPositionX\");\n\t\tlet tooltipFieldX: string;\n\n\t\tswitch (tooltipPositionX) {\n\t\t\tcase \"open\":\n\t\t\t\ttooltipFieldX = this._xOpenField;\n\t\t\t\tbreak;\n\t\t\tcase \"low\":\n\t\t\t\ttooltipFieldX = this._xLowField;\n\t\t\t\tbreak;\n\t\t\tcase \"high\":\n\t\t\t\ttooltipFieldX = this._xHighField;\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\ttooltipFieldX = this._xField;\n\t\t}\n\t\tthis._tooltipFieldX = tooltipFieldX;\n\n\t\tconst tooltipPositionY = this.get(\"tooltipPositionY\");\n\t\tlet tooltipFieldY: string;\n\t\tswitch (tooltipPositionY) {\n\t\t\tcase \"open\":\n\t\t\t\ttooltipFieldY = this._yOpenField;\n\t\t\t\tbreak;\n\t\t\tcase \"low\":\n\t\t\t\ttooltipFieldY = this._yLowField;\n\t\t\t\tbreak;\n\t\t\tcase \"high\":\n\t\t\t\ttooltipFieldY = this._yHighField;\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\ttooltipFieldY = this._yField;\n\t\t}\n\t\tthis._tooltipFieldY = tooltipFieldY;\n\n\t\tif (this.isDirty(\"baseAxis\")) {\n\t\t\tthis._fixVC();\n\t\t}\n\n\n\t\tthis._fixPosition();\n\n\t\tconst stacked = this.get(\"stacked\");\n\n\t\tif (this.isDirty(\"stacked\")) {\n\t\t\tif (stacked) {\n\t\t\t\tif (this._valuesDirty && !this._dataProcessed) {\n\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tthis._stack();\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis._unstack();\n\t\t\t}\n\t\t}\n\n\t\tif (this._valuesDirty && !this._dataProcessed) {\n\t\t\tthis._dataProcessed = true;\n\n\t\t\tif (stacked) {\n\t\t\t\tthis._stack();\n\t\t\t}\n\n\t\t\t$array.each(this.dataItems, (dataItem) => {\n\t\t\t\t$array.each(this._valueXShowFields, (key) => {\n\t\t\t\t\tlet value = dataItem.get(<any>key);\n\t\t\t\t\tif (value != null) {\n\t\t\t\t\t\tif (stacked) {\n\t\t\t\t\t\t\tvalue += this.getStackedXValue(dataItem, key);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tthis._min(\"minX\", value);\n\t\t\t\t\t\tthis._max(\"maxX\", value);\n\t\t\t\t\t}\n\t\t\t\t})\n\n\t\t\t\t$array.each(this._valueYShowFields, (key) => {\n\t\t\t\t\tlet value = dataItem.get(<any>key);\n\t\t\t\t\tif (value != null) {\n\t\t\t\t\t\tif (stacked) {\n\t\t\t\t\t\t\tvalue += this.getStackedYValue(dataItem, key);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tthis._min(\"minY\", value);\n\t\t\t\t\t\tthis._max(\"maxY\", value);\n\t\t\t\t\t}\n\t\t\t\t})\n\n\t\t\t\txAxis.processSeriesDataItem(dataItem, this._valueXFields);\n\t\t\t\tyAxis.processSeriesDataItem(dataItem, this._valueYFields);\n\t\t\t})\n\n\t\t\txAxis._seriesValuesDirty = true;\n\t\t\tyAxis._seriesValuesDirty = true;\n\n\t\t\tif (!this.get(\"ignoreMinMax\")) {\n\t\t\t\tif (this.isPrivateDirty(\"minX\") || this.isPrivateDirty(\"maxX\")) {\n\t\t\t\t\txAxis.markDirtyExtremes();\n\t\t\t\t}\n\t\t\t\tif (this.isPrivateDirty(\"minY\") || this.isPrivateDirty(\"maxY\")) {\n\t\t\t\t\tyAxis.markDirtyExtremes();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis._markStakedDirtyStack();\n\n\t\t\t//this.updateLegendMarker(undefined); // causes legend marker to change color instantly when on\n\t\t\tif (!this.get(\"tooltipDataItem\")) {\n\t\t\t\tthis.updateLegendValue(undefined);\n\t\t\t}\n\t\t}\n\n\t\tif (this.isDirty(\"vcx\") || this.isDirty(\"vcy\")) {\n\t\t\tthis._markStakedDirtyStack();\n\t\t}\n\n\t\tif (!this._dataGrouped) {\n\t\t\txAxis._groupSeriesData(this);\n\t\t\tyAxis._groupSeriesData(this);\n\t\t\tthis._dataGrouped = true;\n\t\t}\n\n\t\tif (this._valuesDirty || this.isPrivateDirty(\"startIndex\") || this.isPrivateDirty(\"adjustedStartIndex\") || this.isPrivateDirty(\"endIndex\") || this.isDirty(\"vcx\") || this.isDirty(\"vcy\") || this._stackDirty || this._sizeDirty) {\n\t\t\tlet startIndex = this.startIndex();\n\t\t\tlet endIndex = this.endIndex();\n\t\t\tlet minBulletDistance = this.get(\"minBulletDistance\", 0);\n\t\t\tif (minBulletDistance > 0 && baseAxis) {\n\t\t\t\tif (baseAxis.get(\"renderer\").axisLength() / (endIndex - startIndex) > minBulletDistance) {\n\t\t\t\t\tthis._showBullets = true;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tthis._showBullets = false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif ((this._psi != startIndex || this._pei != endIndex || this.isDirty(\"vcx\") || this.isDirty(\"vcy\") || this.isPrivateDirty(\"adjustedStartIndex\") || this._stackDirty || this._valuesDirty) && !this._selectionProcessed) {\n\t\t\t\tthis._selectionProcessed = true;\n\n\t\t\t\tconst vcx = this.get(\"vcx\", 1);\n\t\t\t\tconst vcy = this.get(\"vcy\", 1);\n\t\t\t\tconst stacked = this.get(\"stacked\", false);\n\t\t\t\tconst outOfSelection = this.getPrivate(\"outOfSelection\");\n\n\t\t\t\tif (baseAxis === xAxis || !baseAxis) {\n\t\t\t\t\tyAxis._calculateTotals();\n\t\t\t\t\tthis.setPrivateRaw(\"selectionMinY\", undefined);\n\t\t\t\t\tthis.setPrivateRaw(\"selectionMaxY\", undefined);\n\t\t\t\t\tif (!outOfSelection) {\n\t\t\t\t\t\tfor (let i = startIndex; i < endIndex; i++) {\n\t\t\t\t\t\t\tthis.processYSelectionDataItem(this.dataItems[i], vcy, stacked);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tyAxis.markDirtySelectionExtremes();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (baseAxis === yAxis || !baseAxis) {\n\t\t\t\t\txAxis._calculateTotals();\n\t\t\t\t\tthis.setPrivateRaw(\"selectionMinX\", undefined);\n\t\t\t\t\tthis.setPrivateRaw(\"selectionMaxX\", undefined);\n\t\t\t\t\tif (!outOfSelection) {\n\t\t\t\t\t\tfor (let i = startIndex; i < endIndex; i++) {\n\t\t\t\t\t\t\tthis.processXSelectionDataItem(this.dataItems[i], vcx, stacked);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tyAxis.markDirtySelectionExtremes();\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (baseAxis === xAxis || !baseAxis) {\n\t\t\t\t\tif (this.get(\"valueYShow\") !== \"valueYWorking\" || this.get(\"useSelectionExtremes\")) {\n\t\t\t\t\t\tconst selectionMinY = this.getPrivate(\"selectionMinY\");\n\t\t\t\t\t\tif (selectionMinY != null) {\n\t\t\t\t\t\t\tthis.setPrivateRaw(\"minY\", selectionMinY);\n\t\t\t\t\t\t\tyAxis.markDirtyExtremes();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tconst selectionMaxY = this.getPrivate(\"selectionMaxY\");\n\t\t\t\t\t\tif (selectionMaxY != null) {\n\t\t\t\t\t\t\tthis.setPrivateRaw(\"maxY\", selectionMaxY);\n\t\t\t\t\t\t\tyAxis.markDirtyExtremes();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (baseAxis === yAxis || !baseAxis) {\n\t\t\t\t\tif (this.get(\"valueXShow\") !== \"valueXWorking\" || this.get(\"useSelectionExtremes\")) {\n\t\t\t\t\t\tconst selectionMinX = this.getPrivate(\"selectionMinX\");\n\t\t\t\t\t\tif (selectionMinX != null) {\n\t\t\t\t\t\t\tthis.setPrivateRaw(\"minX\", selectionMinX);\n\t\t\t\t\t\t\tyAxis.markDirtyExtremes();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tconst selectionMaxX = this.getPrivate(\"selectionMaxX\")\n\t\t\t\t\t\tif (selectionMaxX != null) {\n\t\t\t\t\t\t\tthis.setPrivateRaw(\"maxX\", selectionMaxX);\n\t\t\t\t\t\t\txAxis.markDirtyExtremes();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (this.isPrivateDirty(\"selectionMinX\") || this.isPrivateDirty(\"selectionMaxX\")) {\n\t\t\t\t\txAxis.markDirtySelectionExtremes();\n\t\t\t\t}\n\n\t\t\t\tif (this.isPrivateDirty(\"selectionMinY\") || this.isPrivateDirty(\"selectionMaxY\")) {\n\t\t\t\t\tyAxis.markDirtySelectionExtremes();\n\t\t\t\t}\n\t\t\t\t// this.updateLegendValue(undefined); flickers while panning\n\t\t\t}\n\t\t}\n\t}\n\n\n\tprotected _makeRangeMask() {\n\t\tif (this.axisRanges.length > 0) {\n\t\t\tlet mainContainerMask = this._mainContainerMask;\n\t\t\tif (mainContainerMask == null) {\n\t\t\t\tmainContainerMask = this.children.push(Graphics.new(this._root, {}));\n\t\t\t\tthis._mainContainerMask = mainContainerMask;\n\n\t\t\t\tmainContainerMask.set(\"draw\", (display, target) => {\n\t\t\t\t\tconst parent = this.parent;\n\t\t\t\t\tif (parent) {\n\t\t\t\t\t\tconst w = this._root.container.width();\n\t\t\t\t\t\tconst h = this._root.container.height();\n\t\t\t\t\t\tdisplay.moveTo(-w, -h);\n\t\t\t\t\t\tdisplay.lineTo(-w, h * 2);\n\t\t\t\t\t\tdisplay.lineTo(w * 2, h * 2);\n\t\t\t\t\t\tdisplay.lineTo(w * 2, -h);\n\t\t\t\t\t\tdisplay.lineTo(-w, -h);\n\n\n\t\t\t\t\t\tthis.axisRanges.each((axisRange) => {\n\t\t\t\t\t\t\tconst fill = axisRange.axisDataItem.get(\"axisFill\");\n\n\t\t\t\t\t\t\tif (parent) {\n\t\t\t\t\t\t\t\tif (fill) {\n\t\t\t\t\t\t\t\t\tlet draw = fill.get(\"draw\");\n\t\t\t\t\t\t\t\t\tif (draw) {\n\t\t\t\t\t\t\t\t\t\tdraw(display, target);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t\tthis.mainContainer._display.mask = mainContainerMask!._display;\n\t\t\t\t})\n\t\t\t}\n\n\t\t\tmainContainerMask.markDirty();\n\t\t\tmainContainerMask._markDirtyKey(\"fill\");\n\t\t}\n\t\telse {\n\t\t\tthis.mainContainer._display.mask = null;\n\t\t}\n\t}\n\n\n\tpublic _updateChildren() {\n\t\tsuper._updateChildren();\n\n\t\t// save for performance\n\t\tthis._x = this.x();\n\t\tthis._y = this.y();\n\t\tthis._makeRangeMask();\n\t}\n\n\tprotected _stack() {\n\t\tconst chart = this.chart;\n\t\tif (chart) {\n\t\t\tconst seriesIndex = chart.series.indexOf(this);\n\n\t\t\tthis._couldStackTo = [];\n\n\t\t\tif (seriesIndex > 0) {\n\t\t\t\tlet series: XYSeries;\n\n\t\t\t\tfor (let i = seriesIndex - 1; i >= 0; i--) {\n\t\t\t\t\tseries = chart.series.getIndex(i)!;\n\t\t\t\t\tif (series.get(\"xAxis\") === this.get(\"xAxis\") && series.get(\"yAxis\") === this.get(\"yAxis\") && series.className === this.className) {\n\t\t\t\t\t\tthis._couldStackTo.push(series);\n\t\t\t\t\t\tif (!series.get(\"stacked\")) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis._stackDataItems();\n\t\t}\n\t}\n\n\tpublic _unstack() {\n\n\t\t$object.each(this._reallyStackedTo, (_key, value) => {\n\t\t\tdelete (value._stackedSeries[this.uid]);\n\t\t})\n\n\t\tthis._reallyStackedTo = {};\n\t\t$array.each(this.dataItems, (dataItem) => {\n\t\t\tdataItem.setRaw(\"stackToItemY\", undefined);\n\t\t\tdataItem.setRaw(\"stackToItemX\", undefined);\n\t\t})\n\t}\n\n\tpublic _handleRemoved(): void {\n\t\tconst xAxis = this.get(\"xAxis\");\n\t\tif (xAxis) {\n\t\t\txAxis._handleSeriesRemoved();\n\t\t}\n\t\tconst yAxis = this.get(\"yAxis\");\n\t\tif (yAxis) {\n\t\t\tyAxis._handleSeriesRemoved();\n\t\t}\n\t}\n\n\tprotected _stackDataItems() {\n\t\t// this works only with the same number of data @todo: search by date/category?\n\t\tconst baseAxis = this.get(\"baseAxis\");\n\t\tconst xAxis = this.get(\"xAxis\");\n\t\tconst yAxis = this.get(\"yAxis\");\n\n\t\tlet field: \"valueX\" | \"valueY\";\n\t\tlet stackToItemKey: \"stackToItemX\" | \"stackToItemY\";\n\t\tif (baseAxis === xAxis) {\n\t\t\tfield = \"valueY\";\n\t\t\tstackToItemKey = \"stackToItemY\";\n\t\t}\n\t\telse if (baseAxis === yAxis) {\n\t\t\tfield = \"valueX\";\n\t\t\tstackToItemKey = \"stackToItemX\";\n\t\t}\n\n\t\tlet len = this._couldStackTo.length;\n\t\tlet index = 0;\n\t\tconst stackToNegative = this.get(\"stackToNegative\");\n\n\t\tthis._reallyStackedTo = {};\n\n\t\t$array.each(this.dataItems, (dataItem) => {\n\t\t\tfor (let s = 0; s < len; s++) {\n\t\t\t\tlet stackToSeries = this._couldStackTo[s];\n\t\t\t\tlet stackToItem = stackToSeries.dataItems[index];\n\t\t\t\tlet value = dataItem.get(field);\n\n\t\t\t\tif (stackToItem) {\n\t\t\t\t\tlet stackValue = stackToItem.get(field);\n\t\t\t\t\tif (stackToNegative) {\n\t\t\t\t\t\tif ($type.isNumber(value)) {\n\t\t\t\t\t\t\tif ($type.isNumber(stackValue)) {\n\n\t\t\t\t\t\t\t\tif (s == len - 1) {\n\t\t\t\t\t\t\t\t\tdataItem.setRaw(stackToItemKey, undefined);\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tif (value >= 0 && stackValue >= 0) {\n\t\t\t\t\t\t\t\t\tdataItem.setRaw(stackToItemKey, stackToItem);\n\t\t\t\t\t\t\t\t\tthis._reallyStackedTo[stackToSeries.uid] = stackToSeries;\n\t\t\t\t\t\t\t\t\tstackToSeries._stackedSeries[this.uid] = this;\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (value < 0 && stackValue < 0) {\n\t\t\t\t\t\t\t\t\tdataItem.setRaw(stackToItemKey, stackToItem);\n\t\t\t\t\t\t\t\t\tthis._reallyStackedTo[stackToSeries.uid] = stackToSeries;\n\t\t\t\t\t\t\t\t\tstackToSeries._stackedSeries[this.uid] = this;\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tif ($type.isNumber(value) && $type.isNumber(stackValue)) {\n\t\t\t\t\t\t\tdataItem.setRaw(stackToItemKey, stackToItem);\n\t\t\t\t\t\t\tthis._reallyStackedTo[stackToSeries.uid] = stackToSeries;\n\t\t\t\t\t\t\tstackToSeries._stackedSeries[this.uid] = this;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tindex++;\n\t\t})\n\t}\n\n\tprotected processXSelectionDataItem(dataItem: DataItem<this[\"_dataItemSettings\"]>, vcx: number, stacked: boolean) {\n\t\t$array.each(this.__valueXShowFields, (key) => {\n\t\t\tlet value = dataItem.get(<any>key);\n\t\t\tif (value != null) {\n\t\t\t\tif (stacked) {\n\t\t\t\t\tvalue += this.getStackedXValueWorking(dataItem, key);\n\t\t\t\t}\n\n\t\t\t\tthis._min(\"selectionMinX\", value);\n\t\t\t\tthis._max(\"selectionMaxX\", value * vcx);\n\t\t\t}\n\t\t})\n\t}\n\n\tprotected processYSelectionDataItem(dataItem: DataItem<this[\"_dataItemSettings\"]>, vcy: number, stacked: boolean) {\n\t\t$array.each(this.__valueYShowFields, (key) => {\n\n\t\t\tlet value = dataItem.get(<any>key);\n\t\t\tif (value != null) {\n\t\t\t\tif (stacked) {\n\t\t\t\t\tvalue += this.getStackedYValueWorking(dataItem, key);\n\t\t\t\t}\n\n\t\t\t\tthis._min(\"selectionMinY\", value);\n\t\t\t\tthis._max(\"selectionMaxY\", value * vcy);\n\t\t\t}\n\t\t})\n\t}\n\n\t/**\n\t * @ignore\n\t */\n\tpublic getStackedYValueWorking(dataItem: DataItem<IXYSeriesDataItem>, key: string): number {\n\t\tconst stackToItem = dataItem.get(\"stackToItemY\");\n\n\t\tif (stackToItem) {\n\t\t\tconst stackedToSeries = stackToItem.component as XYSeries;\n\n\t\t\treturn stackToItem.get(key as any, 0) * stackedToSeries.get(\"vcy\", 1) + this.getStackedYValueWorking(stackToItem, key);\n\t\t}\n\t\treturn 0;\n\t}\n\n\t/**\n\t * @ignore\n\t */\n\tpublic getStackedXValueWorking(dataItem: DataItem<IXYSeriesDataItem>, key: string): number {\n\t\tconst stackToItem = dataItem.get(\"stackToItemX\");\n\n\t\tif (stackToItem) {\n\t\t\tconst stackedToSeries = stackToItem.component as XYSeries;\n\t\t\treturn stackToItem.get(key as any, 0) * stackedToSeries.get(\"vcx\", 1) + this.getStackedXValueWorking(stackToItem, key);\n\t\t}\n\t\treturn 0;\n\t}\n\n\t/**\n\t * @ignore\n\t */\n\tpublic getStackedYValue(dataItem: DataItem<IXYSeriesDataItem>, key: string): number {\n\t\tconst stackToItem = dataItem.get(\"stackToItemY\");\n\n\t\tif (stackToItem) {\n\t\t\treturn stackToItem.get(key as any, 0) + this.getStackedYValue(stackToItem, key);\n\t\t}\n\t\treturn 0;\n\t}\n\n\t/**\n\t * @ignore\n\t */\n\tpublic getStackedXValue(dataItem: DataItem<IXYSeriesDataItem>, key: string): number {\n\t\tconst stackToItem = dataItem.get(\"stackToItemX\");\n\n\t\tif (stackToItem) {\n\t\t\treturn stackToItem.get(key as any, 0) + this.getStackedXValue(stackToItem, key);\n\t\t}\n\t\treturn 0;\n\t}\n\n\t/**\n\t * @ignore\n\t */\n\tpublic createLegendMarker(_dataItem?: DataItem<this[\"_dataItemSettings\"]>) {\n\t\tthis.updateLegendMarker();\n\t}\n\n\tpublic _markDirtyAxes() {\n\t\tthis._axesDirty = true;\n\t\tthis.markDirty();\n\t}\n\n\tpublic _markDataSetDirty() {\n\t\tthis._afterDataChange();\n\t\tthis._valuesDirty = true;\n\t\tthis._dataProcessed = false;\n\t\tthis._aggregatesCalculated = false;\n\t\tthis.markDirty();\n\t}\n\n\tpublic _clearDirty() {\n\t\tsuper._clearDirty();\n\t\tthis._axesDirty = false;\n\t\tthis._selectionProcessed = false;\n\t\tthis._stackDirty = false;\n\t\tthis._dataProcessed = false;\n\t}\n\n\tpublic _positionBullet(bullet: Bullet) {\n\t\tlet sprite = bullet.get(\"sprite\");\n\t\tif (sprite) {\n\t\t\tlet dataItem = sprite.dataItem as DataItem<this[\"_dataItemSettings\"]>;\n\n\t\t\tlet locationX = bullet.get(\"locationX\", dataItem.get(\"locationX\", 0.5));\n\t\t\tlet locationY = bullet.get(\"locationY\", dataItem.get(\"locationY\", 0.5));\n\n\t\t\tlet xAxis = this.get(\"xAxis\");\n\t\t\tlet yAxis = this.get(\"yAxis\");\n\n\t\t\tlet exactLocationX = this.get(\"exactLocationX\", false);\n\t\t\tlet exactLocationY = this.get(\"exactLocationY\", false);\n\n\t\t\tlet positionX = xAxis.getDataItemPositionX(dataItem, this._xField, locationX, this.get(\"vcx\", 1), exactLocationX);\n\t\t\tlet positionY = yAxis.getDataItemPositionY(dataItem, this._yField, locationY, this.get(\"vcy\", 1), exactLocationY);\n\n\t\t\tlet point = this.getPoint(positionX, positionY);\n\n\t\t\tlet left = dataItem.get(\"left\", point.x);\n\t\t\tlet right = dataItem.get(\"right\", point.x);\n\t\t\tlet top = dataItem.get(\"top\", point.y);\n\t\t\tlet bottom = dataItem.get(\"bottom\", point.y);\n\n\t\t\tlet x = 0;\n\t\t\tlet y = 0;\n\n\t\t\tlet w = right - left;\n\t\t\tlet h = bottom - top;\n\n\t\t\tif (this._shouldShowBullet(positionX, positionY)) {\n\t\t\t\tsprite.setPrivate(\"visible\", !bullet.getPrivate(\"hidden\"));\n\n\t\t\t\tlet field = bullet.get(\"field\");\n\n\t\t\t\tconst baseAxis = this.get(\"baseAxis\");\n\t\t\t\tconst xAxis = this.get(\"xAxis\");\n\t\t\t\tconst yAxis = this.get(\"yAxis\");\n\n\t\t\t\tif (field != undefined) {\n\t\t\t\t\tlet realField: string | undefined;\n\n\t\t\t\t\tif (baseAxis == xAxis) {\n\t\t\t\t\t\tif (field == \"value\") {\n\t\t\t\t\t\t\trealField = this._yField;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (field == \"open\") {\n\t\t\t\t\t\t\trealField = this._yOpenField;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (field == \"high\") {\n\t\t\t\t\t\t\trealField = this._yHighField;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (field == \"low\") {\n\t\t\t\t\t\t\trealField = this._yLowField;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (realField) {\n\t\t\t\t\t\t\tpositionY = yAxis.getDataItemPositionY(dataItem, realField as any, 0, this.get(\"vcy\", 1), exactLocationY)\n\n\t\t\t\t\t\t\tpoint = yAxis.get(\"renderer\").positionToPoint(positionY);\n\n\t\t\t\t\t\t\ty = point.y;\n\t\t\t\t\t\t\tx = left + w * locationX;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tif (field == \"value\") {\n\t\t\t\t\t\t\trealField = this._xField;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (field == \"open\") {\n\t\t\t\t\t\t\trealField = this._xOpenField;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (field == \"high\") {\n\t\t\t\t\t\t\trealField = this._xHighField;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (field == \"low\") {\n\t\t\t\t\t\t\trealField = this._xLowField;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (realField) {\n\t\t\t\t\t\t\tpositionX = xAxis.getDataItemPositionX(dataItem, realField as any, 0, this.get(\"vcx\", 1), exactLocationX);\n\n\t\t\t\t\t\t\tpoint = xAxis.get(\"renderer\").positionToPoint(positionX);\n\n\t\t\t\t\t\t\tx = point.x;\n\t\t\t\t\t\t\ty = bottom - h * locationY;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tx = left + w * locationX;\n\t\t\t\t\ty = bottom - h * locationY;\n\t\t\t\t}\n\n\t\t\t\tconst stacked = bullet.get(\"stacked\");\n\t\t\t\tif (stacked) {\n\t\t\t\t\tconst chart = this.chart;\n\t\t\t\t\tif (baseAxis == xAxis) {\n\t\t\t\t\t\tlet previousBullet = this._bullets[positionX + \"_\" + positionY];\n\t\t\t\t\t\tif (previousBullet) {\n\t\t\t\t\t\t\tlet previousBounds = previousBullet.bounds();\n\t\t\t\t\t\t\tlet bounds = sprite.localBounds();\n\t\t\t\t\t\t\tlet yo = y;\n\t\t\t\t\t\t\ty = previousBounds.top;\n\n\t\t\t\t\t\t\tif (stacked == \"down\") {\n\t\t\t\t\t\t\t\ty = previousBounds.bottom - bounds.top;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse if (stacked == \"auto\") {\n\t\t\t\t\t\t\t\tif (chart) {\n\t\t\t\t\t\t\t\t\tif (yo < chart.plotContainer.height() / 2) {\n\t\t\t\t\t\t\t\t\t\ty = previousBounds.bottom - bounds.top;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\t\t\ty += bounds.bottom;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\ty += bounds.bottom;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis._bullets[positionX + \"_\" + positionY] = sprite;\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tlet previousBullet = this._bullets[positionX + \"_\" + positionY];\n\t\t\t\t\t\tif (previousBullet) {\n\t\t\t\t\t\t\tlet previousBounds = previousBullet.bounds();\n\t\t\t\t\t\t\tlet bounds = sprite.localBounds();\n\t\t\t\t\t\t\tlet xo = x;\n\t\t\t\t\t\t\tx = previousBounds.right;\n\n\t\t\t\t\t\t\tif (stacked == \"down\") {\n\t\t\t\t\t\t\t\tx = previousBounds.left - bounds.right;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse if (stacked == \"auto\") {\n\t\t\t\t\t\t\t\tif (chart) {\n\t\t\t\t\t\t\t\t\tif (xo < chart.plotContainer.width() / 2) {\n\t\t\t\t\t\t\t\t\t\tx = previousBounds.left - bounds.right;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\t\t\tx -= bounds.left;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\tx -= bounds.left;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tthis._bullets[positionX + \"_\" + positionY] = sprite;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (sprite.isType(\"Label\")) {\n\t\t\t\t\tsprite.setPrivate(\"maxWidth\", Math.abs(w));\n\t\t\t\t\tsprite.setPrivate(\"maxHeight\", Math.abs(h));\n\t\t\t\t}\n\n\t\t\t\tsprite.setAll({ x, y });\n\t\t\t}\n\t\t\telse {\n\t\t\t\tsprite.setPrivate(\"visible\", false);\n\t\t\t}\n\t\t}\n\t}\n\n\tprotected _shouldShowBullet(_positionX: number, _positionY: number): boolean {\n\t\treturn this._showBullets;\n\t}\n\n\t/**\n\t * @ignore\n\t */\n\tpublic setDataSet(id: string) {\n\t\tif (this._dataSets[id]) {\n\t\t\tthis._handleDataSetChange();\n\t\t\tthis._dataItems = this._dataSets[id];\n\t\t\tthis._markDataSetDirty();\n\t\t\tthis._dataSetId = id;\n\n\t\t\tconst type = \"datasetchanged\";\n\t\t\tif (this.events.isEnabled(type)) {\n\t\t\t\tthis.events.dispatch(type, { type: type, target: this, id: id });\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * @ignore\n\t */\n\tpublic resetGrouping() {\n\t\t$object.each(this._dataSets, (_key, dataSet) => {\n\t\t\tif (dataSet != this._mainDataItems) {\n\t\t\t\t$array.each(dataSet, (dataItem) => {\n\t\t\t\t\tdataItem.dispose();\n\t\t\t\t})\n\t\t\t}\n\t\t})\n\t\tthis._dataSets = {};\n\t\tthis._dataItems = this.mainDataItems;\n\t}\n\n\tprotected _handleDataSetChange() {\n\t\t$array.each(this._dataItems, (dataItem) => {\n\t\t\tlet bullets = dataItem.bullets;\n\t\t\tif (bullets) {\n\t\t\t\t$array.each(bullets, (bullet) => {\n\t\t\t\t\tif (bullet) {\n\t\t\t\t\t\tlet sprite = bullet.get(\"sprite\");\n\t\t\t\t\t\tif (sprite) {\n\t\t\t\t\t\t\tsprite.setPrivate(\"visible\", false);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t}\n\t\t})\n\n\t\tthis._selectionProcessed = false; // for totals to be calculated\n\t}\n\n\t/**\n\t * Shows hidden series.\n\t *\n\t * @param   duration  Duration of animation in milliseconds\n\t * @return            Animation promise\n\t */\n\tpublic async show(duration?: number): Promise<void> {\n\t\tthis._fixVC();\n\t\tlet promises: Array<Promise<any>> = [];\n\t\tpromises.push(super.show(duration).then(() => {\n\t\t\tthis._isShowing = false;\n\t\t\tlet xAxis = this.get(\"xAxis\");\n\t\t\tlet yAxis = this.get(\"yAxis\");\n\t\t\tlet baseAxis = this.get(\"baseAxis\");\n\t\t\tif (yAxis !== baseAxis) {\n\t\t\t\tyAxis.markDirtySelectionExtremes();\n\t\t\t}\n\t\t\tif (xAxis !== baseAxis) {\n\t\t\t\txAxis.markDirtySelectionExtremes();\n\t\t\t}\n\t\t}));\n\t\tpromises.push(this.bulletsContainer.show(duration));\n\t\tpromises.push(this._sequencedShowHide(true, duration));\n\t\tawait Promise.all(promises);\n\t}\n\n\t/**\n\t * Hides series.\n\t *\n\t * @param   duration  Duration of animation in milliseconds\n\t * @return            Animation promise\n\t */\n\tpublic async hide(duration?: number): Promise<void> {\n\t\tthis._fixVC();\n\t\tlet promises: Promise<any>[] = [];\n\t\tpromises.push(super.hide(duration).then(() => {\n\t\t\tthis._isHiding = false;\n\t\t}));\n\t\tpromises.push(this.bulletsContainer.hide(duration));\n\t\tpromises.push(this._sequencedShowHide(false, duration));\n\t\tawait Promise.all(promises);\n\t}\n\n\t/**\n\t * Shows series's data item.\n\t *\n\t * @param   dataItem  Data item\n\t * @param   duration  Animation duration in milliseconds\n\t * @return            Promise\n\t */\n\tpublic async showDataItem(dataItem: DataItem<this[\"_dataItemSettings\"]>, duration?: number): Promise<void> {\n\t\tconst promises = [super.showDataItem(dataItem, duration)];\n\n\t\tif (!$type.isNumber(duration)) {\n\t\t\tduration = this.get(\"stateAnimationDuration\", 0);\n\t\t}\n\n\t\tconst easing = this.get(\"stateAnimationEasing\");\n\n\t\t$array.each(this._valueFields, (key) => {\n\t\t\tpromises.push(dataItem.animate({ key: key + \"Working\" as any, to: dataItem.get(key as any), duration: duration!, easing: easing }).waitForStop());\n\t\t})\n\n\t\tawait Promise.all(promises);\n\t}\n\n\t/**\n\t * Hides series's data item.\n\t *\n\t * @param   dataItem  Data item\n\t * @param   duration  Animation duration in milliseconds\n\t * @return            Promise\n\t */\n\tpublic async hideDataItem(dataItem: DataItem<this[\"_dataItemSettings\"]>, duration?: number): Promise<void> {\n\t\tconst promises = [super.hideDataItem(dataItem, duration)];\n\n\t\tlet hiddenState = this.states.lookup(\"hidden\");\n\t\tif (!hiddenState) {\n\t\t\thiddenState = this.states.create(\"hidden\", {});\n\t\t}\n\n\t\tif (!$type.isNumber(duration)) {\n\t\t\tduration = hiddenState.get(\"stateAnimationDuration\", this.get(\"stateAnimationDuration\", 0));\n\t\t}\n\n\t\tconst easing = hiddenState.get(\"stateAnimationEasing\", this.get(\"stateAnimationEasing\"));\n\n\t\tconst xAxis = this.get(\"xAxis\");\n\t\tconst yAxis = this.get(\"yAxis\");\n\t\tconst baseAxis = this.get(\"baseAxis\");\n\t\tconst stacked = this.get(\"stacked\");\n\n\t\tif (baseAxis === xAxis || !baseAxis) {\n\n\t\t\t$array.each(this._valueYFields, (key) => {\n\t\t\t\tlet min = yAxis.getPrivate(\"min\");\n\t\t\t\tlet baseValue = yAxis.baseValue();\n\n\t\t\t\tif ($type.isNumber(min) && min > baseValue) {\n\t\t\t\t\tbaseValue = min;\n\t\t\t\t}\n\t\t\t\tif (stacked) {\n\t\t\t\t\tbaseValue = 0;\n\t\t\t\t}\n\n\t\t\t\tlet value = dataItem.get(key as any);\n\t\t\t\tif (value != null) {\n\t\t\t\t\tpromises.push(dataItem.animate({ key: key + \"Working\" as any, to: baseValue, duration: duration!, easing: easing }).waitForStop());\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\t\tif (baseAxis === yAxis || !baseAxis) {\n\n\t\t\tlet min = xAxis.getPrivate(\"min\");\n\t\t\tlet baseValue = xAxis.baseValue();\n\t\t\tif ($type.isNumber(min) && min > baseValue) {\n\t\t\t\tbaseValue = min;\n\t\t\t}\n\t\t\tif (stacked) {\n\t\t\t\tbaseValue = 0;\n\t\t\t}\n\n\t\t\t$array.each(this._valueXFields, (key) => {\n\t\t\t\tlet value = dataItem.get(key as any);\n\t\t\t\tif (value != null) {\n\t\t\t\t\tpromises.push(dataItem.animate({ key: key + \"Working\" as any, to: baseValue, duration: duration!, easing: easing }).waitForStop());\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\n\t\tawait Promise.all(promises);\n\t}\n\n\tpublic _markDirtyStack() {\n\t\tthis._stackDirty = true;\n\t\tthis.markDirty();\n\t\tthis._markStakedDirtyStack();\n\t}\n\n\tprotected _markStakedDirtyStack() {\n\t\tconst stackedSeries = this._stackedSeries;\n\t\tif (stackedSeries) {\n\n\t\t\t$object.each(stackedSeries, (_key, value) => {\n\t\t\t\tif (!value._stackDirty) {\n\t\t\t\t\tvalue._markDirtyStack();\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\t}\n\n\tpublic _afterChanged() {\n\t\tsuper._afterChanged();\n\t\tif (this._skipped) {\n\t\t\tthis._markDirtyAxes();\n\t\t\tthis._skipped = false;\n\t\t}\n\t}\n\n\t/**\n\t * Shows a tooltip for specific data item.\n\t *\n\t * @param  dataItem  Data item\n\t */\n\tpublic showDataItemTooltip(dataItem: DataItem<this[\"_dataItemSettings\"]> | undefined) {\n\t\tif (!this.getPrivate(\"doNotUpdateLegend\")) {\n\t\t\tthis.updateLegendMarker(dataItem);\n\t\t\tthis.updateLegendValue(dataItem);\n\t\t}\n\n\t\tconst tooltip = this.get(\"tooltip\");\n\n\t\tconst exactLocationX = this.get(\"exactLocationX\", false);\n\t\tconst exactLocationY = this.get(\"exactLocationY\", false);\n\n\t\tif (tooltip) {\n\t\t\tif (!this.isHidden() && this.get(\"visible\")) {\n\t\t\t\ttooltip._setDataItem(dataItem);\n\n\t\t\t\tif (dataItem) {\n\t\t\t\t\tlet locationX = this.get(\"locationX\", 0);\n\t\t\t\t\tlet locationY = this.get(\"locationY\", 1);\n\n\t\t\t\t\tlet itemLocationX = dataItem.get(\"locationX\", locationX);\n\t\t\t\t\tlet itemLocationY = dataItem.get(\"locationY\", locationY);\n\n\t\t\t\t\tconst xAxis = this.get(\"xAxis\");\n\t\t\t\t\tconst yAxis = this.get(\"yAxis\");\n\n\t\t\t\t\tconst vcx = this.get(\"vcx\", 1);\n\t\t\t\t\tconst vcy = this.get(\"vcy\", 1);\n\n\t\t\t\t\tconst xPos = xAxis.getDataItemPositionX(dataItem, this._tooltipFieldX!, this._aLocationX0 + (this._aLocationX1 - this._aLocationX0) * itemLocationX, vcx, exactLocationX);\n\t\t\t\t\tconst yPos = yAxis.getDataItemPositionY(dataItem, this._tooltipFieldY!, this._aLocationY0 + (this._aLocationY1 - this._aLocationY0) * itemLocationY, vcy, exactLocationY);\n\n\t\t\t\t\tconst point = this.getPoint(xPos, yPos);\n\n\t\t\t\t\tlet show = true;\n\t\t\t\t\t$array.each(this._valueFields, (field) => {\n\t\t\t\t\t\tif (dataItem.get(field as any) == null) {\n\t\t\t\t\t\t\tshow = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\n\t\t\t\t\tif (show) {\n\t\t\t\t\t\tconst chart = this.chart;\n\t\t\t\t\t\tif (chart && chart.inPlot(point)) {\n\t\t\t\t\t\t\ttooltip.label.text.markDirtyText();\n\t\t\t\t\t\t\ttooltip.set(\"tooltipTarget\", this._getTooltipTarget(dataItem));\n\t\t\t\t\t\t\ttooltip.set(\"pointTo\", this._display.toGlobal({ x: point.x, y: point.y }));\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\ttooltip._setDataItem(undefined);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\ttooltip._setDataItem(undefined);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis.hideTooltip();\n\t\t\t}\n\t\t}\n\t}\n\n\tpublic hideTooltip(): Promise<void> | undefined {\n\t\tconst tooltip = this.get(\"tooltip\");\n\t\tif (tooltip) {\n\t\t\ttooltip.set(\"tooltipTarget\", this);\n\t\t}\n\t\treturn super.hideTooltip();\n\t}\n\n\tprotected _getTooltipTarget(dataItem: DataItem<this[\"_dataItemSettings\"]>): Sprite {\n\t\tif (this.get(\"seriesTooltipTarget\") == \"bullet\") {\n\t\t\tconst bullets = dataItem.bullets;\n\t\t\tif (bullets && bullets.length > 0) {\n\t\t\t\tconst bullet = bullets[0];\n\t\t\t\tconst sprite = bullet.get(\"sprite\");\n\t\t\t\tif (sprite) {\n\t\t\t\t\treturn sprite;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn this;\n\t}\n\n\t/**\n\t * @ignore\n\t */\n\tpublic updateLegendValue(dataItem?: DataItem<this[\"_dataItemSettings\"]> | undefined) {\n\t\tconst legendDataItem = this.get(\"legendDataItem\");\n\n\t\tif (legendDataItem) {\n\n\t\t\tconst label = legendDataItem.get(\"label\");\n\t\t\tif (label) {\n\t\t\t\tlet txt = \"\";\n\t\t\t\tif (dataItem) {\n\t\t\t\t\tlabel._setDataItem(dataItem);\n\t\t\t\t\ttxt = this.get(\"legendLabelText\", label.get(\"text\", this.get(\"name\", \"\")));\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tlabel._setDataItem(this._emptyDataItem);\n\t\t\t\t\ttxt = this.get(\"legendRangeLabelText\", this.get(\"legendLabelText\", label.get(\"text\", this.get(\"name\", \"\"))));\n\t\t\t\t}\n\n\t\t\t\tlabel.set(\"text\", txt);\n\t\t\t}\n\n\t\t\tconst valueLabel = legendDataItem.get(\"valueLabel\");\n\t\t\tif (valueLabel) {\n\t\t\t\tlet txt = \"\";\n\t\t\t\tif (dataItem) {\n\t\t\t\t\tvalueLabel._setDataItem(dataItem);\n\t\t\t\t\ttxt = this.get(\"legendValueText\", valueLabel.get(\"text\", \"\"));\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tvalueLabel._setDataItem(this._emptyDataItem);\n\t\t\t\t\ttxt = this.get(\"legendRangeValueText\", valueLabel.get(\"text\", \"\"));\n\t\t\t\t}\n\n\t\t\t\tvalueLabel.set(\"text\", txt);\n\t\t\t}\n\t\t}\n\t}\n\n\tprotected _getItemReaderLabel(): string {\n\t\tlet text = \"X: {\" + this._xField;\n\t\tif (this.get(\"xAxis\").isType<DateAxis<any>>(\"DateAxis\")) {\n\t\t\ttext += \".formatDate()\";\n\t\t}\n\t\ttext += \"}; Y: {\" + this._yField;\n\t\tif (this.get(\"yAxis\").isType<DateAxis<any>>(\"DateAxis\")) {\n\t\t\ttext += \".formatDate()\";\n\t\t}\n\t\ttext += \"}\";\n\t\treturn text;\n\t}\n\n\t/**\n\t * @ignore\n\t */\n\tpublic getPoint(positionX: number, positionY: number): IPoint {\n\t\tlet x = this.get(\"xAxis\").get(\"renderer\").positionToCoordinate(positionX);\n\t\tlet y = this.get(\"yAxis\").get(\"renderer\").positionToCoordinate(positionY);\n\n\t\t// if coordinate is super big, canvas fails to draw line, capping to some big number (won't make any visual difference)\n\t\tlet max = 999999999;\n\t\tif (y < -max) {\n\t\t\ty = -max;\n\t\t}\n\t\tif (y > max) {\n\t\t\ty = max;\n\t\t}\n\n\t\tif (x < -max) {\n\t\t\tx = -max;\n\t\t}\n\t\tif (x > max) {\n\t\t\tx = max;\n\t\t}\n\n\t\treturn { x: x, y: y };\n\t}\n\n\tprotected _shouldInclude(_position: number): boolean {\n\t\treturn true;\n\t}\n\n\t/**\n\t * @ignore\n\t */\n\tpublic handleCursorHide() {\n\t\tthis.hideTooltip();\n\t\tthis.updateLegendValue(undefined);\n\t\tthis.updateLegendMarker(undefined);\n\t}\n\n\tprotected _afterDataChange() {\n\t\tsuper._afterDataChange();\n\t\tthis.get(\"xAxis\")._markDirtyKey(\"start\");\n\t\tthis.get(\"yAxis\")._markDirtyKey(\"start\");\n\t\tthis.resetExtremes();\n\t}\n\n\n\t/**\n\t * Resets cached axis scale values.\n\t */\n\tpublic resetExtremes() {\n\t\tthis.setPrivate(\"selectionMinX\", undefined);\n\t\tthis.setPrivate(\"selectionMaxX\", undefined);\n\t\tthis.setPrivate(\"selectionMinY\", undefined);\n\t\tthis.setPrivate(\"selectionMaxY\", undefined);\n\n\t\tthis.setPrivate(\"minX\", undefined);\n\t\tthis.setPrivate(\"minY\", undefined);\n\t\tthis.setPrivate(\"maxX\", undefined);\n\t\tthis.setPrivate(\"maxY\", undefined);\n\t}\n\n\t/**\n\t * Creates and returns an axis range object.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/axes/axis-ranges/} for more info\n\t * @param   axisDataItem  Axis data item\n\t * @return                Axis range\n\t */\n\tpublic createAxisRange(axisDataItem: DataItem<IAxisDataItem>): this[\"_axisRangeType\"] {\n\t\treturn this.axisRanges.push({\n\t\t\taxisDataItem: axisDataItem\n\t\t})\n\t}\n\n\t/**\n\t * A list of series's main (ungrouped) data items.\n\t *\n\t * @return  Data items\n\t */\n\tpublic get mainDataItems(): Array<DataItem<this[\"_dataItemSettings\"]>> {\n\t\treturn this._mainDataItems;\n\t}\n\n\t/**\n\t * @ignore\n\t */\n\tpublic _adjustStartIndex(index: number): number {\n\t\tconst xAxis = this.get(\"xAxis\");\n\t\tconst baseAxis = this.get(\"baseAxis\");\n\n\t\tif (baseAxis == xAxis && xAxis.isType<DateAxis<any>>(\"DateAxis\")) {\n\t\t\tconst baseDuration = xAxis.baseDuration();\n\t\t\tconst minSelection = xAxis.getPrivate(\"selectionMin\", xAxis.getPrivate(\"min\", 0));\n\t\t\tconst dl = baseDuration * this.get(\"locationX\", 0.5);\n\n\t\t\tlet value = -Infinity;\n\n\t\t\twhile (value < minSelection) {\n\t\t\t\tconst dataItem = this.dataItems[index];\n\t\t\t\tif (dataItem) {\n\t\t\t\t\tconst open = dataItem.open;\n\t\t\t\t\tif (open) {\n\t\t\t\t\t\tvalue = open[\"valueX\"];\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tvalue = dataItem.get(\"valueX\", 0);\n\t\t\t\t\t}\n\t\t\t\t\tvalue += dl;\n\n\t\t\t\t\tif (value < minSelection) {\n\t\t\t\t\t\tindex++;\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn index;\n\t}\n}\n","import type { IPoint } from \"../../core/util/IPoint\";\nimport type { XYChart } from \"./XYChart\"\nimport type { XYSeries } from \"./series/XYSeries\";\nimport type { ISpritePointerEvent } from \"../../core/render/Sprite\";\nimport type { Axis } from \"./axes/Axis\";\nimport type { AxisRenderer } from \"./axes/AxisRenderer\";\nimport type { Tooltip } from \"../../core/render/Tooltip\";\n\nimport { Container, IContainerSettings, IContainerPrivate, IContainerEvents } from \"../../core/render/Container\";\nimport { p100 } from \"../../core/util/Percent\";\nimport { Graphics } from \"../../core/render/Graphics\";\nimport { Grid } from \"./axes/Grid\";\n//import { Animations } from \"../core/util/Animation\";\n\nimport * as $type from \"../../core/util/Type\";\nimport * as $utils from \"../../core/util/Utils\";\nimport * as $math from \"../../core/util/Math\";\nimport * as $array from \"../../core/util/Array\";\nimport * as $object from \"../../core/util/Object\";\nimport type { IPointerEvent } from \"../../core/render/backend/Renderer\";\n\nexport interface IXYCursorSettings extends IContainerSettings {\n\n\t/**\n\t * Cursor's X axis.\n\t *\n\t * If set, cursor will snap to that axis' cells.\n\t */\n\txAxis?: Axis<AxisRenderer>;\n\n\t/**\n\t * Cursor's Y axis.\n\t *\n\t * If set, cursor will snap to that axis' cells.\n\t */\n\tyAxis?: Axis<AxisRenderer>;\n\n\t/**\n\t * What should cursor do when dragged across plot area.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/cursor/#Behavior} for more info\n\t * @default \"none\"\n\t */\n\tbehavior?: \"zoomX\" | \"zoomY\" | \"zoomXY\" | \"selectX\" | \"selectY\" | \"selectXY\" | \"none\";\n\n\t/**\n\t * Cursor's horizontal position relative to plot area.\n\t *\n\t * If this setting is set, cursor will not react to mouse/touch and will just\n\t * sit at specified position until `positionX` is reset to `undefined`.\n\t *\n\t * `0` - left, `1` - right.\n\t */\n\tpositionX?: number;\n\n\t/**\n\t * Cursor's vertical position relative to plot area.\n\t *\n\t * If this setting is set, cursor will not react to mouse/touch and will just\n\t * sit at specified position until `positionY` is reset to `undefined`.\n\t *\n\t * `0` - left, `1` - right.\n\t */\n\tpositionY?: number;\n\n\t/**\n\t * If set to `true`, cursor will not be hidden when mouse cursor moves out\n\t * of the plot area.\n\t *\n\t * @default false\n\t */\n\talwaysShow?: boolean;\n\n\t/**\n\t * A list of series to snap cursor to.\n\t *\n\t * If set, the cursor will always snap to the closest data item of listed\n\t * series.\n\t */\n\tsnapToSeries?: Array<XYSeries>;\n\n\t/**\n\t * Defines in which direction to look when searching for the nearest data\n\t * item to snap to.\n\t *\n\t * Possible values: `\"xy\"` (default), `\"x\"`, `\"y\"`, `\"x!\"`, `\"y!\"`.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/cursor/#snapping-to-series} for more info\n\t * @since 5.0.6\n\t * @default \"xy\"\n\t */\n\tsnapToSeriesBy?: \"xy\" | \"x\" | \"y\" | \"x!\" | \"y!\";\n\n\t/**\n\t * An array of other [[XYCursor]] objects to sync this cursor with.\n\t *\n\t * If set will automatically move synced cursors to the same position within\n\t * their respective axes as the this cursor assumin same XY coordinates of\n\t * the pointer.\n\t *\n\t * NOTE: Syncing is performed using actual X/Y coordinates of the point of\n\t * mouse cursor's position or touch. It means that they will not sync by axis\n\t * positions, but rather by screen coordinates. For example vertical lines\n\t * will not sync across horizontally laid out charts, and vice versa.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/cursor/#syncing-cursors} for more info\n\t * @since 5.1.4\n\t */\n\tsyncWith?: Array<XYCursor>;\n\n\t/**\n\t * Minimum distance in pixels between down and up points.\n\t *\n\t * If a distance is less than the value of `moveThreshold`, the zoom or\n\t * selection won't happen.\n\t *\n\t * @since 5.2.20\n\t * @default 1\n\t */\n\tmoveThreshold?: number\n\n}\n\n\nexport interface IXYCursorPrivate extends IContainerPrivate {\n\n\t/**\n\t * Current X/Y coordinates of the cursor.\n\t */\n\tpoint?: IPoint;\n\n\t/**\n\t * Current horizontal position relative to the plot area (0-1).\n\t */\n\tpositionX?: number;\n\n\t/**\n\t * Current vertical position relative to the plot area (0-1).\n\t */\n\tpositionY?: number;\n\n\t/**\n\t * Horizontal cursor position on the moment when selection started.\n\t */\n\tdownPositionX?: number;\n\n\t/**\n\t * Vertical cursor position on the moment when selection started.\n\t */\n\tdownPositionY?: number;\n\n\t/**\n\t * Last global point to which cursor moved\n\t */\n\tlastPoint?: IPoint;\n}\n\nexport interface IXYCursorEvents extends IContainerEvents {\n\n\t/**\n\t * Kicks in when cursor selection ends.\n\t *\n\t * Only when `behavior` is set.\n\t */\n\tselectended: {\n\t\toriginalEvent: IPointerEvent,\n\t\ttarget: XYCursor\n\t};\n\n\t/**\n\t * Kicks in when cursor selection starts.\n\t *\n\t * Only when `behavior` is set.\n\t */\n\tselectstarted: {\n\t\toriginalEvent: IPointerEvent,\n\t\ttarget: XYCursor\n\t};\n\n\t/**\n\t * Kicks in when cursor's position over plot area changes.\n\t */\n\tcursormoved: {\n\t\tpoint: IPoint,\n\t\ttarget: XYCursor,\n\t\toriginalEvent?: IPointerEvent\n\t};\n\n\t/**\n\t * Kicks in when cursor's is hidden when user rolls-out of the plot area\n\t */\n\tcursorhidden: {\n\t\ttarget: XYCursor\n\t};\n\n\t/**\n\t * Invoked if pointer is pressed down on a plot area and released without\n\t * moving (only when behavior is `\"selectX\"`).\n\t *\n\t * @since 5.4.7\n\t */\n\tselectcancelled: {\n\t\toriginalEvent: IPointerEvent,\n\t\ttarget: XYCursor\n\t};\n\n}\n\n/**\n * Creates a chart cursor for an [[XYChart]].\n *\n * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/cursor/} for more info\n * @important\n */\nexport class XYCursor extends Container {\n\tpublic static className: string = \"XYCursor\";\n\tpublic static classNames: Array<string> = Container.classNames.concat([XYCursor.className]);\n\n\tdeclare public _settings: IXYCursorSettings;\n\tdeclare public _privateSettings: IXYCursorPrivate;\n\tdeclare public _events: IXYCursorEvents;\n\n\tprotected _alwaysShow: boolean = false;\n\n\t/**\n\t * A [[Grid]] elment that used for horizontal line of the cursor crosshair.\n\t *\n\t * @default Grid.new()\n\t */\n\tpublic readonly lineX: Grid = this.children.push(Grid.new(this._root, {\n\t\tthemeTags: [\"x\"]\n\t}));\n\n\t/**\n\t * A [[Grid]] elment that used for horizontal line of the cursor crosshair.\n\t *\n\t * @default Grid.new()\n\t */\n\tpublic readonly lineY: Grid = this.children.push(Grid.new(this._root, {\n\t\tthemeTags: [\"y\"]\n\t}));\n\n\t/**\n\t * An element that represents current selection.\n\t *\n\t * @default Graphics.new()\n\t */\n\tpublic readonly selection: Graphics = this.children.push(Graphics.new(this._root, {\n\t\tthemeTags: [\"selection\", \"cursor\"], layer: 30\n\t}));\n\n\tprotected _movePoint: IPoint | undefined;\n\tprotected _lastPoint: IPoint = { x: 0, y: 0 };\n\tprotected _lastPoint2: IPoint = { x: 0, y: 0 };\n\n\tprotected _tooltipX: boolean = false;\n\tprotected _tooltipY: boolean = false;\n\n\t/**\n\t * A chart cursor is attached to.\n\t */\n\tpublic chart: XYChart | undefined;\n\n\tprotected _toX?: number;\n\tprotected _toY?: number;\n\n\tprotected _afterNew() {\n\t\tthis._settings.themeTags = $utils.mergeTags(this._settings.themeTags, [\"xy\", \"cursor\"]);\n\t\tsuper._afterNew();\n\t\tthis.setAll({ \"width\": p100, height: p100, isMeasured: true, position: \"absolute\" });\n\t\tthis.states.create(\"hidden\", { visible: true, opacity: 0 });\n\t\tthis._drawLines();\n\t\tthis.setPrivateRaw(\"visible\", false);\n\n\t\tthis._disposers.push(this.setTimeout(() => {\n\t\t\tthis.setPrivate(\"visible\", true)\n\t\t}, 500));\n\n\t\tthis._disposers.push(this.lineX.events.on(\"positionchanged\", () => {\n\t\t\tthis._handleXLine();\n\t\t}));\n\n\t\tthis._disposers.push(this.lineY.events.on(\"positionchanged\", () => {\n\t\t\tthis._handleYLine();\n\t\t}));\n\n\t\tthis._disposers.push(this.lineX.events.on(\"focus\", () => this._handleLineFocus()));\n\t\tthis._disposers.push(this.lineX.events.on(\"blur\", () => this._handleLineBlur()));\n\n\t\tthis._disposers.push(this.lineY.events.on(\"focus\", () => this._handleLineFocus()));\n\t\tthis._disposers.push(this.lineY.events.on(\"blur\", () => this._handleLineBlur()));\n\n\t\tif ($utils.supports(\"keyboardevents\")) {\n\t\t\tthis._disposers.push($utils.addEventListener(document, \"keydown\", (ev: KeyboardEvent) => {\n\t\t\t\tthis._handleLineMove($utils.getEventKey(ev), ev.ctrlKey);\n\t\t\t}));\n\t\t}\n\t}\n\n\tprotected _setUpTouch(): void {\n\t\tconst chart = this.chart;\n\t\tif (chart) {\n\t\t\tchart.plotContainer._display.cancelTouch = this.get(\"behavior\") != \"none\" ? true : false;\n\t\t}\n\t}\n\n\tprotected _handleXLine() {\n\t\tlet x = this.lineX.x();\n\t\tlet visible = true;\n\t\tif (x < 0 || x > this.width()) {\n\t\t\tvisible = false;\n\t\t}\n\t\tthis.lineX.setPrivate(\"visible\", visible);\n\t}\n\n\tprotected _handleYLine() {\n\t\tlet y = this.lineY.y();\n\t\tlet visible = true;\n\t\tif (y < 0 || y > this.height()) {\n\t\t\tvisible = false;\n\t\t}\n\t\tthis.lineY.setPrivate(\"visible\", visible);\n\t}\n\n\tprotected _handleLineMove(key: string, ctrlKey?: boolean) {\n\t\tlet dir: any = \"\";\n\n\t\tconst chart = this.chart;\n\n\t\tlet axis: Axis<AxisRenderer> | undefined;\n\t\tif (chart && chart.xAxes.length) {\n\t\t\tif (this._root.focused(this.lineX)) {\n\t\t\t\tdir = \"positionX\";\n\t\t\t\taxis = chart.xAxes.getIndex(0);\n\t\t\t}\n\t\t\telse if (this._root.focused(this.lineY)) {\n\t\t\t\taxis = chart.yAxes.getIndex(0);\n\t\t\t\tdir = \"positionY\";\n\t\t\t}\n\n\t\t\tlet m = 1;\n\t\t\tif (ctrlKey) {\n\t\t\t\tm = 5;\n\t\t\t}\n\n\t\t\tif (axis) {\n\t\t\t\tlet inversed = axis.get(\"renderer\").get(\"inversed\", false);\n\t\t\t\tlet step;\n\t\t\t\tif (key == \"ArrowRight\" || key == \"ArrowDown\") {\n\t\t\t\t\tstep = 1;\n\t\t\t\t}\n\t\t\t\telse if (key == \"ArrowLeft\" || key == \"ArrowUp\") {\n\t\t\t\t\tstep = -1;\n\t\t\t\t}\n\t\t\t\telse if (key == \"Tab\") {\n\t\t\t\t\tstep = 0;\n\t\t\t\t}\n\n\t\t\t\tif (step != null) {\n\t\t\t\t\tif (inversed) {\n\t\t\t\t\t\tstep *= -1;\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.set(dir, axis.nextPosition(step * m));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tprotected _handleLineFocus() {\n\t\tthis._alwaysShow = this.get(\"alwaysShow\", false);\n\t\tthis.setAll({\n\t\t\tpositionX: this.getPrivate(\"positionX\", 0),\n\t\t\tpositionY: this.getPrivate(\"positionY\", 0),\n\t\t\talwaysShow: true\n\t\t});\n\n\t\tthis._handleLineMove(\"Tab\");\n\t}\n\n\tprotected _handleLineBlur() {\n\t\tif (this.lineX.isFocus() || this.lineY.isFocus()) {\n\t\t\tthis.setAll({\n\t\t\t\tpositionX: undefined,\n\t\t\t\tpositionY: undefined,\n\t\t\t\talwaysShow: this._alwaysShow\n\t\t\t});\n\t\t}\n\t}\n\n\tpublic _prepareChildren() {\n\t\tsuper._prepareChildren();\n\n\t\tif (this.isDirty(\"xAxis\")) {\n\t\t\tthis._tooltipX = false;\n\t\t\tconst xAxis = this.get(\"xAxis\");\n\n\t\t\tif (xAxis) {\n\t\t\t\tconst tooltip = xAxis.get(\"tooltip\");\n\t\t\t\tif (tooltip) {\n\t\t\t\t\tthis._tooltipX = true;\n\t\t\t\t\tthis._disposers.push(\n\t\t\t\t\t\ttooltip.on(\"pointTo\", () => {\n\t\t\t\t\t\t\tthis._updateXLine(tooltip);\n\t\t\t\t\t\t})\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (this.isDirty(\"yAxis\")) {\n\t\t\tthis._tooltipY = false;\n\t\t\tconst yAxis = this.get(\"yAxis\");\n\n\t\t\tif (yAxis) {\n\t\t\t\tconst tooltip = yAxis.get(\"tooltip\");\n\t\t\t\tif (tooltip) {\n\t\t\t\t\tthis._tooltipY = true;\n\t\t\t\t\tthis._disposers.push(\n\t\t\t\t\t\ttooltip.on(\"pointTo\", () => {\n\t\t\t\t\t\t\tthis._updateYLine(tooltip);\n\t\t\t\t\t\t})\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tprotected _handleSyncWith() {\n\t\tconst chart = this.chart;\n\t\tif (chart) {\n\t\t\tconst syncWith = this.get(\"syncWith\");\n\t\t\tconst otherCharts: Array<XYChart> = [];\n\t\t\tif (syncWith) {\n\t\t\t\t$array.each(syncWith, (cursor) => {\n\t\t\t\t\tconst chart = cursor.chart;\n\t\t\t\t\tif (chart) {\n\t\t\t\t\t\totherCharts.push(chart)\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t}\n\t\t\tchart._otherCharts = otherCharts;\n\t\t}\n\t}\n\n\tpublic _updateChildren() {\n\t\tsuper._updateChildren();\n\t\tthis._handleSyncWith();\n\n\t\tif (this.isDirty(\"positionX\") || this.isDirty(\"positionY\")) {\n\t\t\tconst positionX = this.get(\"positionX\");\n\t\t\tconst positionY = this.get(\"positionY\");\n\n\t\t\tif (positionX == null && positionY == null) {\n\t\t\t\tthis.hide(0);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis._movePoint = this.toGlobal(this._getPoint(this.get(\"positionX\", 0), this.get(\"positionY\", 0)));\n\t\t\t\tthis.handleMove();\n\t\t\t}\n\t\t}\n\t}\n\n\tprotected _updateXLine(tooltip: Tooltip) {\n\t\tlet x = $math.round(this._display.toLocal(tooltip.get(\"pointTo\", { x: 0, y: 0 })).x, 3);\n\t\tif (this._toX != x) {\n\t\t\tthis.lineX.animate({ key: \"x\", to: x, duration: tooltip.get(\"animationDuration\", 0), easing: tooltip.get(\"animationEasing\") });\n\t\t\tthis._toX = x;\n\t\t}\n\t}\n\n\tprotected _updateYLine(tooltip: Tooltip) {\n\t\tlet y = $math.round(this._display.toLocal(tooltip.get(\"pointTo\", { x: 0, y: 0 })).y, 3);\n\t\tif (this._toY != y) {\n\t\t\tthis.lineY.animate({ key: \"y\", to: y, duration: tooltip.get(\"animationDuration\", 0), easing: tooltip.get(\"animationEasing\") });\n\t\t\tthis._toY = y;\n\t\t}\n\t}\n\n\tprotected _drawLines() {\n\t\tthis.lineX.set(\"draw\", (display) => {\n\t\t\tdisplay.moveTo(0, 0);\n\t\t\tdisplay.lineTo(0, this.height());\n\t\t})\n\t\tthis.lineY.set(\"draw\", (display) => {\n\t\t\tdisplay.moveTo(0, 0);\n\t\t\tdisplay.lineTo(this.width(), 0);\n\t\t})\n\t}\n\n\tpublic updateCursor() {\n\t\tif (this.get(\"alwaysShow\")) {\n\t\t\tthis._movePoint = this.toGlobal(this._getPoint(this.get(\"positionX\", 0), this.get(\"positionY\", 0)));\n\t\t}\n\t\tthis.handleMove();\n\t}\n\n\tpublic _setChart(chart: XYChart): void {\n\t\tthis.chart = chart;\n\n\t\tthis._handleSyncWith();\n\n\t\tconst plotContainer = chart.plotContainer;\n\n\t\tthis.events.on(\"boundschanged\", () => {\n\t\t\tthis._disposers.push(this.setTimeout(() => {\n\t\t\t\tthis.updateCursor();\n\t\t\t}, 50))\n\t\t})\n\n\t\t//this._display.interactive = true;\n\t\tif ($utils.supports(\"touchevents\")) {\n\t\t\tthis._disposers.push(plotContainer.events.on(\"click\", (event) => {\n\t\t\t\tif ($utils.isTouchEvent(event.originalEvent)) {\n\t\t\t\t\tthis._handleMove(event);\n\t\t\t\t}\n\t\t\t}));\n\t\t\tthis._setUpTouch();\n\t\t}\n\n\t\tthis._disposers.push(plotContainer.events.on(\"pointerdown\", (event) => {\n\t\t\tthis._handleCursorDown(event);\n\t\t}));\n\n\t\tthis._disposers.push(plotContainer.events.on(\"globalpointerup\", (event) => {\n\t\t\tthis._handleCursorUp(event);\n\t\t\tif (!event.native && !this.isHidden()) {\n\t\t\t\tthis._handleMove(event);\n\t\t\t}\n\t\t}));\n\n\t\tthis._disposers.push(plotContainer.events.on(\"globalpointermove\", (event) => {\n\t\t\tif (!this.get(\"syncWith\")) {\n\t\t\t\tif ($object.keys(plotContainer._downPoints).length == 0 && !event.native && this.isHidden()) {\n\t\t\t\t\t// Ignore mouse movement if it originates on outside element and\n\t\t\t\t\t// we're not dragging.\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis._handleMove(event);\n\n\t\t\tif (Math.hypot(this._lastPoint2.x - event.point.x, this._lastPoint2.y - event.point.y) > 1) {\n\t\t\t\tthis._handleLineBlur();\n\t\t\t\tthis._lastPoint2 = event.point;\n\t\t\t}\n\t\t}));\n\n\t\tconst parent = this.parent;\n\t\tif (parent) {\n\t\t\tparent.children.moveValue(this.selection);\n\t\t}\n\t}\n\n\tprotected _inPlot(point: IPoint): boolean {\n\t\tconst chart = this.chart;\n\t\tif (chart) {\n\t\t\treturn chart.inPlot(point);\n\t\t}\n\t\treturn false;\n\t}\n\n\tprotected _handleCursorDown(event: ISpritePointerEvent) {\n\t\tif ((event.originalEvent as any).button == 2) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst rootPoint = event.point;\n\t\tlet local = this._display.toLocal(rootPoint);\n\t\tconst chart = this.chart;\n\n\t\tthis.selection.set(\"draw\", () => { });\n\n\t\tif (chart && this._inPlot(local)) {\n\t\t\tthis._downPoint = local;\n\n\t\t\tif (this.get(\"behavior\") != \"none\") {\n\t\t\t\tthis.selection.show();\n\n\t\t\t\tconst type = \"selectstarted\";\n\t\t\t\tif (this.events.isEnabled(type)) {\n\t\t\t\t\tthis.events.dispatch(type, { type: type, target: this, originalEvent: event.originalEvent });\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tlet positionX = this._getPosition(local).x;\n\t\t\tlet positionY = this._getPosition(local).y;\n\n\t\t\tthis.setPrivate(\"downPositionX\", positionX);\n\t\t\tthis.setPrivate(\"downPositionY\", positionY);\n\t\t}\n\t}\n\n\tprotected _handleCursorUp(event: ISpritePointerEvent) {\n\t\t// TODO: handle multitouch\n\t\tif (this._downPoint) {\n\t\t\tconst behavior = this.get(\"behavior\", \"none\");\n\t\t\tif (behavior != \"none\") {\n\t\t\t\tif (behavior.charAt(0) === \"z\") {\n\t\t\t\t\tthis.selection.hide();\n\t\t\t\t}\n\n\t\t\t\tconst rootPoint = event.point;\n\t\t\t\tlet local = this._display.toLocal(rootPoint);\n\n\t\t\t\tconst downPoint = this._downPoint;\n\t\t\t\tconst moveThreshold = this.get(\"moveThreshold\", 1);\n\t\t\t\tif (local && downPoint) {\n\t\t\t\t\tlet dispatch = false;\n\t\t\t\t\tif (behavior === \"zoomX\" || behavior === \"zoomXY\" || behavior === \"selectX\" || behavior === \"selectXY\") {\n\t\t\t\t\t\tif (Math.abs(local.x - downPoint.x) > moveThreshold) {\n\t\t\t\t\t\t\tdispatch = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (behavior === \"zoomY\" || behavior === \"zoomXY\" || behavior === \"selectY\" || behavior === \"selectXY\") {\n\t\t\t\t\t\tif (Math.abs(local.y - downPoint.y) > moveThreshold) {\n\t\t\t\t\t\t\tdispatch = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (dispatch) {\n\t\t\t\t\t\tconst type = \"selectended\";\n\t\t\t\t\t\tif (this.events.isEnabled(type)) {\n\t\t\t\t\t\t\tthis.events.dispatch(type, { type: type, target: this, originalEvent: event.originalEvent });\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tconst type = \"selectcancelled\";\n\t\t\t\t\t\tif (this.events.isEnabled(type)) {\n\t\t\t\t\t\t\tthis.events.dispatch(type, { type: type, target: this, originalEvent: event.originalEvent });\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tthis._downPoint = undefined;\n\t}\n\n\tprotected _handleMove(event: ISpritePointerEvent) {\n\t\tif (this.getPrivate(\"visible\")) {\n\t\t\tconst chart = this.chart;\n\t\t\tif (chart && $object.keys(chart.plotContainer._downPoints).length > 1) {\n\t\t\t\tthis.set(\"forceHidden\", true)\n\t\t\t\treturn;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis.set(\"forceHidden\", false)\n\t\t\t}\n\n\t\t\t// TODO: handle multitouch\n\t\t\tconst rootPoint = event.point;\n\t\t\tconst lastPoint = this._lastPoint;\n\n\t\t\tif (Math.round(lastPoint.x) === Math.round(rootPoint.x) && Math.round(lastPoint.y) === Math.round(rootPoint.y)) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis._lastPoint = rootPoint;\n\t\t\tthis.setPrivate(\"lastPoint\", rootPoint);\n\n\t\t\tthis.handleMove({ x: rootPoint.x, y: rootPoint.y }, false, event.originalEvent);\n\t\t}\n\t}\n\n\tprotected _getPosition(point: IPoint): IPoint {\n\t\treturn { x: point.x / this.width(), y: point.y / this.height() };\n\t}\n\n\t/**\n\t * Moves the cursor to X/Y coordinates within chart container (`point`).\n\t *\n\t * If `skipEvent` parameter is set to `true`, the move will not invoke\n\t * the `\"cursormoved\"` event.\n\t *\n\t * @param  point      X/Y to move cursor to\n\t * @param  skipEvent  Do not fire \"cursormoved\" event\n\t */\n\tpublic handleMove(point?: IPoint, skipEvent?: boolean, originalEvent?: IPointerEvent) {\n\t\tif (!point) {\n\t\t\tpoint = this._movePoint;\n\t\t}\n\n\t\tconst alwaysShow = this.get(\"alwaysShow\");\n\n\t\tif (!point) {\n\t\t\tthis.hide(0);\n\t\t\treturn;\n\t\t}\n\n\t\tthis._movePoint = point;\n\t\tlet local = this._display.toLocal(point);\n\t\tlet chart = this.chart;\n\n\t\tif (chart && (this._inPlot(local) || this._downPoint)) {\n\t\t\tchart._movePoint = point;\n\n\t\t\tif (this.isHidden()) {\n\t\t\t\tthis.show();\n\n\t\t\t\tconst behavior = this.get(\"behavior\", \"\");\n\t\t\t\tif (behavior.charAt(0) == \"z\") {\n\t\t\t\t\tthis.selection.set(\"draw\", () => { });\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tlet x = local.x;\n\t\t\tlet y = local.y;\n\n\t\t\tlet xyPos = this._getPosition(local);\n\n\t\t\tthis.setPrivate(\"point\", local);\n\n\t\t\tlet snapToSeries = this.get(\"snapToSeries\");\n\n\t\t\tif (this._downPoint) {\n\t\t\t\tsnapToSeries = undefined;\n\t\t\t}\n\n\t\t\tlet userPositionX = this.get(\"positionX\");\n\t\t\tlet positionX = xyPos.x;\n\n\t\t\tif ($type.isNumber(userPositionX)) {\n\t\t\t\tpositionX = userPositionX;\n\t\t\t}\n\n\t\t\tlet userPositionY = this.get(\"positionY\");\n\t\t\tlet positionY = xyPos.y;\n\n\t\t\tif ($type.isNumber(userPositionY)) {\n\t\t\t\tpositionY = userPositionY;\n\t\t\t}\n\n\t\t\tthis.setPrivate(\"positionX\", positionX);\n\t\t\tthis.setPrivate(\"positionY\", positionY);\n\n\t\t\tconst xy = this._getPoint(positionX, positionY);\n\t\t\tx = xy.x;\n\t\t\ty = xy.y;\n\n\t\t\tchart.xAxes.each((axis) => {\n\t\t\t\taxis._handleCursorPosition(positionX, snapToSeries);\n\t\t\t\tif (alwaysShow) {\n\t\t\t\t\taxis.handleCursorShow();\n\t\t\t\t}\n\t\t\t})\n\t\t\tchart.yAxes.each((axis) => {\n\t\t\t\taxis._handleCursorPosition(positionY, snapToSeries);\n\t\t\t\tif (alwaysShow) {\n\t\t\t\t\taxis.handleCursorShow();\n\t\t\t\t}\n\t\t\t})\n\n\t\t\tif (!skipEvent) {\n\t\t\t\tchart._handleCursorPosition();\n\n\t\t\t\tconst type = \"cursormoved\";\n\t\t\t\tif (this.events.isEnabled(type)) {\n\t\t\t\t\tthis.events.dispatch(type, { type: type, target: this, point: point, originalEvent: originalEvent });\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis._updateLines(x, y);\n\n\t\t\tchart.arrangeTooltips();\n\t\t}\n\t\telse if (!this._downPoint) {\n\t\t\tif (!alwaysShow) {\n\t\t\t\tthis.hide(0);\n\n\t\t\t\tconst type = \"cursorhidden\";\n\t\t\t\tif (this.events.isEnabled(type)) {\n\t\t\t\t\tthis.events.dispatch(type, { type: type, target: this });\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (this._downPoint && this.get(\"behavior\") != \"none\") {\n\t\t\tthis._updateSelection(local)\n\t\t}\n\t}\n\n\tprotected _getPoint(positionX: number, positionY: number): IPoint {\n\t\treturn { x: this.width() * positionX, y: this.height() * positionY };\n\t}\n\n\n\tprotected _updateLines(x: number, y: number) {\n\t\tif (!this._tooltipX) {\n\t\t\tthis.lineX.set(\"x\", x);\n\t\t}\n\t\tif (!this._tooltipY) {\n\t\t\tthis.lineY.set(\"y\", y);\n\t\t}\n\n\t\tthis._drawLines();\n\t}\n\n\tprotected _updateSelection(point: IPoint) {\n\t\tconst selection = this.selection;\n\t\tconst behavior = this.get(\"behavior\");\n\t\tconst w = this.width();\n\t\tconst h = this.height();\n\n\t\tif (point.x < 0) {\n\t\t\tpoint.x = 0;\n\t\t}\n\n\t\tif (point.x > w) {\n\t\t\tpoint.x = w;\n\t\t}\n\n\t\tif (point.y < 0) {\n\t\t\tpoint.y = 0;\n\t\t}\n\n\t\tif (point.y > h) {\n\t\t\tpoint.y = h;\n\t\t}\n\n\t\tselection.set(\"draw\", (display) => {\n\t\t\tconst downPoint = this._downPoint;\n\t\t\tif (downPoint) {\n\t\t\t\tif (behavior === \"zoomXY\" || behavior === \"selectXY\") {\n\t\t\t\t\tdisplay.moveTo(downPoint.x, downPoint.y);\n\t\t\t\t\tdisplay.lineTo(downPoint.x, point.y);\n\t\t\t\t\tdisplay.lineTo(point.x, point.y);\n\t\t\t\t\tdisplay.lineTo(point.x, downPoint.y);\n\t\t\t\t\tdisplay.lineTo(downPoint.x, downPoint.y);\n\t\t\t\t}\n\t\t\t\telse if (behavior === \"zoomX\" || behavior === \"selectX\") {\n\t\t\t\t\tdisplay.moveTo(downPoint.x, 0);\n\t\t\t\t\tdisplay.lineTo(downPoint.x, h);\n\t\t\t\t\tdisplay.lineTo(point.x, h);\n\t\t\t\t\tdisplay.lineTo(point.x, 0);\n\t\t\t\t\tdisplay.lineTo(downPoint.x, 0);\n\t\t\t\t}\n\t\t\t\telse if (behavior === \"zoomY\" || behavior === \"selectY\") {\n\t\t\t\t\tdisplay.moveTo(0, downPoint.y);\n\t\t\t\t\tdisplay.lineTo(w, downPoint.y);\n\t\t\t\t\tdisplay.lineTo(w, point.y);\n\t\t\t\t\tdisplay.lineTo(0, point.y);\n\t\t\t\t\tdisplay.lineTo(0, downPoint.y);\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\t}\n\n\tprotected _onHide() {\n\t\tif (this.isHidden()) {\n\t\t\tlet chart = this.chart;\n\t\t\tif (chart) {\n\n\t\t\t\tchart.xAxes.each((axis) => {\n\t\t\t\t\taxis.handleCursorHide();\n\t\t\t\t})\n\t\t\t\tchart.yAxes.each((axis) => {\n\t\t\t\t\taxis.handleCursorHide();\n\t\t\t\t})\n\t\t\t\tchart.series.each((series) => {\n\t\t\t\t\tseries.handleCursorHide();\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\t\tsuper._onHide();\n\t}\n\n\tprotected _onShow() {\n\t\tif (!this.isHidden()) {\n\t\t\tlet chart = this.chart;\n\t\t\tif (chart) {\n\t\t\t\tchart.xAxes.each((axis) => {\n\t\t\t\t\taxis.handleCursorShow();\n\t\t\t\t})\n\t\t\t\tchart.yAxes.each((axis) => {\n\t\t\t\t\taxis.handleCursorShow();\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\t\tsuper._onShow();\n\t}\n\n\tprotected _dispose() {\n\t\tsuper._dispose();\n\t\tthis.selection.dispose();\n\t}\n}\n","import type { AxisRenderer } from \"./AxisRenderer\";\nimport type { AxisLabel } from \"./AxisLabel\";\nimport type { AxisTick } from \"./AxisTick\";\nimport type { Graphics } from \"../../../core/render/Graphics\";\nimport type { Grid } from \"./Grid\";\nimport type { AxisBullet } from \"./AxisBullet\";\nimport type { XYChart } from \"../XYChart\";\nimport type { XYSeries, IXYSeriesDataItem } from \"../series/XYSeries\";\nimport type { Animation } from \"../../../core/util/Entity\";\nimport type { Tooltip } from \"../../../core/render/Tooltip\";\nimport type { Root } from \"../../../core/Root\";\n\nimport { DataItem } from \"../../../core/render/Component\";\nimport { Component, IComponentSettings, IComponentPrivate, IComponentEvents, IComponentDataItem } from \"../../../core/render/Component\";\nimport { Container } from \"../../../core/render/Container\";\nimport { p100 } from \"../../../core/util/Percent\";\nimport { List } from \"../../../core/util/List\";\nimport { Rectangle } from \"../../../core/render/Rectangle\";\n\nimport * as $array from \"../../../core/util/Array\";\nimport * as $type from \"../../../core/util/Type\";\nimport * as $utils from \"../../../core/util/Utils\";\n\nexport interface IAxisSettings<R extends AxisRenderer> extends IComponentSettings {\n\t/**\n\t * A renderer object which is responsible of rendering visible axis elements.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/#Axis_renderer} for more info\n\t */\n\trenderer: R;\n\n\t/**\n\t * The initial relative zoom start position of the axis.\n\t *\n\t * E.g. stting it to `0.1` will pre-zoom axis to 10% from the start.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/zoom-and-pan/#Pre_zooming_axes} for more info\n\t */\n\tstart?: number;\n\n\t/**\n\t * The initial relative zoom end position of the axis.\n\t *\n\t * E.g. stting it to `0.9` will pre-zoom axis to 10% from the end.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/zoom-and-pan/#Pre_zooming_axes} for more info\n\t */\n\tend?: number;\n\n\t/**\n\t * Maximum number of times the scope of the axis could auto-zoom-in.\n\t *\n\t * This is to prevent axis jumping too drastically when scrolling/zooming.\n\t *\n\t * @default 1000\n\t */\n\tmaxZoomFactor?: number | null;\n\n\t/**\n\t * Maximum number of axis elements to show at a time.\n\t *\n\t * E.g. for a [[CategoryAxis]] that would be number of categories.\n\t * For a [[DateAxis]] it would be number of `baseInterval`.\n\t *\n\t * The axis will not allow to be zoomed out beyond this number.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/zoom-and-pan/#Limiting_zoom_scope} for more info\n\t */\n\tmaxZoomCount?: number;\n\n\t/**\n\t * Minimum number of axis elements to show at a time.\n\t *\n\t * E.g. for a [[CategoryAxis]] that would be number of categories.\n\t * For a [[DateAxis]] it would be number of `baseInterval`.\n\t *\n\t * The axis will not allow to be zoomed in beyond this number.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/zoom-and-pan/#Limiting_zoom_scope} for more info\n\t */\n\tminZoomCount?: number;\n\n\t/**\n\t * Base value of the axis.\n\t */\n\tbaseValue?: number;\n\n\t/**\n\t * If set to `false` the axis will be exempt when chart is panned\n\t * horizontally, and will keep its current position.`\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/zoom-and-pan/#Excluding_axes_from_pan_or_zoom} for more info\n\t */\n\tpanX?: boolean;\n\n\t/**\n\t * If set to `false` the axis will be exempt when chart is panned\n\t * vertically, and will keep its current position.`\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/zoom-and-pan/#Excluding_axes_from_pan_or_zoom} for more info\n\t */\n\tpanY?: boolean;\n\n\t/**\n\t * If set to `false` the axis will be exempt when chart is zoomed\n\t * horizontally, and will keep its current zoom/position.`\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/zoom-and-pan/#Excluding_axes_from_pan_or_zoom} for more info\n\t */\n\tzoomX?: boolean;\n\n\t/**\n\t * If set to `false` the axis will be exempt when chart is zoomed\n\t * vertically, and will keep its current zoom/position.`\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/zoom-and-pan/#Excluding_axes_from_pan_or_zoom} for more info\n\t */\n\tzoomY?: boolean;\n\n\t/**\n\t * Set this to `false` to prevent axis from being zoomed.\n\t */\n\tzoomable?: boolean;\n\n\t/**\n\t * A relative distance the axis is allowed to be zoomed/panned beyond its\n\t * actual scope.\n\t *\n\t * @default 0.1\n\t * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/zoom-and-pan/#Over_zooming} for more info\n\t */\n\tmaxDeviation?: number;\n\n\t/**\n\t * [[Tooltip]] element to use for axis.\n\t */\n\ttooltip?: Tooltip;\n\n\t/**\n\t * `tooltipLocation` indicates\n\t * which relative place to snap to: `0` beginning, `0.5` - middle, `1` - end.\n\t *\n\t * @default 0.5\n\t */\n\ttooltipLocation?: number;\n\n\t/**\n\t * Should tooltip snap to the `tooltipLocation` (`true`) or follow cursor.\n\t *\n\t * @default true\n\t */\n\tsnapTooltip?: boolean;\n\n\t/**\n\t * If set to `true` (default) the axis width will stay constant across all\n\t * zooms, even if actual length of all visible labels changes.\n\t *\n\t * @default true\n\t */\n\tfixAxisSize?: boolean;\n\n\t/**\n\t * A function that will be used to create bullets on each cell.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/axes/#Axis_bullets} for more info\n\t */\n\tbullet?: (root: Root, axis: Axis<AxisRenderer>, dataItem: DataItem<IAxisDataItem>) => AxisBullet;\n\n\t/**\n\t * Specifies how axis fill should be drawn (if fill rule allows it).\n\t *\n\t * @since 5.14.0\n\t */\n\tminorAxisFillsEnabled?: boolean;\n\n\t/**\n\t * If set to `false`, the axis will not be zoomed out when the chart's zoom\n\t * out button is pressed, and vice versa when axis is zoomed, it will not\n\t * trigger the button to appear.\n\t *\n\t * @default true\n\t * @since 5.14.0\n\t */\n\tzoomOut?: boolean;\n}\n\nexport interface IAxisEvents extends IComponentEvents {\n}\n\nexport interface IAxisPrivate extends IComponentPrivate {\n\n\t/**\n\t * @ignore\n\t */\n\tname?: \"value\" | \"date\" | \"category\";\n\n\t/**\n\t * @ignore\n\t */\n\tupdateScrollbar?: boolean;\n\n\t/**\n\t * @ignore\n\t */\n\tmaxZoomFactor?: number | null;\n\n\t/**\n\t * Saves position to which tooltip points.\n\t */\n\ttooltipPosition?: number;\n\n\t/**\n\t * Width in pixels between grid lines (read-only).\n\t * \n\t * It might not be exact, as [[DateAxis]] can have grids at irregular\n\t * intervals.\n\t * \n\t * Could be used to detect when size changes and to adjust labels for them\n\t * not to overlap.\n\t */\n\tcellWidth?: number;\n\n}\n\nexport interface IAxisDataItem extends IComponentDataItem {\n\n\t/**\n\t * Axis label element.\n\t */\n\tlabel?: AxisLabel;\n\n\t/**\n\t * Tick element.\n\t */\n\ttick?: AxisTick;\n\n\t/**\n\t * Grid line element.\n\t */\n\tgrid?: Grid;\n\n\t/**\n\t * Axis fill element.\n\t */\n\taxisFill?: Graphics;\n\n\t/**\n\t * Bullet element.\n\t */\n\tbullet?: AxisBullet;\n\n\t/**\n\t * Indicates if this data item represents an axis range.\n\t */\n\tisRange?: boolean;\n\n\t/**\n\t * If set to `true`, the grid and axis fill of this data item will be drawn\n\t * above series.\n\t *\n\t * NOTE: this needs to be set **before** crating an axis range. Updating this\n\t * dynamically won't have any effect.\n\t *\n\t * NOTE: if you need all grid to be drawn above series, you can brig it to\n\t * front with `chart.gridContainer.toFront();`.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/axes/axis-ranges/#Grid_fill_above_series} for more info\n\t * @default false\n\t */\n\tabove?: boolean\n\n}\n\n/**\n * A base class for all axes.\n *\n * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/#Adding_axes} for more info\n */\nexport abstract class Axis<R extends AxisRenderer> extends Component {\n\tpublic static className: string = \"Axis\";\n\tpublic static classNames: Array<string> = Component.classNames.concat([Axis.className]);\n\n\tdeclare public _settings: IAxisSettings<R>;\n\tdeclare public _privateSettings: IAxisPrivate;\n\tdeclare public _dataItemSettings: IAxisDataItem;\n\tdeclare public _events: IAxisEvents;\n\n\tdeclare public _seriesType: XYSeries;\n\n\tprotected _series: Array<this[\"_seriesType\"]> = [];\n\n\tpublic _isPanning: boolean = false;\n\n\t/**\n\t * Array of minor data items.\n\t */\n\tpublic minorDataItems: Array<DataItem<this[\"_dataItemSettings\"]>> = [];\n\n\t/**\n\t * A [[Container]] that holds all the axis label elements.\n\t *\n\t * @default Container.new()\n\t */\n\tpublic readonly labelsContainer: Container = this.children.push(Container.new(this._root, {}));\n\n\t/**\n\t * A [[Container]] that holds all the axis grid and fill elements.\n\t *\n\t * @default Container.new()\n\t */\n\tpublic readonly gridContainer: Container = Container.new(this._root, { width: p100, height: p100 });\n\n\t/**\n\t * A [[Container]] that holds axis grid elements which goes above the series.\n\t *\n\t * @default Container.new()\n\t */\n\tpublic readonly topGridContainer: Container = Container.new(this._root, { width: p100, height: p100 });\n\n\t/**\n\t * A [[Container]] that holds all the axis bullet elements.\n\t *\n\t * @default new Container\n\t */\n\tpublic readonly bulletsContainer: Container = this.children.push(Container.new(this._root, { isMeasured: false, width: p100, height: p100, position: \"absolute\" }));\n\n\t/**\n\t * A referenece to the the chart the axis belongs to.\n\t */\n\tpublic chart: XYChart | undefined;\n\n\tprotected _rangesDirty: Boolean = false;\n\n\tpublic _panStart: number = 0;\n\tpublic _panEnd: number = 1;\n\n\tprotected _sAnimation?: Animation<this[\"_settings\"][\"start\"]>;\n\tprotected _eAnimation?: Animation<this[\"_settings\"][\"end\"]>;\n\n\tpublic _skipSync: boolean = false;\n\n\t/**\n\t * A list of axis ranges.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/axes/axis-ranges/} for more info\n\t * @default new List()\n\t */\n\tpublic readonly axisRanges: List<DataItem<this[\"_dataItemSettings\"]>> = new List();\n\n\tpublic _seriesAxisRanges: Array<DataItem<this[\"_dataItemSettings\"]>> = [];\n\n\t/**\n\t * A control label that is invisible but is used to keep width the width of\n\t * the axis constant.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/axes/value-axis/#Ghost_label} for more info\n\t */\n\tpublic ghostLabel?: AxisLabel;\n\n\tprotected _cursorPosition: number = -1;\n\n\tprotected _snapToSeries?: Array<XYSeries>;\n\n\tpublic _seriesValuesDirty = false;\n\n\tpublic _seriesAdded = false;\n\n\t/**\n\t * A container above the axis that can be used to add additional stuff into\n\t * it. For example a legend, label, or an icon.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/axes/axis-headers/} for more info\n\t * @default new Container\n\t */\n\tpublic axisHeader: Container = this.children.push(Container.new(this._root, {\n\t\tthemeTags: [\"axis\", \"header\"],\n\t\tposition: \"absolute\",\n\t\tbackground: Rectangle.new(this._root, {\n\t\t\tthemeTags: [\"header\", \"background\"],\n\t\t\tfill: this._root.interfaceColors.get(\"background\")\n\t\t})\n\t}));\n\n\tpublic _bullets: { [index: string]: AxisBullet } = {};\n\n\tprotected _dispose() {\n\t\t// these could be in other parents, so disposing just in case\n\t\tthis.gridContainer.dispose();\n\t\tthis.topGridContainer.dispose();\n\t\tthis.bulletsContainer.dispose();\n\t\tthis.labelsContainer.dispose();\n\t\tthis.axisHeader.dispose();\n\t\tsuper._dispose();\n\t}\n\n\tprotected _afterNew() {\n\t\tsuper._afterNew();\n\n\t\tthis.setPrivate(\"updateScrollbar\", true);\n\n\t\tthis._disposers.push(this.axisRanges.events.onAll((change) => {\n\t\t\tif (change.type === \"clear\") {\n\t\t\t\t$array.each(change.oldValues, (dataItem) => {\n\t\t\t\t\tdataItem.dispose();\n\t\t\t\t});\n\t\t\t} else if (change.type === \"push\") {\n\t\t\t\tthis._processAxisRange(change.newValue, [\"range\"]);\n\t\t\t} else if (change.type === \"setIndex\") {\n\t\t\t\tthis._processAxisRange(change.newValue, [\"range\"]);\n\t\t\t} else if (change.type === \"insertIndex\") {\n\t\t\t\tthis._processAxisRange(change.newValue, [\"range\"]);\n\t\t\t} else if (change.type === \"removeIndex\") {\n\t\t\t\tthis.disposeDataItem(change.oldValue);\n\t\t\t} else if (change.type === \"moveIndex\") {\n\t\t\t\tthis._processAxisRange(change.value, [\"range\"]);\n\t\t\t} else {\n\t\t\t\tthrow new Error(\"Unknown IStreamEvent type\");\n\t\t\t}\n\t\t}))\n\n\t\tconst renderer = this.get(\"renderer\");\n\t\tif (renderer) {\n\t\t\trenderer.axis = this;\n\t\t\trenderer.processAxis();\n\t\t}\n\t\tthis.children.push(renderer);\n\t\tthis._createGhostLabel();\n\t}\n\n\tprotected _createGhostLabel() {\n\t\tconst renderer = this.get(\"renderer\");\n\t\tconst ghostLabel = renderer.makeLabel(new DataItem(this, undefined, {}), []);\n\t\tghostLabel.adapters.disable(\"text\");\n\t\tghostLabel.setAll({ opacity: 0, tooltipText: undefined, tooltipHTML: undefined, interactive: false });\n\t\tghostLabel.events.disable();\n\t\tthis.ghostLabel = ghostLabel;\n\t}\n\n\tprotected _updateFinals(_start: number, _end: number) {\n\n\t}\n\n\t/**\n\t * Zooms the axis to relative locations.\n\t *\n\t * Both `start` and `end` are relative: 0 means start of the axis, 1 - end.\n\t *\n\t * @param   start     Relative start\n\t * @param   end       Relative end\n\t * @param   duration  Duration of the zoom animation in milliseconds\n\t * @return            Zoom animation\n\t */\n\tpublic zoom(start: number, end: number, duration?: number, priority?: \"start\" | \"end\"): Animation<this[\"_settings\"][\"start\"]> | Animation<this[\"_settings\"][\"end\"]> | undefined {\n\t\tif (this.get(\"zoomable\", true)) {\n\n\t\t\tthis._updateFinals(start, end);\n\n\t\t\tif (this.get(\"start\") !== start || this.get(\"end\") != end) {\n\t\t\t\tlet sAnimation = this._sAnimation;\n\t\t\t\tlet eAnimation = this._eAnimation;\n\n\t\t\t\tif (start > end) {\n\t\t\t\t\t[start, end] = [end, start];\n\t\t\t\t}\n\n\t\t\t\tlet maxDeviation = this.get(\"maxDeviation\", 0.5) * Math.min(1, (end - start));\n\n\t\t\t\tif (start < - maxDeviation) {\n\t\t\t\t\tstart = -maxDeviation;\n\t\t\t\t}\n\n\t\t\t\tif (end > 1 + maxDeviation) {\n\t\t\t\t\tend = 1 + maxDeviation;\n\t\t\t\t}\n\n\t\t\t\tlet maxZoomFactor = this.getPrivate(\"maxZoomFactor\", this.get(\"maxZoomFactor\", 100));\n\t\t\t\tlet maxZoomFactorReal = maxZoomFactor;\n\n\t\t\t\tif (!$type.isNumber(duration)) {\n\t\t\t\t\tduration = this.get(\"interpolationDuration\", 0);\n\t\t\t\t}\n\n\t\t\t\tif (!priority) {\n\t\t\t\t\tpriority = \"end\";\n\t\t\t\t}\n\n\t\t\t\tif (end === 1 && start !== 0) {\n\t\t\t\t\tif (start < this.get(\"start\", 0)) {\n\t\t\t\t\t\tpriority = \"start\";\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tpriority = \"end\";\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (start === 0 && end !== 1) {\n\t\t\t\t\tif (end > this.get(\"end\", 1)) {\n\t\t\t\t\t\tpriority = \"end\";\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tpriority = \"start\";\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tlet minZoomCount = this.get(\"minZoomCount\", 0);\n\t\t\t\tconst dataItems = this.dataItems;\n\n\t\t\t\tif (dataItems && dataItems.length < minZoomCount) {\n\t\t\t\t\tminZoomCount = dataItems.length;\n\t\t\t\t}\n\n\t\t\t\tlet maxZoomCount = this.get(\"maxZoomCount\", Infinity);\n\n\t\t\t\tif ($type.isNumber(minZoomCount)) {\n\t\t\t\t\tmaxZoomFactor = maxZoomFactorReal / minZoomCount;\n\t\t\t\t}\n\n\t\t\t\tlet minZoomFactor: number = 1;\n\n\t\t\t\tif ($type.isNumber(maxZoomCount)) {\n\t\t\t\t\tminZoomFactor = maxZoomFactorReal / maxZoomCount;\n\t\t\t\t}\n\n\t\t\t\t// need one more\n\t\t\t\tif (start > end) {\n\t\t\t\t\t[start, end] = [end, start];\n\t\t\t\t}\n\n\t\t\t\t// most likely we are dragging left scrollbar grip here, so we tend to modify end\n\t\t\t\tif (priority === \"start\") {\n\t\t\t\t\tif (maxZoomCount > 0) {\n\t\t\t\t\t\t// add to the end\n\t\t\t\t\t\tif (1 / (end - start) < minZoomFactor) {\n\t\t\t\t\t\t\tend = start + 1 / minZoomFactor;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// add to the end\n\t\t\t\t\tif (1 / (end - start) > maxZoomFactor) {\n\t\t\t\t\t\tend = start + 1 / maxZoomFactor;\n\t\t\t\t\t}\n\t\t\t\t\t//unless end is > 0\n\t\t\t\t\tif (end > 1 && end - start < 1 / maxZoomFactor) {\n\t\t\t\t\t\t//end = 1;\n\t\t\t\t\t\tstart = end - 1 / maxZoomFactor;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t// most likely we are dragging right, so we modify left\n\t\t\t\telse {\n\t\t\t\t\tif (maxZoomCount > 0) {\n\t\t\t\t\t\t// add to the end\n\t\t\t\t\t\tif (1 / (end - start) < minZoomFactor) {\n\t\t\t\t\t\t\tstart = end - 1 / minZoomFactor;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// remove from start\n\t\t\t\t\tif (1 / (end - start) > maxZoomFactor) {\n\t\t\t\t\t\tstart = end - 1 / maxZoomFactor;\n\t\t\t\t\t}\n\t\t\t\t\tif (start < 0 && end - start < 1 / maxZoomFactor) {\n\t\t\t\t\t\t//start = 0;\n\t\t\t\t\t\tend = start + 1 / maxZoomFactor;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\n\t\t\t\tif (1 / (end - start) > maxZoomFactor) {\n\t\t\t\t\tend = start + 1 / maxZoomFactor;\n\t\t\t\t}\n\n\t\t\t\tif (1 / (end - start) > maxZoomFactor) {\n\t\t\t\t\tstart = end - 1 / maxZoomFactor;\n\t\t\t\t}\n\n\t\t\t\tif (maxZoomCount != null && minZoomCount != null && (start == this.get(\"start\") && end == this.get(\"end\"))) {\n\t\t\t\t\tconst chart = this.chart;\n\t\t\t\t\tif (chart) {\n\t\t\t\t\t\tchart._handleAxisSelection(this, true);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (((sAnimation && sAnimation.playing && sAnimation.to == start) || this.get(\"start\") == start) && ((eAnimation && eAnimation.playing && eAnimation.to == end) || this.get(\"end\") == end)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (duration > 0) {\n\t\t\t\t\tlet easing = this.get(\"interpolationEasing\");\n\t\t\t\t\tlet sAnimation, eAnimation;\n\t\t\t\t\tif (this.get(\"start\") != start) {\n\t\t\t\t\t\tsAnimation = this.animate({ key: \"start\", to: start, duration: duration, easing: easing });\n\t\t\t\t\t}\n\t\t\t\t\tif (this.get(\"end\") != end) {\n\t\t\t\t\t\teAnimation = this.animate({ key: \"end\", to: end, duration: duration, easing: easing });\n\t\t\t\t\t}\n\n\t\t\t\t\tthis._sAnimation = sAnimation;\n\t\t\t\t\tthis._eAnimation = eAnimation;\n\n\t\t\t\t\tif (sAnimation) {\n\t\t\t\t\t\treturn sAnimation;\n\t\t\t\t\t}\n\t\t\t\t\telse if (eAnimation) {\n\t\t\t\t\t\treturn eAnimation;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tthis.set(\"start\", start);\n\t\t\t\t\tthis.set(\"end\", end);\n\t\t\t\t\tthis.root.events.once(\"frameended\", () => {\n\t\t\t\t\t\tthis.markDirtyKey(\"start\");\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif (this._sAnimation) {\n\t\t\t\t\tthis._sAnimation.stop();\n\t\t\t\t}\n\t\t\t\tif (this._eAnimation) {\n\t\t\t\t\tthis._eAnimation.stop();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * A list of series using this axis.\n\t *\n\t * @return Series\n\t */\n\tpublic get series(): Array<this[\"_seriesType\"]> {\n\t\treturn this._series;\n\t}\n\n\n\tpublic _processAxisRange(dataItem: DataItem<this[\"_dataItemSettings\"]>, themeTags: Array<string>) {\n\t\tdataItem.setRaw(\"isRange\", true);\n\t\tthis._createAssets(dataItem, themeTags);\n\t\tthis._rangesDirty = true;\n\t\tthis._prepareDataItem(dataItem);\n\n\t\tconst above = dataItem.get(\"above\");\n\t\tconst container = this.topGridContainer;\n\n\t\tconst grid = dataItem.get(\"grid\");\n\t\tif (above && grid) {\n\t\t\tcontainer.children.moveValue(grid);\n\t\t}\n\n\t\tconst fill = dataItem.get(\"axisFill\");\n\t\tif (above && fill) {\n\t\t\tcontainer.children.moveValue(fill);\n\t\t}\n\t}\n\n\tpublic _prepareDataItem(_dataItem: DataItem<this[\"_dataItemSettings\"]>, _index?: number) { }\n\n\t/**\n\t * @ignore\n\t */\n\tpublic abstract getX(_value: any, _location: number, baseValue?: any): number;\n\n\t/**\n\t * @ignore\n\t */\n\tpublic abstract getY(_value: any, _location: number, baseValue?: any): number;\n\n\t/**\n\t * @ignore\n\t */\n\tpublic abstract getDataItemCoordinateX(_dataItem: DataItem<IXYSeriesDataItem>, _field: string, _cellLocation?: number, _axisLocation?: number): number;\n\n\t/**\n\t * @ignore\n\t */\n\tpublic abstract getDataItemCoordinateY(_dataItem: DataItem<IXYSeriesDataItem>, _field: string, _cellLocation?: number, _axisLocation?: number): number;\n\n\t/**\n\t * @ignore\n\t */\n\tpublic abstract getDataItemPositionX(_dataItem: DataItem<IXYSeriesDataItem>, _field: string, _cellLocation?: number, _axisLocation?: number, exactLocation?: boolean): number;\n\n\t/**\n\t * @ignore\n\t */\n\tpublic abstract getDataItemPositionY(_dataItem: DataItem<IXYSeriesDataItem>, _field: string, _cellLocation?: number, _axisLocation?: number, exactLocation?: boolean): number;\n\n\t/**\n\t * @ignore\n\t */\n\tpublic markDirtyExtremes() {\n\t}\n\n\t/**\n\t * @ignore\n\t */\n\tpublic markDirtySelectionExtremes() {\n\t}\n\n\tpublic _calculateTotals() {\n\t}\n\n\tprotected _updateAxisRanges() {\n\t\tthis._bullets = {};\n\t\tthis.axisRanges.each((axisRange) => {\n\t\t\tthis._prepareDataItem(axisRange);\n\t\t})\n\n\t\t$array.each(this._seriesAxisRanges, (axisRange) => {\n\t\t\tthis._prepareDataItem(axisRange);\n\t\t})\n\t}\n\n\t/**\n\t * @ignore\n\t */\n\tpublic abstract baseValue(): any;\n\n\tpublic _prepareChildren() {\n\t\tsuper._prepareChildren();\n\n\t\tconst ghostLabel = this.ghostLabel;\n\t\tif (ghostLabel) {\n\t\t\tif (this.get(\"fixAxisSize\")) {\n\t\t\t\tghostLabel.set(\"visible\", true);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tghostLabel.set(\"visible\", false);\n\t\t\t}\n\t\t}\n\n\t\tif (this.isDirty(\"start\") || this.isDirty(\"end\")) {\n\t\t\tconst chart = this.chart;\n\t\t\tif (chart) {\n\t\t\t\tchart._updateCursor();\n\t\t\t}\n\n\t\t\tlet start = this.get(\"start\", 0);\n\t\t\tlet end = this.get(\"end\", 1);\n\n\t\t\tlet maxDeviation = this.get(\"maxDeviation\", 0.5) * Math.min(1, (end - start));\n\n\t\t\tif (start < -maxDeviation) {\n\t\t\t\tlet delta = start + maxDeviation;\n\t\t\t\tstart = -maxDeviation;\n\t\t\t\tthis.setRaw(\"start\", start);\n\t\t\t\tif (this.isDirty(\"end\")) {\n\t\t\t\t\tthis.setRaw(\"end\", end - delta);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (end > 1 + maxDeviation) {\n\t\t\t\tlet delta = end - 1 - maxDeviation;\n\t\t\t\tend = 1 + maxDeviation;\n\t\t\t\tthis.setRaw(\"end\", end);\n\n\t\t\t\tif (this.isDirty(\"start\")) {\n\t\t\t\t\tthis.setRaw(\"start\", start - delta);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\n\t\tconst renderer = this.get(\"renderer\");\n\t\trenderer._start = this.get(\"start\")!;\n\t\trenderer._end = this.get(\"end\")!;\n\t\trenderer._inversed = renderer.get(\"inversed\", false);\n\t\trenderer._axisLength = renderer.axisLength() / (renderer._end - renderer._start);\n\t\trenderer._updateLC();\n\n\t\tif (this.isDirty(\"tooltip\")) {\n\t\t\tconst tooltip = this.get(\"tooltip\");\n\t\t\tif (tooltip) {\n\t\t\t\tconst rendererTags = renderer.get(\"themeTags\");\n\t\t\t\ttooltip.addTag(\"axis\");\n\t\t\t\ttooltip.addTag(this.className.toLowerCase());\n\t\t\t\ttooltip._applyThemes();\n\n\t\t\t\tif (rendererTags) {\n\t\t\t\t\ttooltip.set(\"themeTags\", $utils.mergeTags(tooltip.get(\"themeTags\"), rendererTags));\n\t\t\t\t\ttooltip.label._applyThemes();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tpublic _updateTooltipBounds() {\n\t\tconst tooltip = this.get(\"tooltip\")!;\n\t\tif (tooltip) {\n\t\t\tthis.get(\"renderer\").updateTooltipBounds(tooltip);\n\t\t}\n\t}\n\n\tpublic _updateBounds() {\n\t\tsuper._updateBounds();\n\t\tthis._updateTooltipBounds();\n\t}\n\n\t/**\n\t * @ignore\n\t */\n\tpublic processChart(chart: XYChart) {\n\t\tthis.chart = chart;\n\t\tconst renderer = this.get(\"renderer\");\n\n\t\trenderer.chart = chart;\n\t\tchart.gridContainer.children.push(this.gridContainer);\n\t\tchart.topGridContainer.children.push(this.topGridContainer);\n\n\t\tchart.axisHeadersContainer.children.push(this.axisHeader);\n\n\t\tthis.on(\"start\", () => {\n\t\t\tchart._handleAxisSelection(this);\n\t\t});\n\t\tthis.on(\"end\", () => {\n\t\t\tchart._handleAxisSelection(this);\n\t\t});\n\n\t\tchart.plotContainer.onPrivate(\"width\", () => {\n\t\t\tthis.markDirtySize();\n\t\t});\n\t\tchart.plotContainer.onPrivate(\"height\", () => {\n\t\t\tthis.markDirtySize();\n\t\t});\n\n\t\tchart.processAxis(this);\n\t}\n\n\t/**\n\t * @ignore\n\t */\n\tpublic hideDataItem(dataItem: DataItem<IAxisDataItem>): Promise<void> {\n\t\tthis._toggleFHDataItem(dataItem, true);\n\t\treturn super.hideDataItem(dataItem);\n\t}\n\n\t/**\n\t * @ignore\n\t */\n\tpublic showDataItem(dataItem: DataItem<IAxisDataItem>): Promise<void> {\n\t\tthis._toggleFHDataItem(dataItem, false);\n\t\treturn super.showDataItem(dataItem);\n\t}\n\n\tpublic _toggleFHDataItem(dataItem: DataItem<IAxisDataItem>, forceHidden: boolean) {\n\t\tconst fh = \"forceHidden\";\n\t\tconst label = dataItem.get(\"label\");\n\t\tif (label) {\n\t\t\tlabel.set(fh, forceHidden);\n\t\t}\n\t\tconst grid = dataItem.get(\"grid\");\n\t\tif (grid) {\n\t\t\tgrid.set(fh, forceHidden);\n\t\t}\n\t\tconst tick = dataItem.get(\"tick\");\n\t\tif (tick) {\n\t\t\ttick.set(fh, forceHidden);\n\t\t}\n\t\tconst axisFill = dataItem.get(\"axisFill\");\n\t\tif (axisFill) {\n\t\t\taxisFill.set(fh, forceHidden);\n\t\t}\n\n\t\tconst bullet = dataItem.get(\"bullet\");\n\t\tif (bullet) {\n\t\t\tconst sprite = bullet.get(\"sprite\");\n\t\t\tif (sprite) {\n\t\t\t\tsprite.set(fh, forceHidden);\n\t\t\t}\n\t\t}\n\t}\n\n\n\tpublic _toggleDataItem(dataItem: DataItem<IAxisDataItem>, visible: boolean) {\n\t\tconst label = dataItem.get(\"label\");\n\t\tconst v = \"visible\";\n\t\tif (label) {\n\t\t\tlabel.setPrivate(v, visible);\n\t\t}\n\t\tconst grid = dataItem.get(\"grid\");\n\t\tif (grid) {\n\t\t\tgrid.setPrivate(v, visible);\n\t\t}\n\t\tconst tick = dataItem.get(\"tick\");\n\t\tif (tick) {\n\t\t\ttick.setPrivate(v, visible);\n\t\t}\n\t\tconst axisFill = dataItem.get(\"axisFill\");\n\t\tif (axisFill) {\n\t\t\taxisFill.setPrivate(v, visible);\n\t\t}\n\n\t\tconst bullet = dataItem.get(\"bullet\");\n\t\tif (bullet) {\n\t\t\tconst sprite = bullet.get(\"sprite\");\n\t\t\tif (sprite) {\n\t\t\t\tsprite.setPrivate(v, visible);\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * @ignore\n\t */\n\tpublic abstract basePosition(): number;\n\n\tpublic _createAssets(dataItem: DataItem<this[\"_dataItemSettings\"]>, tags: Array<string>, minor?: boolean) {\n\t\tconst renderer = this.get(\"renderer\");\n\t\tlet m = \"minor\";\n\n\t\tconst label = dataItem.get(\"label\");\n\t\tif (!label) {\n\t\t\trenderer.makeLabel(dataItem, tags);\n\t\t}\n\t\telse {\n\t\t\tlet themeTags = label.get(\"themeTags\");\n\t\t\tlet remove = false;\n\t\t\tif (minor) {\n\t\t\t\tif (themeTags?.indexOf(m) == -1) {\n\t\t\t\t\tremove = true;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif (themeTags?.indexOf(m) != -1) {\n\t\t\t\t\tremove = true;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (remove) {\n\t\t\t\tlabel.parent?.children.removeValue(label);\n\t\t\t\trenderer.makeLabel(dataItem, tags);\n\t\t\t\tlabel.dispose();\n\t\t\t\trenderer.labels.removeValue(label);\n\t\t\t}\n\t\t}\n\n\t\tconst grid = dataItem.get(\"grid\");\n\n\t\tif (!grid) {\n\t\t\trenderer.makeGrid(dataItem, tags);\n\t\t}\n\t\telse {\n\t\t\tlet themeTags = grid.get(\"themeTags\");\n\t\t\tlet remove = false;\n\t\t\tif (minor) {\n\t\t\t\tif (themeTags?.indexOf(m) == -1) {\n\t\t\t\t\tremove = true;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif (themeTags?.indexOf(m) != -1) {\n\t\t\t\t\tremove = true;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (remove) {\n\t\t\t\tgrid.parent?.children.removeValue(grid);\n\t\t\t\trenderer.makeGrid(dataItem, tags);\n\t\t\t\tgrid.dispose();\n\t\t\t\trenderer.grid.removeValue(grid);\n\t\t\t}\n\t\t}\n\n\t\tconst tick = dataItem.get(\"tick\");\n\t\tif (!tick) {\n\t\t\trenderer.makeTick(dataItem, tags);\n\t\t}\n\t\telse {\n\t\t\tlet remove = false;\n\t\t\tlet themeTags = tick.get(\"themeTags\");\n\t\t\tif (minor) {\n\t\t\t\tif (themeTags?.indexOf(m) == -1) {\n\t\t\t\t\tremove = true;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif (themeTags?.indexOf(m) != -1) {\n\t\t\t\t\tremove = true;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (remove) {\n\t\t\t\ttick.parent?.children.removeValue(tick);\n\t\t\t\trenderer.makeTick(dataItem, tags);\n\t\t\t\ttick.dispose();\n\t\t\t\trenderer.ticks.removeValue(tick);\n\t\t\t}\n\t\t}\n\n\t\tif (!minor && !dataItem.get(\"axisFill\")) {\n\t\t\trenderer.makeAxisFill(dataItem, tags);\n\t\t}\n\t\telse if (minor && !dataItem.get(\"axisFill\") && this.get(\"minorAxisFillsEnabled\")) {\n\t\t\trenderer.makeAxisFill(dataItem, tags);\n\t\t}\n\n\t\tthis._processBullet(dataItem);\n\t}\n\n\tprotected _processBullet(dataItem: DataItem<this[\"_dataItemSettings\"]>) {\n\t\tlet bullet = dataItem.get(\"bullet\");\n\t\tlet axisBullet = this.get(\"bullet\");\n\n\t\tif (!bullet && axisBullet && !dataItem.get(\"isRange\")) {\n\t\t\tbullet = axisBullet(this._root, this, dataItem);\n\t\t}\n\n\t\tif (bullet) {\n\t\t\tbullet.axis = this;\n\t\t\tconst sprite = bullet.get(\"sprite\");\n\n\t\t\tif (sprite) {\n\t\t\t\tsprite._setDataItem(dataItem);\n\t\t\t\tdataItem.setRaw(\"bullet\", bullet);\n\t\t\t\tif (!sprite.parent) {\n\t\t\t\t\tthis.bulletsContainer.children.push(sprite);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tpublic _afterChanged() {\n\t\tsuper._afterChanged();\n\n\t\tconst chart = this.chart;\n\t\tif (chart) {\n\t\t\tchart._updateChartLayout();\n\t\t\tchart.axisHeadersContainer.markDirtySize();\n\t\t}\n\n\t\tthis.get(\"renderer\")._updatePositions();\n\n\t\tthis._seriesAdded = false;\n\t}\n\n\t/**\n\t * @ignore\n\t */\n\tpublic disposeDataItem(dataItem: DataItem<this[\"_dataItemSettings\"]>) {\n\t\tsuper.disposeDataItem(dataItem);\n\t\tconst renderer = this.get(\"renderer\");\n\t\tconst label = dataItem.get(\"label\");\n\t\tif (label) {\n\t\t\trenderer.labels.removeValue(label);\n\t\t\tlabel.dispose();\n\t\t}\n\t\tconst tick = dataItem.get(\"tick\");\n\t\tif (tick) {\n\t\t\trenderer.ticks.removeValue(tick);\n\t\t\ttick.dispose();\n\t\t}\n\t\tconst grid = dataItem.get(\"grid\");\n\t\tif (grid) {\n\t\t\trenderer.grid.removeValue(grid);\n\t\t\tgrid.dispose();\n\t\t}\n\t\tconst axisFill = dataItem.get(\"axisFill\");\n\t\tif (axisFill) {\n\t\t\trenderer.axisFills.removeValue(axisFill);\n\t\t\taxisFill.dispose();\n\t\t}\n\t\tconst bullet = dataItem.get(\"bullet\");\n\n\t\tif (bullet) {\n\t\t\tbullet.dispose();\n\t\t}\n\t}\n\n\tprotected _updateGhost() {\n\t\tthis.setPrivate(\"cellWidth\", this.getCellWidthPosition() * this.get(\"renderer\").axisLength());\n\t\tconst ghostLabel = this.ghostLabel;\n\t\tif (ghostLabel) {\n\t\t\tif (!ghostLabel.isHidden()) {\n\t\t\t\tconst bounds = ghostLabel.localBounds();\n\t\t\t\tconst gWidth = Math.ceil(bounds.right - bounds.left);\n\t\t\t\tlet text = ghostLabel.get(\"text\");\n\t\t\t\t$array.each(this.dataItems, (dataItem) => {\n\t\t\t\t\tconst label = dataItem.get(\"label\");\n\t\t\t\t\tif (label && !label.isHidden()) {\n\t\t\t\t\t\tconst bounds = label.localBounds();\n\t\t\t\t\t\tconst w = Math.ceil(bounds.right - bounds.left);\n\n\t\t\t\t\t\tif (w > gWidth) {\n\t\t\t\t\t\t\ttext = label.text._getText();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\tghostLabel.set(\"text\", text);\n\t\t\t}\n\t\t\tlet start = this.get(\"start\", 0);\n\t\t\tlet end = this.get(\"end\", 1);\n\t\t\tthis.get(\"renderer\").updateLabel(ghostLabel, start + (end - start) * 0.5);\n\t\t}\n\t}\n\n\tpublic _handleCursorPosition(position: number, snapToSeries?: Array<XYSeries>) {\n\t\tconst renderer = this.get(\"renderer\");\n\t\tposition = renderer.toAxisPosition(position);\n\n\t\tthis._cursorPosition = position;\n\t\tthis._snapToSeries = snapToSeries;\n\n\t\tthis.updateTooltip();\n\t}\n\n\t/**\n\t * Can be called when axis zoom changes and you need to update tooltip\n\t * position.\n\t */\n\tpublic updateTooltip() {\n\t\tconst snapToSeries = this._snapToSeries;\n\t\tlet position = this._cursorPosition;\n\t\tconst tooltip = this.get(\"tooltip\")!;\n\t\tconst renderer = this.get(\"renderer\");\n\n\t\tif ($type.isNumber(position)) {\n\n\t\t\t$array.each(this.series, (series) => {\n\t\t\t\tif (series.get(\"baseAxis\") === this) {\n\t\t\t\t\tconst dataItem = this.getSeriesItem(series, position!, this.get(\"tooltipLocation\"));\n\n\t\t\t\t\tif (snapToSeries && snapToSeries.indexOf(series) != -1) {\n\t\t\t\t\t\tseries.updateLegendMarker(dataItem);\n\t\t\t\t\t\tseries.updateLegendValue(dataItem);\n\t\t\t\t\t\tseries._settings.tooltipDataItem = dataItem;\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tseries.showDataItemTooltip(dataItem);\n\t\t\t\t\t\tseries.setRaw(\"tooltipDataItem\", dataItem);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\n\t\t\tif (this.get(\"snapTooltip\")) {\n\t\t\t\tposition = this.roundAxisPosition(position, this.get(\"tooltipLocation\", 0.5));\n\t\t\t}\n\n\t\t\tthis.setPrivateRaw(\"tooltipPosition\", position);\n\n\t\t\tif (tooltip) {\n\t\t\t\trenderer.updateTooltipBounds(tooltip);\n\n\t\t\t\tif (!$type.isNaN(position)) {\n\t\t\t\t\tthis._updateTooltipText(tooltip, position);\n\t\t\t\t\trenderer.positionTooltip(tooltip, position);\n\n\t\t\t\t\tif (position < this.get(\"start\", 0) || position > this.get(\"end\", 1)) {\n\t\t\t\t\t\ttooltip.hide(0);\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\ttooltip.show(0);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\ttooltip.hide(0);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tprotected _updateTooltipText(tooltip: Tooltip, position: number) {\n\t\ttooltip.label.set(\"text\", this.getTooltipText(position));\n\t}\n\n\t/**\n\t * Returns text to be used in an axis tooltip for specific relative position.\n\t *\n\t * @param   position        Position\n\t * @param   adjustPosition  Adjust position\n\t * @return                  Tooltip text\n\t */\n\tpublic abstract getTooltipText(position: number, adjustPosition?: boolean): string | undefined;\n\n\t/**\n\t * @ignore\n\t */\n\tpublic roundAxisPosition(position: number, _location: number): number {\n\t\treturn position;\n\t}\n\n\tpublic _handleSeriesRemoved() {\n\t}\n\n\t/**\n\t * @ignore\n\t */\n\tpublic handleCursorShow() {\n\t\tlet tooltip = this.get(\"tooltip\");\n\t\tif (tooltip) {\n\t\t\ttooltip.show();\n\t\t}\n\t}\n\n\t/**\n\t * @ignore\n\t */\n\tpublic handleCursorHide() {\n\t\tlet tooltip = this.get(\"tooltip\");\n\t\tif (tooltip) {\n\t\t\ttooltip.hide();\n\t\t}\n\t}\n\n\t/**\n\t * @ignore\n\t */\n\tpublic processSeriesDataItem(_dataItem: DataItem<IXYSeriesDataItem>, _fields: Array<string>) {\n\n\t}\n\n\tpublic _clearDirty() {\n\t\tsuper._clearDirty();\n\t\tthis._sizeDirty = false;\n\t\tthis._rangesDirty = false;\n\t}\n\n\t/**\n\t * Converts pixel coordinate to a relative position on axis.\n\t *\n\t * @param   coordinate  Coordinate\n\t * @return              Relative position\n\t */\n\tpublic coordinateToPosition(coordinate: number): number {\n\t\tconst renderer = this.get(\"renderer\");\n\t\treturn renderer.toAxisPosition(coordinate / renderer.axisLength());\n\t}\n\n\t/**\n\t * Converts relative position of the plot area to relative position of the\n\t * axis with zoom taken into account.\n\t *\n\t * @param position Position\n\t * @return Relative position\n\t */\n\tpublic toAxisPosition(position: number): number {\n\t\treturn this.get(\"renderer\").toAxisPosition(position);\n\t}\n\n\t/**\n\t * Converts relative position of the axis to a global position taking current\n\t * zoom into account (opposite to what `toAxisPosition` does).\n\t *\n\t * @since 5.4.2\n\t * @param position Position\n\t * @return Global position\n\t */\n\tpublic toGlobalPosition(position: number): number {\n\t\treturn this.get(\"renderer\").toGlobalPosition(position);\n\t}\n\n\t/**\n\t * Adjusts position with inversed taken into account.\n\t *\n\t * @ignore\n\t */\n\tpublic fixPosition(position: number): number {\n\t\treturn this.get(\"renderer\").fixPosition(position);\n\t}\n\n\t/**\n\t * Returns a data item from series that is closest to the `position`.\n\t *\n\t * @param   series    Series\n\t * @param   position  Relative position\n\t * @return            Data item\n\t */\n\tpublic abstract getSeriesItem(series: XYSeries, position: number, location?: number): DataItem<IXYSeriesDataItem> | undefined\n\n\t/**\n\t * @ignore\n\t */\n\tpublic shouldGap(_dataItem: DataItem<IXYSeriesDataItem>, _nextItem: DataItem<IXYSeriesDataItem>, _autoGapCount: number, _fieldName: string): boolean {\n\t\treturn false;\n\t}\n\n\t/**\n\t * Creates and returns an axis range object.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/axes/axis-ranges/} for more info\n\t * @param   axisDataItem  Axis data item\n\t * @return                Axis range\n\t */\n\tpublic createAxisRange(axisDataItem: DataItem<IAxisDataItem>): DataItem<this[\"_dataItemSettings\"]> {\n\t\treturn this.axisRanges.push(axisDataItem);\n\t}\n\n\t/**\n\t * @ignore\n\t */\n\tpublic _groupSeriesData(_series: XYSeries) { }\n\n\t/**\n\t * Returns relative position between two grid lines of the axis.\n\t *\n\t * @return Position\n\t */\n\tpublic getCellWidthPosition(): number {\n\t\treturn 0.05;\n\t}\n\n\t/**\n\t * @ignore\n\t */\n\tpublic abstract nextPosition(_count?: number): number\n}\n","import type { IPoint } from \"../../../core/util/IPoint\";\n\nimport { Tick, ITickSettings, ITickPrivate } from \"../../../core/render/Tick\";\n\n\nexport interface IAxisTickSettings extends ITickSettings {\n\n\t/**\n\t * Relative location of the tick within the cell.\n\t *\n\t * `0` - beginning, `0.5` - middle, `1` - end.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/axes/#Location_of_axis_elements} for more info\n\t */\n\tlocation?: number;\n\n\t/**\n\t * Relative location of the tick within the cell when it spans multiple\n\t * intervals.\n\t *\n\t * `0` - beginning, `0.5` - middle, `1` - end.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/axes/#Multi_location} for more info\n\t */\n\tmultiLocation?: number;\n\n\t/**\n\t * If set to `true` the tick will be shown inside plot area.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/axes/#Labels_ticks_inside_plot_area} for more info\n\t * @default false\n\t */\n\tinside?: boolean | undefined;\n\n\t/**\n\t * The minimum relative position within visible axis scope the tick can\n\t * appear on.\n\t *\n\t * E.g. `0.1` will mean that tick will not be shown if it's closer to the\n\t * beginning of the axis than 10%.\n\t *\n\t * @default 0\n\t * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/axes/#Start_end_labels_and_ticks} for more info\n\t */\n\tminPosition?: number;\n\n\t/**\n\t * The maximum relative position within visible axis scope the tick can\n\t * appear on.\n\t *\n\t * E.g. `0.9` will mean that tick will not be shown if it's closer to the\n\t * end of the axis than 10%.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/axes/#Start_end_labels_and_ticks} for more info\n\t * @default 1\n\t */\n\tmaxPosition?: number;\n\n}\n\nexport interface IAxisTickPrivate extends ITickPrivate {\n}\n\n/**\n * Draws an axis tick.\n *\n * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/axes/#Ticks} for more info\n * @important\n */\nexport class AxisTick extends Tick {\n\n\tdeclare public _settings: IAxisTickSettings;\n\tdeclare public _privateSettings: IAxisTickPrivate;\n\n\tprotected _tickPoints: Array<IPoint> = [];\n\n\tpublic static className: string = \"AxisTick\";\n\tpublic static classNames: Array<string> = Tick.classNames.concat([AxisTick.className]);\n}\n","import type { IPoint } from \"../../../core/util/IPoint\";\n\nimport { Label, ILabelSettings, ILabelPrivate } from \"../../../core/render/Label\";\n\nexport interface IAxisLabel extends Label {\n\n\t/**\n\t * Relative location of the label within the cell.\n\t *\n\t * `0` - beginning, `0.5` - middle, `1` - end.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/axes/#Location_of_axis_elements} for more info\n\t */\n\tlocation?: number;\n\n\t/**\n\t * Relative location of the label within the cell when it spans multiple\n\t * intervals.\n\t *\n\t * `0` - beginning, `0.5` - middle, `1` - end.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/axes/#Multi_location} for more info\n\t */\n\tmultiLocation?: number;\n\n\t/**\n\t * If set to `true` the label will be shown inside plot area.\n\t *\n\t * @default false\n\t */\n\tinside?: boolean | undefined;\n\n\t/**\n\t * The minimum relative position within visible axis scope the label can\n\t * appear on.\n\t *\n\t * E.g. `0.1` will mean that label will not be shown if it's closer to the\n\t * beginning of the axis than 10%.\n\t *\n\t * @default 0\n\t */\n\tminPosition?: number;\n\n\t/**\n\t * The maximum relative position within visible axis scope the label can\n\t * appear on.\n\t *\n\t * E.g. `0.9` will mean that label will not be shown if it's closer to the\n\t * end of the axis than 10%.\n\t *\n\t * @default 0\n\t */\n\tmaxPosition?: number;\n\n\t_tickPoints: Array<IPoint>;\n}\n\n\nexport interface IAxisLabelSettings extends ILabelSettings {\n\n\t/**\n\t * Relative location of the label within the cell.\n\t *\n\t * `0` - beginning, `0.5` - middle, `1` - end.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/axes/#Location_of_axis_elements} for more info\n\t */\n\tlocation?: number;\n\n\t/**\n\t * Relative location of the label within the cell when it spans multiple\n\t * intervals.\n\t *\n\t * `0` - beginning, `0.5` - middle, `1` - end.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/axes/#Multi_location} for more info\n\t */\n\tmultiLocation?: number;\n\n\t/**\n\t * If set to `true` the label will be shown inside plot area.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/axes/#Labels_ticks_inside_plot_area} for more info\n\t * @default false\n\t */\n\tinside?: boolean | undefined;\n\n\t/**\n\t * The minimum relative position within visible axis scope the label can\n\t * appear on.\n\t *\n\t * E.g. `0.1` will mean that label will not be shown if it's closer to the\n\t * beginning of the axis than 10%.\n\t *\n\t * @default 0\n\t * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/axes/#Start_end_labels_and_ticks} for more info\n\t */\n\tminPosition?: number;\n\n\t/**\n\t * The maximum relative position within visible axis scope the label can\n\t * appear on.\n\t *\n\t * E.g. `0.9` will mean that label will not be shown if it's closer to the\n\t * end of the axis than 10%.\n\t *\n\t * @default 1\n\t * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/axes/#Start_end_labels_and_ticks} for more info\n\t */\n\tmaxPosition?: number;\n\n}\n\nexport interface IAxisLabelPrivate extends ILabelPrivate {\n}\n\n/**\n * Draws an axis label.\n *\n * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/axes/#Labels} for more info\n * @important\n */\nexport class AxisLabel extends Label implements IAxisLabel {\n\n\tdeclare public _settings: IAxisLabelSettings;\n\tdeclare public _privateSettings: IAxisLabelPrivate;\n\n\tpublic _tickPoints: Array<IPoint> = [];\n\n\tpublic static className: string = \"AxisLabel\";\n\tpublic static classNames: Array<string> = Label.classNames.concat([AxisLabel.className]);\n}\n","import type { Sprite, ISpritePointerEvent } from \"../../../core/render/Sprite\";\nimport type { Axis, IAxisDataItem } from \"./Axis\";\nimport type { IPoint } from \"../../../core/util/IPoint\";\nimport type { Tooltip } from \"../../../core/render/Tooltip\";\nimport type { AxisBullet } from \"./AxisBullet\";\nimport type { XYChart } from \"../XYChart\";\nimport type { DataItem } from \"../../../core/render/Component\";\n\nimport { Graphics, IGraphicsSettings, IGraphicsPrivate } from \"../../../core/render/Graphics\";\nimport { Template } from \"../../../core/util/Template\";\nimport { ListTemplate } from \"../../../core/util/List\";\nimport { AxisTick } from \"./AxisTick\";\nimport { Grid } from \"./Grid\";\nimport { AxisLabel } from \"./AxisLabel\";\n\nimport * as $utils from \"../../../core/util/Utils\";\n\nexport interface IAxisRendererSettings extends IGraphicsSettings {\n\n\t/**\n\t * The minimum distance between grid lines in pixels.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/axes/#Grid_density} for more info\n\t */\n\tminGridDistance?: number;\n\n\t/**\n\t * Re-enable display of skipped grid lines due to lack of space and as per\n\t * the `minGridDistance` setting. Not recommended for CategoryAxis with a lot of data items.\n\t *\n\t * @default false\n\t * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/axes/#Minor_grid} for more info\n\t * @since 5.6.0\n\t */\n\tminorGridEnabled?: boolean;\n\n\t/**\n\t * Enable labels on minor grid. If you enable labels, grid will be enabled automatically.\n\t *\n\t * @default false\n\t * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/axes/#Enabling_minor_grid_labels} for more info\n\t * @since 5.6.0\n\t */\n\tminorLabelsEnabled?: boolean;\n\n\t/**\n\t * Set to `true` to invert direction of the axis.\n\t *\n\t * @default false\n\t * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/axes/#Inversed_axes} for more info\n\t */\n\tinversed?: boolean;\n\n\t/**\n\t * Indicates relative position where \"usable\" space of the cell starts.\n\t *\n\t * `0` - beginning, `1` - end, or anything in-between.\n\t *\n\t * @default 0\n\t * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/axes/#Cell_start_end_locations} for more info\n\t */\n\tcellStartLocation?: number;\n\n\t/**\n\t * Indicates relative position where \"usable\" space of the cell ends.\n\t *\n\t * `0` - beginning, `1` - end, or anything in-between.\n\t *\n\t * @default 1\n\t * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/axes/#Cell_start_end_locations} for more info\n\t */\n\tcellEndLocation?: number;\n\n\t/**\n\t * If set to `\"zoom\"` will enable axis zoom by panning it in the axis label\n\t * area.\n\t *\n\t * Works on [[AxisRendererX]] and [[AxisRendererY]] only.\n\t *\n\t * For a better result, set `maxDeviation` to `1` or so on the Axis.\n\t *\n\t * Will not work if `inside` is set to `true`.\n\t *\n\t * @since 5.0.7\n\t * @default \"none\"\n\t */\n\tpan?: \"none\" | \"zoom\"\n\n\n\t/**\n\t * Sensitivity of panning. The higher the number, the more sensitive it is.\n\t *\n\t * @default 1\n\t */\n\tpanSensitivity?: number;\n\n}\n\nexport interface IAxisRendererPrivate extends IGraphicsPrivate {\n\t/**\n\t * @ignore\n\t */\n\tletter?: \"X\" | \"Y\";\n}\n\n/**\n * Base class for an axis renderer.\n *\n * Should not be used on its own.\n *\n * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/#Axis_renderer} for more info\n */\nexport abstract class AxisRenderer extends Graphics {\n\tpublic static className: string = \"AxisRenderer\";\n\tpublic static classNames: Array<string> = Graphics.classNames.concat([AxisRenderer.className]);\n\n\t// save for quick access\n\tpublic _axisLength: number = 100;\n\tpublic _start: number = 0;\n\tpublic _end: number = 1;\n\tpublic _inversed: boolean = false;\n\n\tprotected _minSize: number = 0;\n\n\t/**\n\t * Chart the renderer is used in.\n\t */\n\tpublic chart: XYChart | undefined;\n\n\tprotected _lc = 1;\n\n\tprotected _ls = 0;\n\n\tprotected _thumbDownPoint?: IPoint;\n\n\tprotected _downStart?: number;\n\tprotected _downEnd?: number;\n\n\t/**\n\t * @ignore\n\t */\n\tpublic makeTick(dataItem: DataItem<IAxisDataItem>, themeTags: Array<string>): AxisTick {\n\t\tconst tick = this.ticks.make();\n\t\ttick._setDataItem(dataItem);\n\t\tdataItem.setRaw(\"tick\", tick);\n\t\ttick.set(\"themeTags\", $utils.mergeTags(tick.get(\"themeTags\"), themeTags));\n\t\tthis.axis.labelsContainer.children.push(tick);\n\t\tthis.ticks.push(tick);\n\t\treturn tick;\n\t}\n\n\t/**\n\t * A list of ticks in the axis.\n\t *\n\t * `ticks.template` can be used to configure ticks.\n\t *\n\t * @default new ListTemplate<AxisTick>\n\t */\n\tpublic readonly ticks: ListTemplate<AxisTick> = this.addDisposer(new ListTemplate(\n\t\tTemplate.new({}),\n\t\t() => AxisTick._new(this._root, {\n\t\t\tthemeTags: $utils.mergeTags(this.ticks.template.get(\"themeTags\", []), this.get(\"themeTags\", []))\n\t\t}, [this.ticks.template])\n\t));\n\n\t/**\n\t * @ignore\n\t */\n\tpublic makeGrid(dataItem: DataItem<IAxisDataItem>, themeTags: Array<string>): Grid {\n\t\tconst grid = this.grid.make();\n\t\tgrid._setDataItem(dataItem);\n\t\tdataItem.setRaw(\"grid\", grid);\n\t\tgrid.set(\"themeTags\", $utils.mergeTags(grid.get(\"themeTags\"), themeTags));\n\n\t\tthis.axis.gridContainer.children.push(grid);\n\t\tthis.grid.push(grid);\n\t\treturn grid;\n\t}\n\n\t/**\n\t * A list of grid elements in the axis.\n\t *\n\t * `grid.template` can be used to configure grid.\n\t *\n\t * @default new ListTemplate<Grid>\n\t */\n\tpublic readonly grid: ListTemplate<Grid> = this.addDisposer(new ListTemplate(\n\t\tTemplate.new({}),\n\t\t() => Grid._new(this._root, {\n\t\t\tthemeTags: $utils.mergeTags(this.grid.template.get(\"themeTags\", []), this.get(\"themeTags\", []))\n\t\t}, [this.grid.template])\n\t));\n\n\t/**\n\t * @ignore\n\t */\n\tpublic makeAxisFill(dataItem: DataItem<IAxisDataItem>, themeTags: Array<string>): Grid {\n\t\tconst axisFill = this.axisFills.make();\n\t\taxisFill._setDataItem(dataItem);\n\t\taxisFill.set(\"themeTags\", $utils.mergeTags(axisFill.get(\"themeTags\"), themeTags));\n\n\t\tthis.axis.gridContainer.children.push(axisFill);\n\t\tdataItem.setRaw(\"axisFill\", axisFill);\n\t\tthis.axisFills.push(axisFill);\n\t\treturn axisFill;\n\t}\n\n\t/**\n\t * A list of fills in the axis.\n\t *\n\t * `axisFills.template` can be used to configure axis fills.\n\t *\n\t * @default new ListTemplate<Graphics>\n\t */\n\tpublic readonly axisFills: ListTemplate<Graphics> = this.addDisposer(new ListTemplate(\n\t\tTemplate.new({}),\n\t\t() => Graphics._new(this._root, {\n\t\t\tthemeTags: $utils.mergeTags(this.axisFills.template.get(\"themeTags\", [\"axis\", \"fill\"]), this.get(\"themeTags\", []))\n\t\t}, [this.axisFills.template])\n\t));\n\n\t/**\n\t * @ignore\n\t */\n\tpublic makeLabel(dataItem: DataItem<IAxisDataItem>, themeTags: Array<string>): AxisLabel {\n\n\t\tconst label = this.labels.make();\n\n\t\tlabel.set(\"themeTags\", $utils.mergeTags(label.get(\"themeTags\"), themeTags));\n\t\tthis.axis.labelsContainer.children.moveValue(label, 0);\n\n\t\tlabel._setDataItem(dataItem);\n\t\tdataItem.setRaw(\"label\", label);\n\t\tthis.labels.push(label);\n\t\treturn label;\n\t}\n\n\t/**\n\t * A list of labels in the axis.\n\t *\n\t * `labels.template` can be used to configure axis labels.\n\t *\n\t * @default new ListTemplate<AxisLabel>\n\t */\n\tpublic readonly labels: ListTemplate<AxisLabel> = this.addDisposer(new ListTemplate(\n\t\tTemplate.new({}),\n\t\t() => AxisLabel._new(this._root, {\n\t\t\tthemeTags: $utils.mergeTags(this.labels.template.get(\"themeTags\", []), this.get(\"themeTags\", []))\n\t\t}, [this.labels.template])\n\t));\n\n\n\tdeclare public _settings: IAxisRendererSettings;\n\tdeclare public _privateSettings: IAxisRendererPrivate;\n\n\t/**\n\t * An [[Axis]] renderer is for.\n\t */\n\tpublic axis!: Axis<this>;\n\n\tpublic axisLength(): number {\n\t\treturn 0;\n\t}\n\n\t/**\n\t * @ignore\n\t */\n\tpublic gridCount(): number {\n\t\treturn this.axisLength() / this.get(\"minGridDistance\", 50);\n\t}\n\n\tpublic _updatePositions() {\n\n\t}\n\n\t/**\n\t * @ignore\n\t */\n\tpublic abstract updateLabel(_label?: AxisLabel, _position?: number, _endPosition?: number, _count?: number): void;\n\n\t/**\n\t * @ignore\n\t */\n\tpublic abstract updateGrid(_grid?: Grid, _position?: number, _endPosition?: number): void;\n\n\t/**\n\t * @ignore\n\t */\n\tpublic abstract updateTick(_grid?: AxisTick, _position?: number, _endPosition?: number, _count?: number): void;\n\n\t/**\n\t * @ignore\n\t */\n\tpublic abstract updateFill(_fill?: Graphics, _position?: number, _endPosition?: number): void;\n\n\t/**\n\t * @ignore\n\t */\n\tpublic abstract updateBullet(_bullet?: AxisBullet, _position?: number, _endPosition?: number): void;\n\n\t/**\n\t * @ignore\n\t */\n\tpublic abstract positionToPoint(_position: number): IPoint;\n\n\n\t/**\n\t * A thumb Graphics to be used for panning the axis (the one which shows under the labels when hovered)\n\t */\n\tpublic readonly thumb?: Graphics;\n\n\tprotected _afterNew() {\n\t\tsuper._afterNew();\n\t\tthis.set(\"isMeasured\", false);\n\n\t\tconst thumb = this.thumb;\n\t\tif (thumb) {\n\t\t\tthis._disposers.push(thumb.events.on(\"pointerdown\", (event) => {\n\t\t\t\tthis._handleThumbDown(event);\n\t\t\t}));\n\n\t\t\tthis._disposers.push(thumb.events.on(\"globalpointerup\", (event) => {\n\t\t\t\tthis._handleThumbUp(event);\n\t\t\t}));\n\n\t\t\tthis._disposers.push(thumb.events.on(\"globalpointermove\", (event) => {\n\t\t\t\tthis._handleThumbMove(event);\n\t\t\t}));\n\t\t}\n\t}\n\n\tpublic _beforeChanged() {\n\t\tsuper._beforeChanged();\n\t\tif (this.isDirty(\"minGridDistance\")) {\n\t\t\tthis.root.events.once(\"frameended\", () => {\n\t\t\t\tthis.axis.markDirtySize();\n\t\t\t})\n\t\t}\n\t}\n\n\n\tpublic _changed() {\n\t\tsuper._changed();\n\n\t\tif (this.isDirty(\"pan\")) {\n\t\t\tconst thumb = this.thumb;\n\t\t\tif (thumb) {\n\t\t\t\tconst labelsContainer = this.axis.labelsContainer;\n\t\t\t\tconst pan = this.get(\"pan\");\n\t\t\t\tif (pan == \"zoom\") {\n\t\t\t\t\tlabelsContainer.children.push(thumb);\n\t\t\t\t}\n\t\t\t\telse if (pan == \"none\") {\n\t\t\t\t\tlabelsContainer.children.removeValue(thumb);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tprotected _handleThumbDown(event: ISpritePointerEvent) {\n\t\tthis._thumbDownPoint = this.toLocal(event.point);\n\t\tconst axis = this.axis;\n\t\tthis._downStart = axis.get(\"start\");\n\t\tthis._downEnd = axis.get(\"end\");\n\t}\n\n\tprotected _handleThumbUp(_event: ISpritePointerEvent) {\n\t\tthis._thumbDownPoint = undefined;\n\t}\n\n\tprotected _handleThumbMove(event: ISpritePointerEvent) {\n\t\tconst downPoint = this._thumbDownPoint;\n\t\tif (downPoint) {\n\t\t\tconst point = this.toLocal(event.point);\n\n\t\t\tconst downStart = this._downStart!;\n\t\t\tconst downEnd = this._downEnd!;\n\t\t\tconst extra = this._getPan(point, downPoint) * Math.min(1, (downEnd - downStart)) / 2 * this.get(\"panSensitivity\", 1);\n\t\t\tthis.axis.zoom(downStart - extra, downEnd + extra, 0);\n\t\t}\n\t}\n\n\tprotected _getPan(_point1: IPoint, _point2: IPoint): number {\n\t\treturn 0;\n\t}\n\n\t/**\n\t * Converts relative position (0-1) on axis to a pixel coordinate.\n\t *\n\t * @param position  Position (0-1)\n\t * @return Coordinate (px)\n\t */\n\tpublic positionToCoordinate(position: number): number {\n\t\tif (this._inversed) {\n\t\t\treturn (this._end - position) * this._axisLength;\n\t\t}\n\t\telse {\n\t\t\treturn (position - this._start) * this._axisLength;\n\t\t}\n\t}\n\n\t/**\n\t * @ignore\n\t */\n\tpublic abstract positionTooltip(_tooltip: Tooltip, _position: number): void;\n\n\t/**\n\t * @ignore\n\t */\n\tpublic updateTooltipBounds(_tooltip: Tooltip) { }\n\n\tpublic _updateSize() {\n\t\tthis.markDirty()\n\t\tthis._clear = true;\n\t}\n\n\t/**\n\t * @ignore\n\t */\n\tpublic toAxisPosition(position: number): number {\n\t\tconst start = this._start || 0;\n\t\tconst end = this._end || 1;\n\n\t\tposition = position * (end - start);\n\t\tif (!this.get(\"inversed\")) {\n\t\t\tposition = start + position;\n\t\t}\n\t\telse {\n\t\t\tposition = end - position;\n\t\t}\n\n\t\treturn position;\n\t}\n\n\t/**\n\t * @ignore\n\t */\n\tpublic toGlobalPosition(position: number): number {\n\t\tconst start = this._start || 0;\n\t\tconst end = this._end || 1;\n\n\t\tif (!this.get(\"inversed\")) {\n\t\t\tposition = position - start;\n\t\t}\n\t\telse {\n\t\t\tposition = end - position;\n\t\t}\n\n\t\tposition = position / (end - start);\n\n\t\treturn position;\n\t}\n\n\t/**\n\t * @ignore\n\t */\n\tpublic fixPosition(position: number) {\n\t\tif (this.get(\"inversed\")) {\n\t\t\treturn 1 - position;\n\t\t}\n\t\treturn position;\n\t}\n\n\t/**\n\t * @ignore\n\t */\n\tpublic _updateLC() {\n\n\t}\n\n\tprotected toggleVisibility(sprite: Sprite, position: number, minPosition: number, maxPosition: number): void {\n\t\tlet axis = this.axis;\n\n\t\tconst start = axis.get(\"start\", 0);\n\t\tconst end = axis.get(\"end\", 1);\n\n\t\tlet updatedStart = start + (end - start) * (minPosition - 0.0001);\n\t\tlet updatedEnd = start + (end - start) * (maxPosition + 0.0001);\n\n\t\tif (position < updatedStart || position > updatedEnd) {\n\t\t\tsprite.setPrivate(\"visible\", false);\n\t\t}\n\t\telse {\n\t\t\tsprite.setPrivate(\"visible\", true);\n\t\t}\n\t}\n\n\tprotected _positionTooltip(tooltip: Tooltip, point: IPoint) {\n\t\tconst chart = this.chart;\n\t\tif (chart) {\n\t\t\ttooltip.set(\"pointTo\", this._display.toGlobal(point));\n\t\t\tif (!chart.inPlot(point)) {\n\t\t\t\ttooltip.hide();\n\t\t\t}\n\t\t}\n\t}\n\n\tpublic processAxis() { }\n}\n","import type { AxisRenderer } from \"./AxisRenderer\";\nimport type { IXYSeriesDataItem, XYSeries } from \"../series/XYSeries\";\n\nimport { DataItem } from \"../../../core/render/Component\";\nimport { Axis, IAxisSettings, IAxisPrivate, IAxisDataItem, IAxisEvents } from \"./Axis\";\nimport { MultiDisposer } from \"../../../core/util/Disposer\";\n\nimport * as $type from \"../../../core/util/Type\";\nimport * as $array from \"../../../core/util/Array\";\nimport * as $math from \"../../../core/util/Math\";\nimport * as $utils from \"../../../core/util/Utils\";\n\nexport interface IValueAxisSettings<R extends AxisRenderer> extends IAxisSettings<R> {\n\n\t/**\n\t * Override minimum value for the axis scale.\n\t *\n\t * NOTE: the axis might modify the minimum value to fit into its scale better,\n\t * unless `strictMinMax` is set to `true`.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/axes/value-axis/#Custom_scope} for more info\n\t */\n\tmin?: number;\n\n\t/**\n\t * Override maximum value for the axis scale.\n\t *\n\t * NOTE: the axis might modify the maximum value to fit into its scale better,\n\t * unless `strictMinMax` is set to `true`.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/axes/value-axis/#Custom_scope} for more info\n\t */\n\tmax?: number;\n\n\t/**\n\t * Force axis scale to be precisely at values as set in `min` and/or `max`.\n\t *\n\t * In case `min` and/or `max` is not set, the axis will fix its scale to\n\t * precise lowest and highest values available through all of the series\n\t * attached to it.\n\t *\n\t * This effectively locks the axis from auto-zooming itself when chart\n\t * is zoomed in.\n\t *\n\t * If you need to zoom to actual low/high values within currently visible\n\t * scope, use `strictMinMaxSelection` instead.\n\t *\n\t * Use `extraMin` and `extraMax` to add extra \"padding\".\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/axes/value-axis/#Custom_scope} for more info\n\t */\n\tstrictMinMax?: boolean;\n\n\t/**\n\t * Force axis to auto-zoom to exact lowest and highest values from attached\n\t * series' data items within currently visible range.\n\t * \n\t * This is a good feature when your series is plotted from derivative values,\n\t * like `valueYChangeSelection` as it helps to avoid frequent jumping of\n\t * series to adjusted min and max of the axis.\n\t * \n\t * This will not work if strictMinMax is set to true (the axis will not zoom at all in this case).\n\t * \n\t * Use `extraMin` and `extraMax` to add extra \"padding\".\n\t *\n\t * @since 5.1.11\n\t */\n\tstrictMinMaxSelection?: boolean;\n\n\t/**\n\t * If set to `true` axis will use logarithmic scale.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/axes/value-axis/#Logarithmic_scale} for more info\n\t */\n\tlogarithmic?: boolean;\n\n\t/**\n\t * Treat zero values as some other value.\n\t *\n\t * Useful in situations where zero would result in error, i.e. logarithmic\n\t * scale.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/axes/value-axis/#Logarithmic_scale} for more info\n\t */\n\ttreatZeroAs?: number;\n\n\t/**\n\t * Relative extension to the automatically-calculated minimum value of the\n\t * axis scale.\n\t *\n\t * E..g. `0.1` will extend the scale by 10%, so if max value is `1000` and\n\t * minimum value is `0`, the new minimum value will be `-100`.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/axes/value-axis/#Relative_scope_extension} for more info\n\t */\n\textraMin?: number;\n\n\t/**\n\t * Relative extension to the automatically-calculated maximum value of the\n\t * axis scale.\n\t *\n\t * E..g. `0.1` will extend the scale by 10%, so if max value is `1000`, the\n\t * axis will now show maximum value of `1100`.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/axes/value-axis/#Relative_scope_extension} for more info\n\t */\n\textraMax?: number;\n\n\t/**\n\t * Base value, which indicates the threshold between \"positive\" and \"negative\"\n\t * values.\n\t *\n\t * @default 0\n\t * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/axes/value-axis/#Base_value} for more info\n\t */\n\tbaseValue?: number;\n\n\t/**\n\t * Maximum number of decimals to allow in axis labels.\n\t *\n\t * This setting not only affects formatting of the labels, but also where and\n\t * how many grid/labels are placed on the axis.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/axes/value-axis/#Label_format} for more info\n\t */\n\tmaxPrecision?: number;\n\n\t/**\n\t * A function that can be used to specify how to configure axis fills.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/axes/#Axis_fills} for more info\n\t */\n\tfillRule?: (dataItem: DataItem<IValueAxisDataItem>) => void;\n\n\t/**\n\t * Number format to use for axis labels.\n\t *\n\t * If not set, will use format set in global number formatter.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/axes/value-axis/#Label_format} for more info\n\t */\n\tnumberFormat?: string;\n\n\t/**\n\t * A numeric format used for numbers displayed in axis tooltip.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/axes/value-axis/#Tooltip_number_format} for more info\n\t */\n\ttooltipNumberFormat?: string | Intl.NumberFormatOptions;\n\n\t/**\n\t * If set, will use greater precision for the axis tooltip than the one for\n\t * axis' actual labels.\n\t *\n\t * E.g. if axis displays labels with one decimal (`1.0`, `1.1`, `1.2`) setting\n\t * this setting to `1` would allow two decimals in axis tooltip, e.g. `1.15`.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/axes/value-axis/#Tooltip_number_format} for more info\n\t */\n\textraTooltipPrecision?: number;\n\n\t/**\n\t * If your series relies on dynamically calculated values, like value\n\t * changes, percents, or total sums, set this to `true`.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/axes/value-axis/#Calculated_values} for more info\n\t */\n\tcalculateTotals?: boolean;\n\n\t/**\n\t * This setting can be set to an instance of another [[ValueAxis]].\n\t *\n\t * If set the grid of this axis will be synced with grid of the target axis.\n\t *\n\t * NOTE: this is not 100% guaranteed to work. In some rare cases perfect\n\t * sync might not be possible.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/axes/value-axis/#Syncing_grid} for more info\n\t */\n\tsyncWithAxis?: ValueAxis<AxisRenderer>;\n\n\t/**\n\t * If set to `false`, the axis won't be auto-zoomed to a selection (this\n\t * works only if the other axis is a `DateAxis` or a `CategoryAxis`).\n\t * \n\t * IMPORTANT: This setting will be ignored if both X and Y axes are\n\t * a `ValueAxis`.\n\t *\n\t * @since 5.2.20\n\t * @default true\n\t */\n\tautoZoom?: boolean;\n\n}\n\nexport interface IValueAxisDataItem extends IAxisDataItem {\n\n\t/**\n\t * Value of the data item.\n\t */\n\tvalue?: number;\n\n\t/**\n\t * End value for axis items that span multiple values, like axis ranges.\n\t */\n\tendValue?: number;\n\n\t/**\n\t * @ignore\n\t */\n\tlabelEndValue?: number;\n\n\t/**\n\t * If set to `true` the values fo this data item will be factored in when\n\t * calculating scale of the [[ValueAxis]]. Useful for axis ranges.\n\t * \n\t * @since 5.1.4\n\t */\n\taffectsMinMax?: boolean;\n\n}\n\nexport interface IMinMaxStep {\n\tmin: number;\n\tmax: number;\n\tstep: number;\n}\n\nexport interface IValueAxisPrivate extends IAxisPrivate {\n\n\t/**\n\t * Calculated current minimum value of the axis scale.\n\t * \n\t * @readonly\n\t */\n\tmin?: number;\n\n\t/**\n\t * Calculated current maximum value of the axis scale.\n\t * \n\t * @readonly\n\t */\n\tmax?: number;\n\n\t/**\n\t * A minimum value of the axis scale.\n\t *\n\t * Can be useful in cases where axis zoom is currently being animated, and\n\t * `min` is reflecting current intermediate value, whereas `minFinal` will\n\t * show target value.\n\t * \n\t * @readonly\n\t */\n\tminFinal?: number;\n\n\t/**\n\t * A maximum value of the axis scale.\n\t *\n\t * Can be useful in cases where axis zoom is currently being animated, and\n\t * `max` is reflecting current intermediate value, whereas `maxFinal` will\n\t * show target value.\n\t * \n\t * @readonly\n\t */\n\tmaxFinal?: number;\n\n\t/**\n\t * Calculated minimum value of the currently viewable (zoomed) scope.\n\t * \n\t * @readonly\n\t */\n\tselectionMin?: number;\n\n\t/**\n\t * Calculated maximum value of the currently viewable (zoomed) scope.\n\t * \n\t * @readonly\n\t */\n\tselectionMax?: number;\n\n\t/**\n\t * A target minimum value of the viewable value scope.\n\t *\n\t * Can be useful in cases where axis zoom is currently being animated, and\n\t * `selectionMin` is reflecting current intermediate value,\n\t * whereas `selectionMinFinal` will show target value.\n\t * \n\t * @readonly\n\t */\n\tselectionMinFinal?: number;\n\n\t/**\n\t * A target maximum value of the viewable value scope.\n\t *\n\t * Can be useful in cases where axis zoom is currently being animated, and\n\t * `selectionMax` is reflecting current intermediate value,\n\t * whereas `selectionMaxFinal` will show target value.\n\t * \n\t * @readonly\n\t */\n\tselectionMaxFinal?: number;\n\n\t/**\n\t * When selection step changes, it might change during axis zoom animation.\n\t *\n\t * `selectionStepFinal` will show what step will be when animation is\n\t * finished.\n\t * \n\t * @readonly\n\t */\n\tselectionStepFinal?: number;\n\n\t/**\n\t * Value step between grid lines.\n\t * \n\t * @readonly\n\t */\n\tstep?: number;\n\n\t/**\n\t * Decimal places used when formatting axis labels.\n\t * \n\t * @readonly\n\t */\n\tstepDecimalPlaces?: number;\n\n}\n\nexport interface IValueAxisEvents extends IAxisEvents {\n\n}\n\n/**\n * Creates a value axis.\n *\n * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/axes/value-axis/} for more info\n * @important\n */\nexport class ValueAxis<R extends AxisRenderer> extends Axis<R> {\n\tpublic static className: string = \"ValueAxis\";\n\tpublic static classNames: Array<string> = Axis.classNames.concat([ValueAxis.className]);\n\n\tdeclare public _settings: IValueAxisSettings<R>;\n\tdeclare public _privateSettings: IValueAxisPrivate;\n\tdeclare public _dataItemSettings: IValueAxisDataItem;\n\tdeclare public _events: IValueAxisEvents;\n\n\tprotected _dirtyExtremes: boolean = false;\n\tprotected _dirtySelectionExtremes: boolean = false;\n\tprotected _dseHandled = false;\n\tprotected _deltaMinMax: number = 1;\n\tpublic _minReal: number | undefined;\n\tpublic _maxReal: number | undefined;\n\n\tprotected _minRealLog: number | undefined;\n\n\tprotected _baseValue: number = 0;\n\tprotected _syncDp?: MultiDisposer;\n\tprotected _minLogAdjusted: number = 1;\n\t/**\n\t * @ignore\n\t */\n\tpublic markDirtyExtremes() {\n\t\tthis._dirtyExtremes = true;\n\t\tthis.markDirty();\n\t}\n\n\t/**\n\t * @ignore\n\t */\n\tpublic markDirtySelectionExtremes() {\n\t\tthis._dirtySelectionExtremes = true;\n\t\tthis.markDirty();\n\t}\n\n\tprotected _afterNew() {\n\t\tthis._settings.themeTags = $utils.mergeTags(this._settings.themeTags, [\"axis\"]);\n\t\tthis.setPrivateRaw(\"name\", \"value\");\n\t\tthis.addTag(\"value\");\n\t\tsuper._afterNew();\n\t}\n\n\tpublic _prepareChildren() {\n\t\tsuper._prepareChildren();\n\n\t\tif (this.isDirty(\"syncWithAxis\")) {\n\t\t\tlet previousValue = this._prevSettings.syncWithAxis;\n\t\t\tif (previousValue) {\n\t\t\t\tif (this._syncDp) {\n\t\t\t\t\tthis._syncDp.dispose();\n\t\t\t\t}\n\t\t\t}\n\t\t\tlet syncWithAxis = this.get(\"syncWithAxis\");\n\t\t\tif (syncWithAxis) {\n\t\t\t\tthis._syncDp = new MultiDisposer([\n\t\t\t\t\tsyncWithAxis.onPrivate(\"selectionMinFinal\", () => {\n\t\t\t\t\t\tthis._dirtySelectionExtremes = true;\n\t\t\t\t\t}),\n\t\t\t\t\tsyncWithAxis.onPrivate(\"selectionMaxFinal\", () => {\n\t\t\t\t\t\tthis._dirtySelectionExtremes = true;\n\t\t\t\t\t})\n\t\t\t\t])\n\t\t\t}\n\t\t}\n\n\t\tlet someDirty = false;\n\t\tif (this.isDirty(\"min\") || this.isDirty(\"max\") || this.isDirty(\"maxPrecision\") || this.isDirty(\"numberFormat\")) {\n\t\t\tsomeDirty = true;\n\t\t\tthis.ghostLabel?.set(\"text\", \"\");\n\t\t}\n\n\t\t//if (this._dirtyExtremes || this.isPrivateDirty(\"width\") || this.isPrivateDirty(\"height\") || this.isDirty(\"min\") || this.isDirty(\"max\") || this.isDirty(\"extraMin\") || this.isDirty(\"extraMax\") || this.isDirty(\"logarithmic\") || this.isDirty(\"treatZeroAs\") || this.isDirty(\"baseValue\") || this.isDirty(\"strictMinMax\") || this.isDirty(\"maxPrecision\")) {\n\t\tif (this._sizeDirty || this._dirtyExtremes || this._valuesDirty || someDirty || this.isPrivateDirty(\"width\") || this.isPrivateDirty(\"height\") || this.isDirty(\"extraMin\") || this.isDirty(\"extraMax\") || this.isDirty(\"logarithmic\") || this.isDirty(\"treatZeroAs\") || this.isDirty(\"baseValue\") || this.isDirty(\"strictMinMax\") || this.isDirty(\"strictMinMaxSelection\")) {\n\t\t\tthis._getMinMax();\n\t\t\tthis._dirtyExtremes = false;\n\t\t}\n\n\t\tthis._handleSizeDirty();\n\n\t\tif (this._dirtySelectionExtremes && !this._isPanning && this.get(\"autoZoom\", true)) {\n\t\t\tconst chart = this.chart;\n\t\t\tlet getMM = false;\n\t\t\t// #1563\n\t\t\tif (chart) {\n\t\t\t\tconst letter = this.get(\"renderer\").getPrivate(\"letter\");\n\t\t\t\tif (letter == \"Y\") {\n\t\t\t\t\tchart.xAxes.each((axis) => {\n\t\t\t\t\t\tif (axis.className != \"ValueAxis\") {\n\t\t\t\t\t\t\tgetMM = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t\telse if (letter == \"X\") {\n\t\t\t\t\tchart.yAxes.each((axis) => {\n\t\t\t\t\t\tif (axis.className != \"ValueAxis\") {\n\t\t\t\t\t\t\tgetMM = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (getMM) {\n\t\t\t\tthis._getSelectionMinMax();\n\t\t\t}\n\t\t\tthis._dirtySelectionExtremes = false;\n\t\t}\n\n\t\tthis._groupData();\n\n\t\tif (this._sizeDirty || this._valuesDirty || this.isDirty(\"start\") || this.isDirty(\"end\") || this.isPrivateDirty(\"min\") || this.isPrivateDirty(\"selectionMax\") || this.isPrivateDirty(\"selectionMin\") || this.isPrivateDirty(\"max\") || this.isPrivateDirty(\"step\") || this.isPrivateDirty(\"width\") || this.isPrivateDirty(\"height\") || this.isDirty(\"logarithmic\")) {\n\t\t\tthis._handleRangeChange();\n\t\t\tthis._prepareAxisItems();\n\t\t\tthis._updateAxisRanges();\n\t\t}\n\n\t\tthis._baseValue = this.baseValue();\n\n\t}\n\n\tprotected _handleSizeDirty() {\n\t\tif (this._sizeDirty && !this._dseHandled) {\n\t\t\tthis._dirtySelectionExtremes = true;\n\t\t\tthis._dseHandled = true;\n\n\t\t\tif (this.getPrivate(\"selectionMinFinal\") != this.getPrivate(\"selectionMin\") || this.getPrivate(\"selectionMaxFinal\") != this.getPrivate(\"selectionMax\")) {\n\t\t\t\tthis._dirtySelectionExtremes = false;\n\t\t\t}\n\t\t}\n\t}\n\n\tpublic _clearDirty(): void {\n\t\tsuper._clearDirty();\n\t\tthis._dseHandled = false;\n\t}\n\n\tprotected _groupData() {\n\n\t}\n\n\tprotected _formatText(value: number) {\n\t\tconst numberFormat = this.get(\"numberFormat\");\n\t\tconst formatter = this.getNumberFormatter();\n\n\t\tlet text = \"\";\n\n\t\tif (numberFormat) {\n\t\t\ttext = formatter.format(value, numberFormat);\n\t\t}\n\t\telse {\n\t\t\ttext = formatter.format(value, undefined, this.getPrivate(\"stepDecimalPlaces\"));\n\t\t}\n\t\treturn text;\n\t}\n\n\tprotected _prepareAxisItems() {\n\t\tconst min = this.getPrivate(\"min\");\n\t\tconst max = this.getPrivate(\"max\");\n\n\t\tif ($type.isNumber(min) && $type.isNumber(max)) {\n\n\t\t\tconst logarithmic = this.get(\"logarithmic\");\n\t\t\tconst step = this.getPrivate(\"step\")!;\n\t\t\tconst selectionMin = this.getPrivate(\"selectionMin\")!;\n\t\t\tconst selectionMax = this.getPrivate(\"selectionMax\")! + step;\n\n\t\t\tlet value = selectionMin - step;\n\t\t\tlet differencePower = 1;\n\t\t\tlet minLog: number = min;\n\n\t\t\tif (logarithmic) {\n\t\t\t\tvalue = this._minLogAdjusted;\n\n\t\t\t\tif (value < selectionMin) {\n\t\t\t\t\twhile (value < selectionMin) {\n\t\t\t\t\t\tvalue += step;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tminLog = value;\n\n\t\t\t\tif (minLog <= 0) {\n\t\t\t\t\tlet minRealLog = this._minRealLog;\n\t\t\t\t\tif (!$type.isNumber(minRealLog)) {\n\t\t\t\t\t\tminRealLog = 1;\n\t\t\t\t\t}\n\t\t\t\t\tminLog = Math.pow(10, Math.log(minRealLog) * Math.LOG10E);\n\n\t\t\t\t\tif (step < 1) {\n\t\t\t\t\t\tif ($type.isNumber(this._minRealLog)) {\n\t\t\t\t\t\t\tminLog = this._minRealLog;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tminLog = Math.pow(10, -50);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tdifferencePower = Math.log(selectionMax - step) * Math.LOG10E - Math.log(minLog) * Math.LOG10E;\n\n\t\t\t\tif (differencePower > 2) {\n\t\t\t\t\tvalue = Math.pow(10, Math.log(minLog) * Math.LOG10E - 50);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t/// minor grid\n\t\t\tconst renderer = this.get(\"renderer\");\n\t\t\tconst minorLabelsEnabled = renderer.get(\"minorLabelsEnabled\");\n\t\t\tconst minorGridEnabled = renderer.get(\"minorGridEnabled\", minorLabelsEnabled);\n\n\t\t\tlet stepPower = Math.pow(10, Math.floor(Math.log(Math.abs(step)) * Math.LOG10E));\n\n\t\t\tconst stepAdjusted = Math.round(step / stepPower);\n\n\t\t\tlet minorGridCount = 2;\n\n\t\t\tif ($math.round(stepAdjusted / 5, 10) % 1 == 0) {\n\t\t\t\tminorGridCount = 5;\n\t\t\t}\n\n\t\t\tif ($math.round(stepAdjusted / 10, 10) % 1 == 0) {\n\t\t\t\tminorGridCount = 10;\n\t\t\t}\n\n\t\t\tlet minorStep = step / minorGridCount;\n\n\t\t\t// end of minor grid\n\t\t\tlet i = 0;\n\t\t\tlet m = 0;\n\t\t\tlet previous = -Infinity;\n\n\t\t\twhile (value < selectionMax) {\n\t\t\t\tlet dataItem: DataItem<this[\"_dataItemSettings\"]>;\n\t\t\t\tif (this.dataItems.length < i + 1) {\n\t\t\t\t\tdataItem = new DataItem(this, undefined, {});\n\t\t\t\t\tthis._dataItems.push(dataItem);\n\t\t\t\t\tthis.processDataItem(dataItem);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tdataItem = this.dataItems[i];\n\t\t\t\t}\n\n\t\t\t\tthis._createAssets(dataItem, []);\n\t\t\t\tthis._toggleDataItem(dataItem, true);\n\n\t\t\t\tdataItem.setRaw(\"value\", value);\n\t\t\t\tconst label = dataItem.get(\"label\");\n\t\t\t\tif (label) {\n\t\t\t\t\tlabel.set(\"text\", this._formatText(value));\n\t\t\t\t}\n\n\t\t\t\tthis._prepareDataItem(dataItem);\n\n\t\t\t\tlet nextValue = value;\n\t\t\t\tif (!logarithmic) {\n\t\t\t\t\tnextValue += step;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tif (differencePower > 2) {\n\t\t\t\t\t\tnextValue = Math.pow(10, Math.log(minLog) * Math.LOG10E + i - 50);\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tnextValue += step;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// minor grid\n\t\t\t\tif (minorGridEnabled) {\n\t\t\t\t\tlet minorValue = value + minorStep;\n\n\t\t\t\t\tif (logarithmic) {\n\t\t\t\t\t\tif (differencePower > 2) {\n\t\t\t\t\t\t\tlet minorMinMaxStep = this._adjustMinMax(value, nextValue, 10);\n\t\t\t\t\t\t\tminorStep = minorMinMaxStep.step;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tminorValue = value + minorStep;\n\t\t\t\t\t}\n\n\t\t\t\t\twhile (minorValue < nextValue - step * 0.00000000001) {\n\t\t\t\t\t\tlet minorDataItem: DataItem<this[\"_dataItemSettings\"]>;\n\t\t\t\t\t\tif (this.minorDataItems.length < m + 1) {\n\t\t\t\t\t\t\tminorDataItem = new DataItem(this, undefined, {});\n\t\t\t\t\t\t\tthis.minorDataItems.push(minorDataItem);\n\t\t\t\t\t\t\tthis.processDataItem(minorDataItem);\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tminorDataItem = this.minorDataItems[m];\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tthis._createAssets(minorDataItem, [\"minor\"], true);\n\t\t\t\t\t\tthis._toggleDataItem(minorDataItem, true);\n\t\t\t\t\t\tminorDataItem.setRaw(\"value\", minorValue);\n\n\t\t\t\t\t\tconst minorLabel = minorDataItem.get(\"label\");\n\t\t\t\t\t\tif (minorLabel) {\n\t\t\t\t\t\t\tif (minorLabelsEnabled) {\n\t\t\t\t\t\t\t\tminorLabel.set(\"text\", this._formatText(minorValue));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\tminorLabel.setPrivate(\"visible\", false);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tthis._prepareDataItem(minorDataItem);\n\t\t\t\t\t\tminorValue += minorStep;\n\t\t\t\t\t\tm++;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tvalue = nextValue;\n\n\t\t\t\tif (previous == value) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tlet stepPower = Math.pow(10, Math.floor(Math.log(Math.abs(step)) * Math.LOG10E));\n\t\t\t\tif (stepPower < 1 && !logarithmic) {\n\t\t\t\t\t// exponent is less then 1 too. Count decimals of exponent\n\t\t\t\t\tlet decCount = Math.round(Math.abs(Math.log(Math.abs(stepPower)) * Math.LOG10E)) + 2;\n\t\t\t\t\t// round value to avoid floating point issues\n\t\t\t\t\tvalue = $math.round(value, decCount);\n\t\t\t\t}\n\t\t\t\ti++;\n\n\t\t\t\t// #103520\n\t\t\t\tif (logarithmic && differencePower <= 2) {\n\t\t\t\t\tif (value - step < step) {\n\t\t\t\t\t\tvalue = step;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tprevious = value;\n\t\t\t}\n\n\t\t\tfor (let j = i; j < this.dataItems.length; j++) {\n\t\t\t\tthis._toggleDataItem(this.dataItems[j], false);\n\t\t\t}\n\n\t\t\tfor (let j = m; j < this.minorDataItems.length; j++) {\n\t\t\t\tthis._toggleDataItem(this.minorDataItems[j], false);\n\t\t\t}\n\n\t\t\t$array.each(this.series, (series) => {\n\t\t\t\tif (series.inited) {\n\t\t\t\t\tseries._markDirtyAxes();\n\t\t\t\t}\n\t\t\t})\n\n\t\t\tthis._updateGhost();\n\t\t}\n\t}\n\n\n\tpublic _prepareDataItem(dataItem: DataItem<this[\"_dataItemSettings\"]>, count?: number) {\n\t\tlet renderer = this.get(\"renderer\");\n\t\tlet value = dataItem.get(\"value\")!;\n\t\tlet endValue = dataItem.get(\"endValue\");\n\n\t\tlet position = this.valueToPosition(value);\n\n\t\tlet endPosition = position;\n\t\tlet fillEndPosition = this.valueToPosition(value + this.getPrivate(\"step\")!);\n\n\t\tif ($type.isNumber(endValue)) {\n\t\t\tendPosition = this.valueToPosition(endValue);\n\t\t\tfillEndPosition = endPosition;\n\t\t}\n\n\t\tif (dataItem.get(\"isRange\")) {\n\t\t\tif (endValue == null) {\n\t\t\t\tfillEndPosition = position;\n\t\t\t}\n\t\t}\n\n\t\tlet labelEndPosition = endPosition;\n\n\t\tlet labelEndValue = dataItem.get(\"labelEndValue\");\n\t\tif (labelEndValue != null) {\n\t\t\tlabelEndPosition = this.valueToPosition(labelEndValue);\n\t\t}\n\n\t\trenderer.updateLabel(dataItem.get(\"label\"), position, labelEndPosition, count);\n\n\t\tconst grid = dataItem.get(\"grid\");\n\t\trenderer.updateGrid(grid, position, endPosition);\n\t\tif (grid) {\n\t\t\tif (value == this.get(\"baseValue\", 0)) {\n\t\t\t\tgrid.addTag(\"base\");\n\t\t\t\tgrid._applyThemes();\n\t\t\t}\n\t\t\telse if (grid.hasTag(\"base\")) {\n\t\t\t\tgrid.removeTag(\"base\");\n\t\t\t\tgrid._applyThemes();\n\t\t\t}\n\t\t}\n\n\t\trenderer.updateTick(dataItem.get(\"tick\"), position, labelEndPosition, count);\n\t\trenderer.updateFill(dataItem.get(\"axisFill\"), position, fillEndPosition);\n\n\t\tthis._processBullet(dataItem);\n\t\trenderer.updateBullet(dataItem.get(\"bullet\"), position, endPosition);\n\n\t\tif (!dataItem.get(\"isRange\")) {\n\t\t\tconst fillRule = this.get(\"fillRule\");\n\t\t\tif (fillRule) {\n\t\t\t\tfillRule(dataItem)\n\t\t\t}\n\t\t}\n\t}\n\n\n\tprotected _handleRangeChange() {\n\t\tlet selectionMin: number = this.positionToValue(this.get(\"start\", 0));\n\t\tlet selectionMax: number = this.positionToValue(this.get(\"end\", 1));\n\n\t\tconst gridCount = this.get(\"renderer\").gridCount();\n\t\tlet minMaxStep: IMinMaxStep = this._adjustMinMax(selectionMin, selectionMax, gridCount, true);\n\n\t\tlet stepDecimalPlaces = $utils.decimalPlaces(minMaxStep.step);\n\t\tthis.setPrivateRaw(\"stepDecimalPlaces\", stepDecimalPlaces);\n\n\t\tselectionMin = $math.round(selectionMin, stepDecimalPlaces);\n\t\tselectionMax = $math.round(selectionMax, stepDecimalPlaces);\n\n\t\tminMaxStep = this._adjustMinMax(selectionMin, selectionMax, gridCount, true);\n\n\t\tlet step = minMaxStep.step;\n\t\tselectionMin = minMaxStep.min;\n\t\tselectionMax = minMaxStep.max;\n\n\t\tif (this.getPrivate(\"selectionMin\") !== selectionMin || this.getPrivate(\"selectionMax\") !== selectionMax || this.getPrivate(\"step\") !== step) {\n\t\t\t// do not change to setPrivate, will cause SO\n\t\t\tthis.setPrivateRaw(\"selectionMin\", selectionMin);\n\t\t\tthis.setPrivateRaw(\"selectionMax\", selectionMax);\n\n\t\t\tthis.setPrivateRaw(\"step\", step);\n\t\t}\n\t}\n\n\t/**\n\t * Converts a relative position to a corresponding numeric value from axis\n\t * scale.\n\t *\n\t * @param   position  Relative position\n\t * @return            Value\n\t */\n\tpublic positionToValue(position: number): number {\n\t\tconst min = this.getPrivate(\"min\")!;\n\t\tconst max = this.getPrivate(\"max\")!;\n\n\t\tif (!this.get(\"logarithmic\")) {\n\t\t\treturn position * (max - min) + min;\n\t\t}\n\t\telse {\n\t\t\treturn Math.pow(Math.E, (position * ((Math.log(max) * Math.LOG10E - Math.log(min) * Math.LOG10E)) + Math.log(min) * Math.LOG10E) / Math.LOG10E);\n\t\t}\n\t}\n\n\t/**\n\t * Convers value to a relative position on axis.\n\t *\n\t * @param   value  Value\n\t * @return         Relative position\n\t */\n\tpublic valueToPosition(value: number): number {\n\n\t\tconst min = this.getPrivate(\"min\")!;\n\t\tconst max = this.getPrivate(\"max\")!;\n\n\t\tif (!this.get(\"logarithmic\")) {\n\t\t\treturn (value - min) / (max - min);\n\t\t}\n\t\telse {\n\t\t\tif (value <= 0) {\n\t\t\t\tlet treatZeroAs = this.get(\"treatZeroAs\");\n\t\t\t\tif ($type.isNumber(treatZeroAs)) {\n\t\t\t\t\tvalue = treatZeroAs;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn (Math.log(value) * Math.LOG10E - Math.log(min) * Math.LOG10E) / ((Math.log(max) * Math.LOG10E - Math.log(min) * Math.LOG10E));\n\t\t}\n\t}\n\n\t/**\n\t * @ignore\n\t */\n\tpublic valueToFinalPosition(value: number): number {\n\n\t\tconst min = this.getPrivate(\"minFinal\")!;\n\t\tconst max = this.getPrivate(\"maxFinal\")!;\n\n\t\tif (!this.get(\"logarithmic\")) {\n\t\t\treturn (value - min) / (max - min);\n\t\t}\n\t\telse {\n\t\t\tif (value <= 0) {\n\t\t\t\tlet treatZeroAs = this.get(\"treatZeroAs\");\n\t\t\t\tif ($type.isNumber(treatZeroAs)) {\n\t\t\t\t\tvalue = treatZeroAs;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn (Math.log(value) * Math.LOG10E - Math.log(min) * Math.LOG10E) / ((Math.log(max) * Math.LOG10E - Math.log(min) * Math.LOG10E));\n\t\t}\n\t}\n\n\t/**\n\t * Returns X coordinate in pixels corresponding to specific value.\n\t *\n\t * @param   value     Numeric value\n\t * @param   location  Location\n\t * @param   baseValue Base value\n\t * @return            X coordinate\n\t */\n\tpublic getX(value: number, location: number, baseValue: number) {\n\t\tvalue = baseValue + (value - baseValue) * location;\n\n\t\tconst position = this.valueToPosition(value);\n\t\treturn this._settings.renderer.positionToCoordinate(position);\n\t}\n\n\t/**\n\t * Returns X coordinate in pixels corresponding to specific value.\n\t *\n\t * @param   value     Numeric value\n\t * @param   location  Location\n\t * @param   baseValue Base value\n\t * @return            X coordinate\n\t */\n\tpublic getY(value: number, location: number, baseValue: number) {\n\t\tvalue = baseValue + (value - baseValue) * location;\n\n\t\tconst position = this.valueToPosition(value)\n\t\treturn this._settings.renderer.positionToCoordinate(position);\n\t}\n\n\t/**\n\t * @ignore\n\t */\n\tpublic getDataItemCoordinateX(dataItem: DataItem<IXYSeriesDataItem>, field: string, _cellLocation: number, axisLocation: number): number {\n\t\treturn this._settings.renderer.positionToCoordinate(this.getDataItemPositionX(dataItem, field, _cellLocation, axisLocation));\n\t}\n\n\t/**\n\t * @ignore\n\t */\n\tpublic getDataItemPositionX(dataItem: DataItem<IXYSeriesDataItem>, field: string, _cellLocation: number, axisLocation: number) {\n\t\tlet value = dataItem.get(field as any);\n\n\t\tconst stackToItem = dataItem.get(\"stackToItemX\");\n\t\tif (stackToItem) {\n\t\t\tconst series = dataItem.component as XYSeries;\n\t\t\tvalue = value * axisLocation + series.getStackedXValueWorking(dataItem, field);\n\t\t}\n\t\telse {\n\t\t\tvalue = this._baseValue + (value - this._baseValue) * axisLocation;\n\t\t}\n\n\t\treturn this.valueToPosition(value);\n\t}\n\n\t/**\n\t * @ignore\n\t */\n\tpublic getDataItemCoordinateY(dataItem: DataItem<IXYSeriesDataItem>, field: string, _cellLocation: number, axisLocation: number): number {\n\t\treturn this._settings.renderer.positionToCoordinate(this.getDataItemPositionY(dataItem, field, _cellLocation, axisLocation));\n\t}\n\n\t/**\n\t * @ignore\n\t */\n\tpublic getDataItemPositionY(dataItem: DataItem<IXYSeriesDataItem>, field: string, _cellLocation: number, axisLocation: number): number {\n\t\tlet value = dataItem.get(field as any);\n\n\t\tconst stackToItem = dataItem.get(\"stackToItemY\");\n\t\tif (stackToItem) {\n\t\t\tconst series = dataItem.component as XYSeries;\n\t\t\tvalue = value * axisLocation + series.getStackedYValueWorking(dataItem, field);\n\t\t}\n\t\telse {\n\t\t\tvalue = this._baseValue + (value - this._baseValue) * axisLocation;\n\t\t}\n\n\t\treturn this.valueToPosition(value);\n\t}\n\n\t/**\n\t * Returns relative position of axis' `baseValue`.\n\t *\n\t * @return  Base value position\n\t */\n\tpublic basePosition(): number {\n\t\treturn this.valueToPosition(this.baseValue());\n\t}\n\n\t/**\n\t * Base value of the [[ValueAxis]], which determines positive and negative\n\t * values.\n\t *\n\t * @return Base value\n\t */\n\tpublic baseValue(): number {\n\t\tconst min = Math.min(this.getPrivate(\"minFinal\", -Infinity), this.getPrivate(\"selectionMin\", -Infinity));\n\t\tconst max = Math.max(this.getPrivate(\"maxFinal\", Infinity), this.getPrivate(\"selectionMax\", Infinity));\n\t\tlet baseValue = this.get(\"baseValue\", 0);\n\n\t\tif (baseValue < min) {\n\t\t\tbaseValue = min;\n\t\t}\n\n\t\tif (baseValue > max) {\n\t\t\tbaseValue = max\n\t\t}\n\n\t\treturn baseValue;\n\t}\n\n\t/**\n\t * @ignore\n\t */\n\tpublic cellEndValue(value: number): number {\n\t\treturn value;\n\t}\n\n\tprotected fixSmallStep(step: number): number {\n\t\t// happens because of floating point error\n\t\tif (1 + step === 1) {\n\t\t\tstep *= 2;\n\t\t\treturn this.fixSmallStep(step);\n\t\t}\n\t\treturn step;\n\t}\n\n\tprotected _fixMin(min: number) {\n\t\treturn min;\n\t}\n\n\tprotected _fixMax(max: number) {\n\t\treturn max;\n\t}\n\n\tpublic _calculateTotals() {\n\t\tif (this.get(\"calculateTotals\")) {\n\t\t\tlet series = this.series[0];\n\t\t\tif (series) {\n\t\t\t\tlet startIndex = series.startIndex();\n\n\t\t\t\tif (series.dataItems.length > 0) {\n\n\t\t\t\t\tif (startIndex > 0) {\n\t\t\t\t\t\tstartIndex--;\n\t\t\t\t\t}\n\t\t\t\t\tlet endIndex = series.endIndex();\n\t\t\t\t\tif (endIndex < series.dataItems.length) {\n\t\t\t\t\t\tendIndex++;\n\t\t\t\t\t}\n\n\t\t\t\t\tlet field: string | undefined;\n\t\t\t\t\tlet vc: string | undefined;\n\n\t\t\t\t\tif (series.get(\"yAxis\") == this) {\n\t\t\t\t\t\tfield = \"valueY\";\n\t\t\t\t\t\tvc = \"vcy\";\n\t\t\t\t\t}\n\t\t\t\t\telse if (series.get(\"xAxis\") == this) {\n\t\t\t\t\t\tfield = \"valueX\";\n\t\t\t\t\t\tvc = \"vcx\";\n\t\t\t\t\t}\n\n\t\t\t\t\tlet fieldWorking = field + \"Working\";\n\n\t\t\t\t\tif (field) {\n\t\t\t\t\t\tfor (let i = startIndex; i < endIndex; i++) {\n\t\t\t\t\t\t\tlet sum = 0;\n\t\t\t\t\t\t\tlet total = 0;\n\n\t\t\t\t\t\t\t$array.each(this.series, (series) => {\n\t\t\t\t\t\t\t\tif (!series.get(\"excludeFromTotal\")) {\n\t\t\t\t\t\t\t\t\tlet dataItem = series.dataItems[i];\n\t\t\t\t\t\t\t\t\tif (dataItem) {\n\t\t\t\t\t\t\t\t\t\tlet value = dataItem.get(fieldWorking as any) * series.get(vc as any);\n\n\t\t\t\t\t\t\t\t\t\tif (!$type.isNaN(value)) {\n\t\t\t\t\t\t\t\t\t\t\tsum += value;\n\t\t\t\t\t\t\t\t\t\t\ttotal += Math.abs(value);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t})\n\n\t\t\t\t\t\t\t$array.each(this.series, (series) => {\n\t\t\t\t\t\t\t\tif (!series.get(\"excludeFromTotal\")) {\n\t\t\t\t\t\t\t\t\tlet dataItem = series.dataItems[i];\n\t\t\t\t\t\t\t\t\tif (dataItem) {\n\t\t\t\t\t\t\t\t\t\tlet value = dataItem.get(fieldWorking as any) * series.get(vc as any);\n\n\t\t\t\t\t\t\t\t\t\tif (!$type.isNaN(value)) {\n\t\t\t\t\t\t\t\t\t\t\tdataItem.set((field + \"Total\") as any, total);\n\t\t\t\t\t\t\t\t\t\t\tdataItem.set((field + \"Sum\") as any, sum);\n\t\t\t\t\t\t\t\t\t\t\tlet totalPercent = value / total * 100;\n\t\t\t\t\t\t\t\t\t\t\tif (total == 0) {\n\t\t\t\t\t\t\t\t\t\t\t\ttotalPercent = 0;\n\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\tdataItem.set((field + \"TotalPercent\") as any, totalPercent);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tprotected _getSelectionMinMax() {\n\t\tconst min = this.getPrivate(\"minFinal\");\n\t\tconst max = this.getPrivate(\"maxFinal\");\n\n\t\tconst minDefined = this.get(\"min\");\n\t\tconst maxDefined = this.get(\"max\");\n\n\t\tlet extraMin = this.get(\"extraMin\", 0);\n\t\tlet extraMax = this.get(\"extraMax\", 0);\n\n\t\tif (this.get(\"logarithmic\")) {\n\t\t\tif (this.get(\"extraMin\") == null) {\n\t\t\t\textraMin = 0.1;\n\t\t\t}\n\t\t\tif (this.get(\"extraMax\") == null) {\n\t\t\t\textraMax = 0.2;\n\t\t\t}\n\t\t}\n\n\t\tconst gridCount = this.get(\"renderer\").gridCount();\n\t\tconst selectionStrictMinMax = this.get(\"strictMinMaxSelection\");\n\t\tlet strictMinMax = this.get(\"strictMinMax\");\n\n\t\tif ($type.isNumber(min) && $type.isNumber(max)) {\n\t\t\tlet selectionMin = max;\n\t\t\tlet selectionMax = min;\n\n\t\t\t$array.each(this.series, (series) => {\n\t\t\t\tif (!series.get(\"ignoreMinMax\")) {\n\t\t\t\t\tlet seriesMin: number | undefined;\n\t\t\t\t\tlet seriesMax: number | undefined;\n\t\t\t\t\tconst outOfSelection = series.getPrivate(\"outOfSelection\");\n\n\t\t\t\t\tif (series.get(\"xAxis\") === this) {\n\t\t\t\t\t\tif (!outOfSelection) {\n\t\t\t\t\t\t\tlet minX = series.getPrivate(\"minX\");\n\t\t\t\t\t\t\tlet maxX = series.getPrivate(\"maxX\");\n\n\t\t\t\t\t\t\t// solves #90085\n\t\t\t\t\t\t\tif (series.startIndex() != 0 || series.endIndex() != series.dataItems.length) {\n\t\t\t\t\t\t\t\tminX = undefined;\n\t\t\t\t\t\t\t\tmaxX = undefined;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tseriesMin = series.getPrivate(\"selectionMinX\", minX);\n\t\t\t\t\t\t\tseriesMax = series.getPrivate(\"selectionMaxX\", maxX);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse if (series.get(\"yAxis\") === this) {\n\t\t\t\t\t\tif (!outOfSelection) {\n\n\t\t\t\t\t\t\tlet minY = series.getPrivate(\"minY\");\n\t\t\t\t\t\t\tlet maxY = series.getPrivate(\"maxY\");\n\n\t\t\t\t\t\t\t// solves #90085\n\t\t\t\t\t\t\tif (series.startIndex() != 0 || series.endIndex() != series.dataItems.length) {\n\t\t\t\t\t\t\t\tminY = undefined;\n\t\t\t\t\t\t\t\tmaxY = undefined;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tseriesMin = series.getPrivate(\"selectionMinY\", minY);\n\t\t\t\t\t\t\tseriesMax = series.getPrivate(\"selectionMaxY\", maxY);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!series.isHidden() && !series.isShowing()) {\n\t\t\t\t\t\tif ($type.isNumber(seriesMin)) {\n\t\t\t\t\t\t\tselectionMin = Math.min(selectionMin, seriesMin);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ($type.isNumber(seriesMax)) {\n\t\t\t\t\t\t\tselectionMax = Math.max(selectionMax, seriesMax);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\n\t\t\tthis.axisRanges.each((range) => {\n\t\t\t\tif (range.get(\"affectsMinMax\")) {\n\t\t\t\t\tlet value = range.get(\"value\");\n\t\t\t\t\tif (value != null) {\n\t\t\t\t\t\tselectionMin = Math.min(selectionMin, value);\n\t\t\t\t\t\tselectionMax = Math.max(selectionMax, value);\n\t\t\t\t\t}\n\t\t\t\t\tvalue = range.get(\"endValue\");\n\t\t\t\t\tif (value != null) {\n\t\t\t\t\t\tselectionMin = Math.min(selectionMin, value);\n\t\t\t\t\t\tselectionMax = Math.max(selectionMax, value);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\n\t\t\tif (selectionMin > selectionMax) {\n\t\t\t\t[selectionMin, selectionMax] = [selectionMax, selectionMin]\n\t\t\t}\n\n\t\t\tif ($type.isNumber(minDefined)) {\n\t\t\t\tif (strictMinMax) {\n\t\t\t\t\tselectionMin = minDefined;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tselectionMin = min;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (strictMinMax) {\n\t\t\t\tif ($type.isNumber(this._minReal)) {\n\t\t\t\t\tselectionMin = this._minReal;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif ($type.isNumber(maxDefined)) {\n\t\t\t\tif (strictMinMax) {\n\t\t\t\t\tselectionMax = maxDefined;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tselectionMax = max;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (strictMinMax) {\n\t\t\t\tif ($type.isNumber(this._maxReal)) {\n\t\t\t\t\tselectionMax = this._maxReal;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (selectionMin === selectionMax) {\n\t\t\t\tlet smin = selectionMin;\n\t\t\t\tselectionMin -= this._deltaMinMax;\n\t\t\t\tselectionMax += this._deltaMinMax;\n\n\t\t\t\tif (selectionMin < min) {\n\t\t\t\t\tlet d = smin - min;\n\t\t\t\t\tif (d == 0) {\n\t\t\t\t\t\td = this._deltaMinMax;\n\t\t\t\t\t}\n\n\t\t\t\t\tselectionMin = smin - d;\n\t\t\t\t\tselectionMax = smin + d;\n\n\t\t\t\t\tstrictMinMax = true;\n\t\t\t\t}\n\n\t\t\t\tlet minMaxStep2 = this._adjustMinMax(selectionMin, selectionMax, gridCount, strictMinMax);\n\t\t\t\tselectionMin = minMaxStep2.min;\n\t\t\t\tselectionMax = minMaxStep2.max;\n\t\t\t}\n\n\t\t\tlet selectionMinReal = selectionMin;\n\t\t\tlet selectionMaxReal = selectionMax;\n\n\t\t\tlet delta = selectionMax - selectionMin;\n\n\t\t\tselectionMin -= delta * extraMin;\n\t\t\tselectionMax += delta * extraMax;\n\n\t\t\tlet minMaxStep: IMinMaxStep = this._adjustMinMax(selectionMin, selectionMax, gridCount);\n\n\t\t\tselectionMin = minMaxStep.min;\n\t\t\tselectionMax = minMaxStep.max;\n\n\t\t\tselectionMin = $math.fitToRange(selectionMin, min, max);\n\t\t\tselectionMax = $math.fitToRange(selectionMax, min, max);\n\n\t\t\t// do it for the second time !important\t\t\t\n\t\t\tminMaxStep = this._adjustMinMax(selectionMin, selectionMax, gridCount, true);\n\n\t\t\tif (!strictMinMax) {\n\t\t\t\tselectionMin = minMaxStep.min;\n\t\t\t\tselectionMax = minMaxStep.max;\n\t\t\t}\n\n\t\t\tconst syncWithAxis = this.get(\"syncWithAxis\");\n\t\t\tif (syncWithAxis) {\n\t\t\t\tminMaxStep = this._syncAxes(selectionMin, selectionMax, minMaxStep.step, syncWithAxis.getPrivate(\"selectionMinFinal\", syncWithAxis.getPrivate(\"minFinal\", 0)), syncWithAxis.getPrivate(\"selectionMaxFinal\", syncWithAxis.getPrivate(\"maxFinal\", 1)), syncWithAxis.getPrivate(\"selectionStepFinal\", syncWithAxis.getPrivate(\"step\", 1)));\n\n\t\t\t\tif (minMaxStep.min < min) {\n\t\t\t\t\tminMaxStep.min = min;\n\t\t\t\t}\n\n\t\t\t\tif (minMaxStep.max > max) {\n\t\t\t\t\tminMaxStep.max = max;\n\t\t\t\t}\n\n\t\t\t\tselectionMin = minMaxStep.min;\n\t\t\t\tselectionMax = minMaxStep.max;\n\t\t\t}\n\n\t\t\tif (strictMinMax) {\n\t\t\t\tif ($type.isNumber(minDefined)) {\n\t\t\t\t\tselectionMin = Math.max(selectionMin, minDefined);\n\t\t\t\t}\n\n\t\t\t\tif ($type.isNumber(maxDefined)) {\n\t\t\t\t\tselectionMax = Math.min(selectionMax, maxDefined);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (selectionStrictMinMax) {\n\t\t\t\tselectionMin = selectionMinReal - (selectionMaxReal - selectionMinReal) * extraMin;\n\t\t\t\tselectionMax = selectionMaxReal + (selectionMaxReal - selectionMinReal) * extraMax;\n\t\t\t}\n\n\t\t\tif (strictMinMax) {\n\t\t\t\tif ($type.isNumber(minDefined)) {\n\t\t\t\t\tselectionMin = minDefined;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tselectionMin = selectionMinReal;\n\t\t\t\t}\n\n\t\t\t\tif ($type.isNumber(maxDefined)) {\n\t\t\t\t\tselectionMax = maxDefined;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tselectionMax = selectionMaxReal;\n\t\t\t\t}\n\n\t\t\t\tif (selectionMax - selectionMin <= 0.00000001) {\n\t\t\t\t\tselectionMin -= this._deltaMinMax;\n\t\t\t\t\tselectionMax += this._deltaMinMax;\n\t\t\t\t}\n\n\t\t\t\tlet delta = selectionMax - selectionMin;\n\n\t\t\t\tselectionMin -= delta * extraMin;\n\t\t\t\tselectionMax += delta * extraMax;\n\t\t\t}\n\n\t\t\tif (this.get(\"logarithmic\")) {\n\n\t\t\t\tif (selectionMin <= 0) {\n\t\t\t\t\tselectionMin = selectionMinReal * (1 - Math.min(extraMin, 0.99));\n\t\t\t\t}\n\n\t\t\t\tif (selectionMin < min) {\n\t\t\t\t\tselectionMin = min;\n\t\t\t\t}\n\t\t\t\tif (selectionMax > max) {\n\t\t\t\t\tselectionMax = max;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tlet len = Math.min(20, Math.ceil(Math.log(this.getPrivate(\"maxZoomFactor\", 100) + 1) / Math.LN10) + 2);\n\n\t\t\tlet start = $math.round(this.valueToFinalPosition(selectionMin), len);\n\t\t\tlet end = $math.round(this.valueToFinalPosition(selectionMax), len);\n\n\t\t\tthis.setPrivateRaw(\"selectionMinFinal\", selectionMin);\n\t\t\tthis.setPrivateRaw(\"selectionMaxFinal\", selectionMax);\n\t\t\tthis.setPrivateRaw(\"selectionStepFinal\", minMaxStep.step);\n\n\t\t\tthis.zoom(start, end);\n\t\t}\n\t}\n\n\n\tprotected _getMinMax() {\n\t\tlet minDefined = this.get(\"min\");\n\t\tlet maxDefined = this.get(\"max\");\n\n\t\tlet min = Infinity;\n\t\tlet max = -Infinity;\n\n\t\tlet extraMin = this.get(\"extraMin\", 0);\n\t\tlet extraMax = this.get(\"extraMax\", 0);\n\n\t\tif (this.get(\"logarithmic\")) {\n\t\t\tif (!this.get(\"strictMinMax\")) {\n\t\t\t\tif (this.get(\"extraMin\") == null) {\n\t\t\t\t\textraMin = 0.1;\n\t\t\t\t}\n\t\t\t\tif (this.get(\"extraMax\") == null) {\n\t\t\t\t\textraMax = 0.2;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tlet minDiff = Infinity;\n\n\t\t$array.each(this.series, (series) => {\n\t\t\tif (!series.get(\"ignoreMinMax\")) {\n\t\t\t\tlet seriesMin: number | undefined;\n\t\t\t\tlet seriesMax: number | undefined;\n\t\t\t\tif (series.get(\"xAxis\") === this) {\n\t\t\t\t\tseriesMin = series.getPrivate(\"minX\");\n\t\t\t\t\tseriesMax = series.getPrivate(\"maxX\");\n\t\t\t\t}\n\t\t\t\telse if (series.get(\"yAxis\") === this) {\n\t\t\t\t\tseriesMin = series.getPrivate(\"minY\");\n\t\t\t\t\tseriesMax = series.getPrivate(\"maxY\");\n\t\t\t\t}\n\n\t\t\t\tif ($type.isNumber(seriesMin) && $type.isNumber(seriesMax)) {\n\t\t\t\t\tmin = Math.min(min, seriesMin);\n\t\t\t\t\tmax = Math.max(max, seriesMax);\n\n\t\t\t\t\tlet diff = seriesMax - seriesMin;\n\n\t\t\t\t\tif (diff <= 0) {\n\t\t\t\t\t\tdiff = Math.abs(seriesMax / 100);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (diff < minDiff) {\n\t\t\t\t\t\tminDiff = diff;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\n\t\tthis.axisRanges.each((range) => {\n\t\t\tif (range.get(\"affectsMinMax\")) {\n\t\t\t\tlet value = range.get(\"value\");\n\t\t\t\tif (value != null) {\n\t\t\t\t\tmin = Math.min(min, value);\n\t\t\t\t\tmax = Math.max(max, value);\n\t\t\t\t}\n\t\t\t\tvalue = range.get(\"endValue\");\n\t\t\t\tif (value != null) {\n\t\t\t\t\tmin = Math.min(min, value);\n\t\t\t\t\tmax = Math.max(max, value);\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\n\t\tif (this.get(\"logarithmic\")) {\n\t\t\tlet treatZeroAs = this.get(\"treatZeroAs\");\n\t\t\tif ($type.isNumber(treatZeroAs)) {\n\t\t\t\tif (min <= 0) {\n\t\t\t\t\tmin = treatZeroAs;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (min <= 0) {\n\t\t\t\tnew Error(\"Logarithmic value axis can not have values <= 0.\");\n\t\t\t}\n\t\t}\n\n\t\tif (min === 0 && max === 0) {\n\t\t\tmax = 0.9;\n\t\t\tmin = -0.9;\n\t\t}\n\n\t\tif ($type.isNumber(minDefined)) {\n\t\t\tmin = minDefined;\n\t\t}\n\t\tif ($type.isNumber(maxDefined)) {\n\t\t\tmax = maxDefined;\n\t\t}\n\n\t\t// meaning no min/max found on series/ranges and no min/max was defined\n\t\tif (min === Infinity || max === -Infinity) {\n\t\t\tthis.setPrivate(\"minFinal\", undefined);\n\t\t\tthis.setPrivate(\"maxFinal\", undefined);\n\t\t\treturn;\n\t\t}\n\n\t\tif (min > max) {\n\t\t\t[min, max] = [max, min];\n\t\t}\n\n\t\tconst initialMin = min;\n\t\tconst initialMax = max;\n\n\t\t// adapter\n\t\tlet minAdapted = this.adapters.fold(\"min\", min);\n\t\tlet maxAdapted = this.adapters.fold(\"max\", max);\n\n\t\tthis._minRealLog = min;\n\n\t\tif ($type.isNumber(minAdapted)) {\n\t\t\tmin = minAdapted;\n\t\t}\n\n\t\tif ($type.isNumber(maxAdapted)) {\n\t\t\tmax = maxAdapted;\n\t\t}\n\n\t\t// DateAxis does some magic here\n\t\tmin = this._fixMin(min);\n\t\tmax = this._fixMax(max);\n\n\t\t// this happens if starLocation and endLocation are 0.5 and DateAxis has only one date\t\t\n\t\tif (max - min <= 1 / Math.pow(10, 15)) {\n\t\t\tif (max - min !== 0) {\n\t\t\t\tthis._deltaMinMax = (max - min) / 2;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis._getDelta(max);\n\t\t\t}\n\n\t\t\tmin -= this._deltaMinMax;\n\t\t\tmax += this._deltaMinMax;\n\t\t}\n\n\t\t// add extras\n\t\tmin -= (max - min) * extraMin;\n\t\tmax += (max - min) * extraMax;\n\n\t\tif (this.get(\"logarithmic\")) {\n\t\t\t// don't let min go below 0 if real min is >= 0\n\t\t\tif (min < 0 && initialMin >= 0) {\n\t\t\t\tmin = 0;\n\t\t\t}\n\t\t\t// don't let max go above 0 if real max is <= 0\n\t\t\tif (max > 0 && initialMax <= 0) {\n\t\t\t\tmax = 0;\n\t\t\t}\n\t\t}\n\n\t\tthis._minReal = min;\n\t\tthis._maxReal = max;\n\n\t\tlet strictMinMax = this.get(\"strictMinMax\");\n\t\tlet strictMinMaxSelection = this.get(\"strictMinMaxSelection\", false);\n\t\tif (strictMinMaxSelection) {\n\t\t\tstrictMinMax = strictMinMaxSelection;\n\t\t}\n\n\t\tlet strict = strictMinMax;\n\t\tif ($type.isNumber(maxDefined)) {\n\t\t\tstrict = true;\n\t\t}\n\n\t\tlet gridCount = this.get(\"renderer\").gridCount();\n\n\t\tlet minMaxStep: IMinMaxStep = this._adjustMinMax(min, max, gridCount, strict);\n\n\t\tmin = minMaxStep.min;\n\t\tmax = minMaxStep.max;\n\n\t\t// do it for the second time with strict true (importat!)\n\t\tminMaxStep = this._adjustMinMax(min, max, gridCount, true);\n\n\t\tmin = minMaxStep.min;\n\t\tmax = minMaxStep.max;\n\n\t\t// return min max if strict\n\t\tif (strictMinMax) {\n\t\t\tif ($type.isNumber(minDefined)) {\n\t\t\t\tmin = minDefined;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tmin = this._minReal;\n\t\t\t}\n\n\t\t\tif ($type.isNumber(maxDefined)) {\n\t\t\t\tmax = maxDefined;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tmax = this._maxReal;\n\t\t\t}\n\n\t\t\tif (max - min <= 0.00000001) {\n\t\t\t\tmin -= this._deltaMinMax;\n\t\t\t\tmax += this._deltaMinMax;\n\t\t\t}\n\n\t\t\tlet delta = max - min;\n\t\t\tmin -= delta * extraMin;\n\t\t\tmax += delta * extraMax;\n\t\t}\n\n\t\tminAdapted = this.adapters.fold(\"min\", min);\n\t\tmaxAdapted = this.adapters.fold(\"max\", max);\n\n\t\tif ($type.isNumber(minAdapted)) {\n\t\t\tmin = minAdapted;\n\t\t}\n\n\t\tif ($type.isNumber(maxAdapted)) {\n\t\t\tmax = maxAdapted;\n\t\t}\n\n\t\tif (minDiff == Infinity) {\n\t\t\tminDiff = (max - min)\n\t\t}\n\n\t\t// this is to avoid floating point number error\n\t\tlet decCount = Math.round(Math.abs(Math.log(Math.abs(max - min)) * Math.LOG10E)) + 5;\n\n\t\tmin = $math.round(min, decCount);\n\t\tmax = $math.round(max, decCount);\n\n\n\n\t\tconst syncWithAxis = this.get(\"syncWithAxis\");\n\t\tif (syncWithAxis) {\n\t\t\tminMaxStep = this._syncAxes(min, max, minMaxStep.step, syncWithAxis.getPrivate(\"minFinal\", syncWithAxis.getPrivate(\"min\", 0)), syncWithAxis.getPrivate(\"maxFinal\", syncWithAxis.getPrivate(\"max\", 1)), syncWithAxis.getPrivate(\"step\", 1));\n\t\t\tmin = minMaxStep.min;\n\t\t\tmax = minMaxStep.max;\n\t\t}\n\n\n\t\tthis.setPrivateRaw(\"maxZoomFactor\", Math.max(1, Math.ceil((max - min) / minDiff * this.get(\"maxZoomFactor\", 100))));\n\t\tthis._fixZoomFactor();\n\n\t\tif (this.get(\"logarithmic\")) {\n\t\t\tthis._minLogAdjusted = min;\n\t\t\tmin = this._minReal;\n\t\t\tmax = this._maxReal;\n\n\t\t\tif (min <= 0) {\n\t\t\t\tmin = initialMin * (1 - Math.min(extraMin, 0.99));\n\t\t\t}\n\t\t}\n\n\n\n\t\tif ($type.isNumber(min) && $type.isNumber(max)) {\n\t\t\tif (this.getPrivate(\"minFinal\") !== min || this.getPrivate(\"maxFinal\") !== max) {\n\n\t\t\t\tthis.setPrivate(\"minFinal\", min);\n\t\t\t\tthis.setPrivate(\"maxFinal\", max);\n\t\t\t\tthis._saveMinMax(min, max);\n\n\t\t\t\tconst duration = this.get(\"interpolationDuration\", 0);\n\t\t\t\tconst easing = this.get(\"interpolationEasing\");\n\n\t\t\t\tthis.animatePrivate({ key: \"min\", to: min, duration, easing });\n\t\t\t\tthis.animatePrivate({ key: \"max\", to: max, duration, easing });\n\t\t\t}\n\t\t}\n\t}\n\n\tprotected _fixZoomFactor() {\n\t}\n\n\tprotected _getDelta(max: number) {\n\t\t// the number by which we need to raise 10 to get difference\n\t\tlet exponent: number = Math.log(Math.abs(max)) * Math.LOG10E;\n\n\t\t// here we find a number which is power of 10 and has the same count of numbers as difference has\n\t\tlet power = Math.pow(10, Math.floor(exponent));\n\n\t\t// reduce this number by 10 times\n\t\tpower = power / 10;\n\n\t\tthis._deltaMinMax = power;\n\t}\n\n\tprotected _saveMinMax(_min: number, _max: number) {\n\n\t}\n\n\n\tprotected _adjustMinMax(min: number, max: number, gridCount: number, strictMode?: boolean): IMinMaxStep {\n\t\t// will fail if 0\n\t\tif (gridCount <= 1) {\n\t\t\tgridCount = 1;\n\t\t}\n\n\t\tgridCount = Math.round(gridCount);\n\n\t\tlet initialMin: number = min;\n\t\tlet initialMax: number = max;\n\n\t\tlet difference = max - min;\n\n\t\t// in case min and max is the same, use max\n\t\tif (difference === 0) {\n\t\t\tdifference = Math.abs(max);\n\t\t}\n\n\t\t// the number by which we need to raise 10 to get difference\n\t\tlet exponent: number = Math.log(Math.abs(difference)) * Math.LOG10E;\n\n\t\t// here we find a number which is power of 10 and has the same count of numbers as difference has\n\t\tlet power = Math.pow(10, Math.floor(exponent));\n\n\t\t// reduce this number by 10 times\n\t\tpower = power / 10;\n\n\t\tlet extra: number = power;\n\t\tif (strictMode) {\n\t\t\textra = 0;\n\t\t}\n\n\t\t// round down min\n\t\tif (strictMode) {\n\t\t\tmin = Math.floor(min / power) * power;\n\t\t\t// round up max\n\t\t\tmax = Math.ceil(max / power) * power;\n\t\t}\n\t\telse {\n\t\t\tmin = Math.ceil(min / power) * power - extra;\n\t\t\t// round up max\n\t\t\tmax = Math.floor(max / power) * power + extra;\n\t\t}\n\n\t\t// don't let min go below 0 if real min is >= 0\n\t\tif (min < 0 && initialMin >= 0) {\n\t\t\tmin = 0;\n\t\t}\n\t\t// don't let max go above 0 if real max is <= 0\n\t\tif (max > 0 && initialMax <= 0) {\n\t\t\tmax = 0;\n\t\t}\n\n\t\texponent = Math.log(Math.abs(difference)) * Math.LOG10E;\n\t\tpower = Math.pow(10, Math.floor(exponent));\n\t\tpower = power / 100; // used to be 10 in v4, but this caused issue that there could be limited number of grids with even very small minGridDistance\n\n\t\t// approximate difference between two grid lines\n\t\tlet step = Math.ceil((difference / gridCount) / power) * power;\n\t\tlet stepPower = Math.pow(10, Math.floor(Math.log(Math.abs(step)) * Math.LOG10E));\n\n\t\t// the step should divide by  2, 5, and 10.\n\t\tlet stepDivisor: number = Math.ceil(step / stepPower); // number 0 - 10\n\n\n\t\tif (stepDivisor > 5) {\n\t\t\tstepDivisor = 10;\n\t\t}\n\t\telse if (stepDivisor <= 5 && stepDivisor > 2) {\n\t\t\tstepDivisor = 5;\n\t\t}\n\n\t\t// now get real step\n\t\tstep = Math.ceil(step / (stepPower * stepDivisor)) * stepPower * stepDivisor;\n\n\n\t\tlet maxPrecision = this.get(\"maxPrecision\");\n\t\tif ($type.isNumber(maxPrecision)) {\n\n\t\t\tlet ceiledStep = $math.ceil(step, maxPrecision);\n\t\t\tif (maxPrecision < Number.MAX_VALUE && step !== ceiledStep) {\n\t\t\t\tstep = ceiledStep;\n\t\t\t\tif (step == 0) {\n\t\t\t\t\tstep = 1;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tlet decCount: number = 0;\n\t\t// in case numbers are smaller than 1\n\t\tif (stepPower < 1) {\n\t\t\t// exponent is less then 1 too. Count decimals of exponent\n\t\t\tdecCount = Math.round(Math.abs(Math.log(Math.abs(stepPower)) * Math.LOG10E)) + 1;\n\t\t\t// round step\n\t\t\tstep = $math.round(step, decCount);\n\t\t}\n\n\t\t// final min and max\n\t\tlet minCount = Math.floor(min / step);\n\n\t\tmin = $math.round(step * minCount, decCount);\n\n\t\tlet maxCount: number;\n\n\t\tif (!strictMode) {\n\t\t\tmaxCount = Math.ceil(max / step);\n\t\t}\n\t\telse {\n\t\t\tmaxCount = Math.floor(max / step);\n\t\t}\n\n\t\tif (maxCount === minCount) {\n\t\t\tmaxCount++;\n\t\t}\n\n\t\tmax = $math.round(step * maxCount, decCount);\n\n\t\tif (max < initialMax) {\n\t\t\tmax = max + step;\n\t\t}\n\n\t\tif (min > initialMin) {\n\t\t\tmin = min - step;\n\t\t}\n\n\n\t\tstep = this.fixSmallStep(step);\n\n\t\treturn { min: min, max: max, step: step };\n\t}\n\n\t/**\n\t * Returns text to be used in an axis tooltip for specific relative position.\n\t *\n\t * @param   position  Position\n\t * @return            Tooltip text\n\t */\n\tpublic getTooltipText(position: number, _adjustPosition?: boolean): string | undefined {\n\t\tconst numberFormat = this.get(\"tooltipNumberFormat\", this.get(\"numberFormat\"));\n\t\tconst formatter = this.getNumberFormatter();\n\t\tconst extraDecimals = this.get(\"extraTooltipPrecision\", 0);\n\t\tconst decimals = this.getPrivate(\"stepDecimalPlaces\", 0) + extraDecimals;\n\t\tconst value = $math.round(this.positionToValue(position), decimals);\n\n\t\tif (numberFormat) {\n\t\t\treturn formatter.format(value, numberFormat);\n\t\t}\n\t\telse {\n\t\t\treturn formatter.format(value, undefined, decimals);\n\t\t}\n\t}\n\n\t/**\n\t * Returns a data item from series that is closest to the `position`.\n\t *\n\t * @param   series    Series\n\t * @param   position  Relative position\n\t * @return            Data item\n\t */\n\tpublic getSeriesItem(series: XYSeries, position: number): DataItem<IXYSeriesDataItem> | undefined {\n\t\tlet fieldName = <any>(this.getPrivate(\"name\")! + this.get(\"renderer\").getPrivate(\"letter\")!);\n\t\tlet value = this.positionToValue(position);\n\n\t\tlet index: number | undefined = undefined;\n\t\tlet oldDiff: number;\n\t\t$array.each(series.dataItems, (dataItem, i) => {\n\t\t\tconst diff = Math.abs(dataItem.get(fieldName) - value);\n\t\t\tif (index === undefined || diff < oldDiff) {\n\t\t\t\tindex = i;\n\t\t\t\toldDiff = diff;\n\t\t\t}\n\t\t});\n\n\t\tif (index != null) {\n\t\t\treturn series.dataItems[index];\n\t\t}\n\t}\n\n\t/**\n\t * Zooms the axis to specific `start` and `end` values.\n\t *\n\t * Optional `duration` specifies duration of zoom animation in milliseconds.\n\t *\n\t * @param  start     Start value\n\t * @param  end       End value\n\t * @param  duration  Duration in milliseconds\n\t */\n\tpublic zoomToValues(start: number, end: number, duration?: number) {\n\t\tconst min = this.getPrivate(\"minFinal\", this.getPrivate(\"min\", 0));\n\t\tconst max = this.getPrivate(\"maxFinal\", this.getPrivate(\"max\", 1));\n\n\t\tif (this.getPrivate(\"min\") != null && this.getPrivate(\"max\") != null) {\n\t\t\tthis.zoom((start - min) / (max - min), (end - min) / (max - min), duration);\n\t\t}\n\t}\n\n\n\t/**\n\t * Syncs with a target axis.\n\t *\n\t * @param  min  Min\n\t * @param  max  Max\n\t * @param  step Step\n\t */\n\tprotected _syncAxes(min: number, max: number, step: number, syncMin: number, syncMax: number, syncStep: number) {\n\t\tlet axis = this.get(\"syncWithAxis\");\n\t\tif (axis) {\n\t\t\tlet count: number = Math.round(syncMax - syncMin) / syncStep;\n\t\t\tlet currentCount = Math.round((max - min) / step);\n\n\t\t\tlet gridCount = this.get(\"renderer\").gridCount();\n\n\t\t\tif ($type.isNumber(count) && $type.isNumber(currentCount)) {\n\t\t\t\tlet synced = false;\n\t\t\t\tlet c = 0\n\t\t\t\tlet diff = (max - min) * 0.01;\n\t\t\t\tlet omin = min;\n\t\t\t\tlet omax = max;\n\t\t\t\tlet ostep = step;\n\n\t\t\t\twhile (synced != true) {\n\t\t\t\t\tsynced = this._checkSync(omin, omax, ostep, count);\n\t\t\t\t\tc++;\n\t\t\t\t\tif (c > 500) {\n\t\t\t\t\t\tsynced = true;\n\t\t\t\t\t}\n\t\t\t\t\tif (!synced) {\n\t\t\t\t\t\tif (c / 3 == Math.round(c / 3)) {\n\t\t\t\t\t\t\tomin = min - diff * c;\n\t\t\t\t\t\t\tif (min >= 0 && omin < 0) {\n\t\t\t\t\t\t\t\tomin = 0;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tomax = max + diff * c;\n\t\t\t\t\t\t\tif (omax <= 0 && omax > 0) {\n\t\t\t\t\t\t\t\tomax = 0;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tlet minMaxStep = this._adjustMinMax(omin, omax, gridCount, true);\n\t\t\t\t\t\tomin = minMaxStep.min;\n\t\t\t\t\t\tomax = minMaxStep.max;\n\t\t\t\t\t\tostep = minMaxStep.step;\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tmin = omin;\n\t\t\t\t\t\tmax = omax;\n\t\t\t\t\t\tstep = ostep;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn { min: min, max: max, step: step };\n\t}\n\n\t/**\n\t * Returns `true` if axis needs to be resunced with some other axis.\n\t */\n\tprotected _checkSync(min: number, max: number, step: number, count: number): boolean {\n\t\tlet currentCount = (max - min) / step;\n\t\tfor (let i = 1; i < count; i++) {\n\t\t\tif ($math.round(currentCount / i, 1) == count || currentCount * i == count) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}\n\n\t/**\n\t * Returns relative position between two grid lines of the axis.\n\t *\n\t * @return Position\n\t */\n\tpublic getCellWidthPosition(): number {\n\t\tlet max = this.getPrivate(\"selectionMax\", this.getPrivate(\"max\"));\n\t\tlet min = this.getPrivate(\"selectionMin\", this.getPrivate(\"min\"));\n\n\t\tif ($type.isNumber(max) && $type.isNumber(min)) {\n\t\t\treturn this.getPrivate(\"step\", 1) / (max - min);\n\t\t}\n\t\treturn 0.05;\n\t}\n\n\t/**\n\t * @ignore\n\t */\n\tpublic nextPosition(count?: number) {\n\t\tif (count == null) {\n\t\t\tcount = 1;\n\t\t}\n\n\t\tif (this.get(\"renderer\").getPrivate(\"letter\") == \"Y\") {\n\t\t\tcount *= -1;\n\t\t}\n\n\t\tlet value = this.positionToValue(this.getPrivate(\"tooltipPosition\", 0));\n\t\tvalue += this.getPrivate(\"step\", 1) * count;\n\t\tvalue = $math.fitToRange(value, this.getPrivate(\"selectionMin\", 0), this.getPrivate(\"selectionMax\", 1));\n\n\t\treturn this.toGlobalPosition(this.valueToPosition(value));\n\t}\n}\n","import { Graphics, IGraphicsPrivate, IGraphicsSettings } from \"../../../core/render/Graphics\";\n\nexport interface IGridSettings extends IGraphicsSettings {\n\n\t/**\n\t * Relative location of the grid line within the cell.\n\t *\n\t * `0` - beginning, `0.5` - middle, `1` - end.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/axes/#Location_of_axis_elements} for more info\n\t */\n\tlocation?: number;\n\n}\n\nexport interface IGridPrivate extends IGraphicsPrivate {\n}\n\n/**\n * Creates an axis grid line.\n *\n * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/axes/#Grid} for more info\n * @important\n */\nexport class Grid extends Graphics {\n\n\tdeclare public _settings: IGridSettings;\n\tdeclare public _privateSettings: IGridPrivate;\n\n\tpublic static className: string = \"Grid\";\n\tpublic static classNames: Array<string> = Graphics.classNames.concat([Grid.className]);\n\n\tpublic _beforeChanged() {\n\t\tsuper._beforeChanged();\n\n\t\tif (this.isPrivateDirty(\"width\") || this.isPrivateDirty(\"height\")) {\n\t\t\tthis._clear = true;\n\t\t}\n\t}\n}\n","import type { IPoint } from \"../../../core/util/IPoint\";\nimport type { AxisLabel } from \"./AxisLabel\";\nimport type { Grid } from \"./Grid\";\nimport type { AxisTick } from \"./AxisTick\";\nimport type { Graphics } from \"../../../core/render/Graphics\";\nimport type { Tooltip } from \"../../../core/render/Tooltip\";\nimport type { Template } from \"../../../core/util/Template\";\nimport type { AxisBullet } from \"./AxisBullet\";\n\nimport { AxisRenderer, IAxisRendererSettings, IAxisRendererPrivate } from \"./AxisRenderer\";\nimport { p100 } from \"../../../core/util/Percent\";\nimport { Rectangle } from \"../../../core/render/Rectangle\";\n\nimport * as $type from \"../../../core/util/Type\";\nimport * as $utils from \"../../../core/util/Utils\";\n\nexport interface IAxisRendererXSettings extends IAxisRendererSettings {\n\n\t/**\n\t * If set to `true` the axis will be drawn on the opposite side of the plot\n\t * area.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/axes/#Axis_position} for more info\n\t * @default false\n\t */\n\topposite?: boolean;\n\n\t/**\n\t * If set to `true`, all axis elements (ticks, labels) will be drawn inside\n\t * plot area.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/axes/#Labels_ticks_inside_plot_area} for more info\n\t * @default false\n\t */\n\tinside?: boolean;\n}\n\nexport interface IAxisRendererXPrivate extends IAxisRendererPrivate {\n}\n\n/**\n * Used to render horizontal axis.\n *\n * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/#Axis_renderer} for more info\n * @important\n */\nexport class AxisRendererX extends AxisRenderer {\n\n\tpublic static className: string = \"AxisRendererX\";\n\tpublic static classNames: Array<string> = AxisRenderer.classNames.concat([AxisRendererX.className]);\n\n\tdeclare public _settings: IAxisRendererXSettings;\n\tdeclare public _privateSettings: IAxisRendererXPrivate;\n\n\tdeclare public readonly labelTemplate: Template<AxisLabel>;\n\n\tpublic thumb: Rectangle = Rectangle.new(this._root, { width: p100, isMeasured: false, themeTags: [\"axis\", \"x\", \"thumb\", \"zoomgrip\"] });\n\n\tpublic _afterNew() {\n\t\tthis._settings.themeTags = $utils.mergeTags(this._settings.themeTags, [\"renderer\", \"x\"]);\n\n\t\tsuper._afterNew();\n\t\tthis.setPrivateRaw(\"letter\", \"X\");\n\n\t\tconst gridTemplate = this.grid.template;\n\t\tgridTemplate.set(\"height\", p100);\n\t\tgridTemplate.set(\"width\", 0);\n\t\tgridTemplate.set(\"draw\", (display, graphics) => {\n\t\t\tdisplay.moveTo(0, 0);\n\t\t\tdisplay.lineTo(0, graphics.height());\n\t\t});\n\n\t\tthis.set(\"draw\", (display, graphics) => {\n\t\t\tdisplay.moveTo(0, 0);\n\t\t\tdisplay.lineTo(graphics.width(), 0);\n\t\t});\n\t}\n\n\tpublic _changed() {\n\t\tsuper._changed();\n\n\t\tconst axis = this.axis;\n\t\tconst ghostLabel = axis.ghostLabel;\n\t\tif (ghostLabel) {\n\t\t\tghostLabel.setPrivate(\"visible\", !this.get(\"inside\"));\n\t\t\tghostLabel.set(\"x\", -1000);\n\t\t}\n\n\t\tconst opposite = \"opposite\"\n\t\tconst inside = \"inside\";\n\n\t\tif (this.isDirty(opposite) || this.isDirty(inside)) {\n\t\t\tconst chart = this.chart;\n\t\t\tconst axisChildren = axis.children;\n\n\t\t\tif (this.get(inside)) {\n\t\t\t\taxis.addTag(inside);\n\t\t\t}\n\t\t\telse {\n\t\t\t\taxis.removeTag(inside);\n\t\t\t}\n\n\t\t\tif (chart) {\n\t\t\t\tif (this.get(opposite)) {\n\t\t\t\t\tconst children = chart.topAxesContainer.children;\n\t\t\t\t\tif (children.indexOf(axis) == -1) {\n\t\t\t\t\t\tchildren.insertIndex(0, axis);\n\t\t\t\t\t}\n\t\t\t\t\taxis.addTag(opposite);\n\t\t\t\t\taxisChildren.moveValue(this);\n\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tconst children = chart.bottomAxesContainer.children;\n\t\t\t\t\tif (children.indexOf(axis) == -1) {\n\t\t\t\t\t\tchildren.moveValue(axis);\n\t\t\t\t\t}\n\t\t\t\t\taxis.removeTag(opposite);\n\n\t\t\t\t\taxisChildren.moveValue(this, 0);\n\n\t\t\t\t}\n\n\t\t\t\taxis.ghostLabel?._applyThemes();\n\t\t\t\tthis.labels.each((label) => {\n\t\t\t\t\tlabel._applyThemes();\n\t\t\t\t})\n\t\t\t\tthis.root._markDirtyRedraw();\n\t\t\t}\n\t\t\taxis.markDirtySize();\n\t\t}\n\n\t\tthis.thumb.setPrivate(\"height\", axis.labelsContainer.height());\n\t}\n\n\n\tprotected _getPan(point1: IPoint, point2: IPoint): number {\n\t\treturn (point2.x - point1.x) / this.width();\n\t}\n\n\t/**\n\t * @ignore\n\t */\n\tpublic toAxisPosition(position: number): number {\n\t\tconst start = this._start || 0;\n\t\tconst end = this._end || 1;\n\n\t\tposition -= this._ls;\n\n\t\tposition = position * (end - start) / this._lc;\n\t\tif (!this.get(\"inversed\")) {\n\t\t\tposition = start + position;\n\t\t}\n\t\telse {\n\t\t\tposition = end - position;\n\t\t}\n\n\t\treturn position;\n\t}\n\n\t/**\n\t * @ignore\n\t */\n\tpublic toGlobalPosition(position: number): number {\n\t\tconst start = this._start || 0;\n\t\tconst end = this._end || 1;\n\n\t\tif (!this.get(\"inversed\")) {\n\t\t\tposition = position - start;\n\t\t}\n\t\telse {\n\t\t\tposition = end - position;\n\t\t}\n\n\t\tposition = position / (end - start) * this._lc\n\n\t\tposition += this._ls;\n\n\t\treturn position;\n\t}\n\n\t/**\n\t * @ignore\n\t */\n\tpublic _updateLC() {\n\t\tconst axis = this.axis;\n\t\tconst parent = axis.parent;\n\t\tif (parent) {\n\t\t\tconst w = parent.innerWidth();\n\t\t\tthis._lc = this.axisLength() / w;\n\t\t\tthis._ls = (axis.x() - parent.get(\"paddingLeft\", 0)) / w;\n\t\t}\n\t}\n\n\t/**\n\t * @ignore\n\t */\n\tpublic _updatePositions() {\n\t\tconst axis = this.axis;\n\t\tconst x = axis.x() - $utils.relativeToValue(axis.get(\"centerX\", 0), axis.width()) - axis.parent!.get(\"paddingLeft\", 0);\n\t\taxis.gridContainer.set(\"x\", x);\n\t\taxis.topGridContainer.set(\"x\", x);\n\t\taxis.bulletsContainer.set(\"y\", this.y());\n\n\t\tconst chart = axis.chart;\n\t\tif (chart) {\n\t\t\tconst plotContainer = chart.plotContainer;\n\t\t\tconst axisHeader = axis.axisHeader;\n\t\t\tlet width = axis.get(\"marginLeft\", 0);\n\n\t\t\tlet x = axis.x() - width;\n\n\t\t\tconst parent = axis.parent;\n\t\t\tif (parent) {\n\t\t\t\tx -= parent.get(\"paddingLeft\", 0);\n\t\t\t}\n\n\t\t\tif (axisHeader.children.length > 0) {\n\t\t\t\twidth = axis.axisHeader.width();\n\t\t\t\taxis.set(\"marginLeft\", width + 1);\n\t\t\t}\n\t\t\telse {\n\t\t\t\taxisHeader.set(\"width\", width);\n\t\t\t}\n\t\t\taxisHeader.setAll({ x: x, y: -1, height: plotContainer.height() + 2 });\n\t\t}\n\t}\n\n\t/**\n\t * @ignore\n\t */\n\tpublic processAxis() {\n\t\tsuper.processAxis();\n\t\tconst axis = this.axis;\n\t\tif (axis.get(\"width\") == null) {\n\t\t\taxis.set(\"width\", p100);\n\t\t};\n\t\tconst verticalLayout = this._root.verticalLayout;\n\t\taxis.set(\"layout\", verticalLayout);\n\t\taxis.labelsContainer.set(\"width\", p100);\n\t\taxis.axisHeader.setAll({ layout: verticalLayout });\n\t}\n\n\t/**\n\t * @ignore\n\t */\n\tpublic axisLength(): number {\n\t\treturn this.axis.width();\n\t}\n\n\t/**\n\t * Converts axis relative position to actual coordinate in pixels.\n\t *\n\t * @param   position  Position\n\t * @return            Point\n\t */\n\tpublic positionToPoint(position: number): IPoint {\n\t\treturn { x: this.positionToCoordinate(position), y: 0 };\n\t}\n\n\t/**\n\t * @ignore\n\t */\n\tpublic updateTick(tick?: AxisTick, position?: number, endPosition?: number, count?: number) {\n\t\tif (tick) {\n\t\t\tif (!$type.isNumber(position)) {\n\t\t\t\tposition = 0;\n\t\t\t}\n\n\t\t\tlet location = 0.5;\n\t\t\tif ($type.isNumber(count) && count > 1) {\n\t\t\t\tlocation = tick.get(\"multiLocation\", location)\n\t\t\t}\n\t\t\telse {\n\t\t\t\tlocation = tick.get(\"location\", location)\n\t\t\t}\n\n\t\t\tif ($type.isNumber(endPosition) && endPosition != position) {\n\t\t\t\tposition = position + (endPosition - position) * location;\n\t\t\t}\n\n\t\t\ttick.set(\"x\", this.positionToCoordinate(position));\n\n\t\t\tlet length = tick.get(\"length\", 0);\n\t\t\tconst inside = tick.get(\"inside\", this.get(\"inside\", false));\n\n\t\t\tif (this.get(\"opposite\")) {\n\t\t\t\ttick.set(\"y\", p100);\n\t\t\t\tif (!inside) {\n\t\t\t\t\tlength *= -1\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\ttick.set(\"y\", 0);\n\t\t\t\tif (inside) {\n\t\t\t\t\tlength *= -1\n\t\t\t\t}\n\t\t\t}\n\t\t\ttick.set(\"draw\", (display) => {\n\t\t\t\tdisplay.moveTo(0, 0);\n\t\t\t\tdisplay.lineTo(0, length);\n\t\t\t})\n\n\t\t\tthis.toggleVisibility(tick, position, tick.get(\"minPosition\", 0), tick.get(\"maxPosition\", 1));\n\t\t}\n\t}\n\n\t/**\n\t * @ignore\n\t */\n\tpublic updateLabel(label?: AxisLabel, position?: number, endPosition?: number, count?: number) {\n\t\tif (label) {\n\t\t\tlet location = 0.5;\n\t\t\tif ($type.isNumber(count) && count > 1) {\n\t\t\t\tlocation = label.get(\"multiLocation\", location)\n\t\t\t}\n\t\t\telse {\n\t\t\t\tlocation = label.get(\"location\", location)\n\t\t\t}\n\n\t\t\tif (!$type.isNumber(position)) {\n\t\t\t\tposition = 0;\n\t\t\t}\n\n\t\t\tconst inside = label.get(\"inside\", this.get(\"inside\", false));\n\n\t\t\tconst opposite = this.get(\"opposite\");\n\t\t\tif (opposite) {\n\t\t\t\tif (!inside) {\n\t\t\t\t\tlabel.set(\"position\", \"relative\");\n\t\t\t\t\tlabel.set(\"y\", p100);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tlabel.set(\"position\", \"absolute\");\n\t\t\t\t\tlabel.set(\"y\", 0)\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif (!inside) {\n\t\t\t\t\tlabel.set(\"y\", undefined);\n\t\t\t\t\tlabel.set(\"position\", \"relative\");\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tlabel.set(\"y\", 0)\n\t\t\t\t\tlabel.set(\"position\", \"absolute\");\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif ($type.isNumber(endPosition) && endPosition != position) {\n\t\t\t\tposition = position + (endPosition - position) * location;\n\t\t\t}\n\n\t\t\tlabel.set(\"x\", this.positionToCoordinate(position));\n\t\t\tthis.toggleVisibility(label, position, label.get(\"minPosition\", 0), label.get(\"maxPosition\", 1));\n\t\t}\n\t}\n\n\t/**\n\t * @ignore\n\t */\n\tpublic updateGrid(grid?: Grid, position?: number, endPosition?: number) {\n\t\tif (grid) {\n\t\t\tif (!$type.isNumber(position)) {\n\t\t\t\tposition = 0;\n\t\t\t}\n\n\t\t\tlet location = grid.get(\"location\", 0.5);\n\t\t\tif ($type.isNumber(endPosition) && endPosition != position) {\n\t\t\t\tposition = position + (endPosition - position) * location;\n\t\t\t}\n\n\t\t\tgrid.set(\"x\", this.positionToCoordinate(position));\n\n\t\t\tthis.toggleVisibility(grid, position, 0, 1);\n\t\t}\n\t}\n\n\t/**\n\t * @ignore\n\t */\n\tpublic updateBullet(bullet?: AxisBullet, position?: number, endPosition?: number) {\n\t\tif (bullet) {\n\n\t\t\tconst sprite = bullet.get(\"sprite\");\n\t\t\tif (sprite) {\n\t\t\t\tif (!$type.isNumber(position)) {\n\t\t\t\t\tposition = 0;\n\t\t\t\t}\n\n\t\t\t\tlet location = bullet.get(\"location\", 0.5);\n\n\t\t\t\tif ($type.isNumber(endPosition) && endPosition != position) {\n\t\t\t\t\tposition = position + (endPosition - position) * location;\n\t\t\t\t}\n\n\t\t\t\tlet bulletPosition = this.axis.roundAxisPosition(position, location);\n\t\t\t\tlet previousBullet = this.axis._bullets[bulletPosition];\n\t\t\t\tlet d = -1;\n\t\t\t\tif (this.get(\"opposite\")) {\n\t\t\t\t\td = 1;\n\t\t\t\t}\n\n\t\t\t\tif (bullet.get(\"stacked\")) {\n\t\t\t\t\tif (previousBullet) {\n\t\t\t\t\t\tlet previousSprite = previousBullet.get(\"sprite\");\n\t\t\t\t\t\tif (previousSprite) {\n\t\t\t\t\t\t\tsprite.set(\"y\", previousSprite.y() + previousSprite.height() * d);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tsprite.set(\"y\", 0);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tthis.axis._bullets[bulletPosition] = bullet;\n\t\t\t\tsprite.set(\"x\", this.positionToCoordinate(position));\n\t\t\t\tthis.toggleVisibility(sprite, position, 0, 1);\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * @ignore\n\t */\n\tpublic updateFill(fill?: Graphics, position?: number, endPosition?: number) {\n\t\tif (fill) {\n\t\t\tif (!$type.isNumber(position)) {\n\t\t\t\tposition = 0;\n\t\t\t}\n\t\t\tif (!$type.isNumber(endPosition)) {\n\t\t\t\tendPosition = 1;\n\t\t\t}\n\n\t\t\tlet x0 = this.positionToCoordinate(position);\n\t\t\tlet x1 = this.positionToCoordinate(endPosition);\n\n\t\t\tthis.fillDrawMethod(fill, x0, x1);\n\t\t}\n\t}\n\n\tprotected fillDrawMethod(fill: Graphics, x0: number, x1: number) {\n\t\tfill.set(\"draw\", (display) => {\n\t\t\t//display.drawRect(x0, 0, x1 - x0, this.axis!.gridContainer.height());\n\t\t\t// using for holes, so can not be rectangle\n\t\t\tconst h = this.axis!.gridContainer.height();\n\t\t\tconst w = this.width();\n\n\t\t\tif (x1 < x0) {\n\t\t\t\t[x1, x0] = [x0, x1];\n\t\t\t}\n\t\t\tif (x0 > w || x1 < 0) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t/*\n\t\t\tconst limit = 10000;\n\n\t\t\tx0 = Math.max(-limit, x0);\n\t\t\tx1 = Math.min(limit, x1);\n\t\t\t*/\n\n\t\t\tdisplay.moveTo(x0, 0);\n\t\t\tdisplay.lineTo(x1, 0);\n\t\t\tdisplay.lineTo(x1, h);\n\t\t\tdisplay.lineTo(x0, h);\n\t\t\tdisplay.lineTo(x0, 0);\n\t\t})\n\t}\n\n\t/**\n\t * @ignore\n\t */\n\tpublic positionTooltip(tooltip: Tooltip, position: number) {\n\t\tthis._positionTooltip(tooltip, { x: this.positionToCoordinate(position), y: 0 })\n\t}\n\n\t/**\n\t * @ignore\n\t */\n\tpublic updateTooltipBounds(tooltip: Tooltip) {\n\t\tconst inside = this.get(\"inside\");\n\t\tconst num = 100000;\n\n\t\tlet global = this._display.toGlobal({ x: 0, y: 0 });\n\t\tlet x = global.x;\n\t\tlet y = 0;\n\t\tlet w = this.axisLength();\n\t\tlet h = num;\n\n\t\tlet pointerOrientation: \"up\" | \"down\" = \"up\";\n\n\t\tif (this.get(\"opposite\")) {\n\t\t\tif (inside) {\n\t\t\t\tpointerOrientation = \"up\";\n\t\t\t\ty = global.y;\n\t\t\t\th = num;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tpointerOrientation = \"down\";\n\t\t\t\ty = global.y - num;\n\t\t\t\th = num;\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tif (inside) {\n\t\t\t\tpointerOrientation = \"down\";\n\t\t\t\ty = global.y - num;\n\t\t\t\th = num;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tpointerOrientation = \"up\";\n\t\t\t\ty = global.y;\n\t\t\t\th = num;\n\t\t\t}\n\t\t}\n\n\t\tconst bounds = { left: x, right: x + w, top: y, bottom: y + h };\n\t\tconst oldBounds = tooltip.get(\"bounds\");\n\n\t\tif (!$utils.sameBounds(bounds, oldBounds)) {\n\t\t\ttooltip.set(\"bounds\", bounds);\n\t\t\ttooltip.set(\"pointerOrientation\", pointerOrientation);\n\t\t}\n\t}\n}\n","import type { Label } from \"../render/Label\";\nimport type { Graphics } from \"../render/Graphics\";\n\nimport { RoundedRectangle } from \"../render/RoundedRectangle\";\nimport { Container, IContainerPrivate, IContainerSettings, IContainerEvents } from \"./Container\";\n\nimport * as $utils from \"../../core/util/Utils\";\n\nexport interface IButtonSettings extends IContainerSettings {\n\n\t/**\n\t * A [[Label]] element for the button to show as a label.\n\t */\n\tlabel?: Label;\n\n\t/**\n\t * A [[Graphics]] element for the button to show as icon.\n\t */\n\ticon?: Graphics;\n\n}\n\nexport interface IButtonPrivate extends IContainerPrivate {\n}\n\nexport interface IButtonEvents extends IContainerEvents {\n}\n\n/**\n * Draws an interactive button.\n *\n * @see {@link https://www.amcharts.com/docs/v5/concepts/common-elements/buttons/} for more info\n * @important\n */\nexport class Button extends Container {\n\tprotected _afterNew() {\n\t\tthis._settings.themeTags = $utils.mergeTags(this._settings.themeTags, [\"button\"]);\n\n\t\tsuper._afterNew();\n\n\t\tif (!this._settings.background) {\n\t\t\tthis.set(\"background\", RoundedRectangle.new(this._root, {\n\t\t\t\tthemeTags: $utils.mergeTags(this._settings.themeTags, [\"background\"])\n\t\t\t}));\n\t\t}\n\n\t\tthis.setPrivate(\"trustBounds\", true);\n\t}\n\n\tdeclare public _settings: IButtonSettings;\n\tdeclare public _privateSettings: IButtonPrivate;\n\tdeclare public _events: IButtonEvents;\n\n\tpublic static className: string = \"Button\";\n\tpublic static classNames: Array<string> = Container.classNames.concat([Button.className]);\n\n\n\tpublic _prepareChildren() {\n\t\tsuper._prepareChildren();\n\n\t\tif (this.isDirty(\"icon\")) {\n\t\t\tconst previous = this._prevSettings.icon;\n\t\t\tconst icon = this.get(\"icon\")!;\n\t\t\tif (icon !== previous) {\n\t\t\t\tthis._disposeProperty(\"icon\");\n\n\t\t\t\tif (previous) {\n\t\t\t\t\tprevious.dispose();\n\t\t\t\t}\n\t\t\t\tif (icon) {\n\t\t\t\t\tthis.children.push(icon);\n\t\t\t\t}\n\n\t\t\t\tthis._prevSettings.icon = icon;\n\t\t\t}\n\t\t}\n\n\t\tif (this.isDirty(\"label\")) {\n\t\t\tconst previous = this._prevSettings.label;\n\t\t\tconst label = this.get(\"label\")!;\n\t\t\tif (label !== previous) {\n\t\t\t\tthis._disposeProperty(\"label\");\n\t\t\t\tif (previous) {\n\t\t\t\t\tprevious.dispose();\n\t\t\t\t}\n\n\t\t\t\tif (label) {\n\t\t\t\t\tthis.children.push(label);\n\t\t\t\t}\n\n\t\t\t\tthis._prevSettings.label = label;\n\t\t\t}\n\t\t}\n\t}\n}\n"],"names":["XYChartDefaultTheme","Theme","setupDefaultRules","super","ic","this","_root","interfaceColors","language","r","rule","bind","setAll","colors","ColorSet","new","paddingLeft","paddingRight","paddingTop","paddingBottom","panX","panY","wheelStep","arrangeTooltips","pinchZoomX","pinchZoomY","legendLabelText","fill","Color","fromHex","fillOpacity","saturation","setColor","cornerRadiusTR","cornerRadiusTL","cornerRadiusBR","cornerRadiusBL","focusable","states","create","strokeOpacity","inside","minGridDistance","opacity","centerY","p100","minPosition","maxPosition","fontSize","text","populateText","centerX","visible","behavior","layer","exportable","snapToSeriesBy","moveThreshold","forceInactive","strokeDasharray","role","ariaLabel","translate","zoomOut","start","end","minZoomCount","maxZoomCount","Infinity","maxZoomFactor","maxDeviation","snapTooltip","tooltipLocation","zoomX","zoomY","fixAxisSize","location","multiLocation","p50","crisp","opposite","inversed","cellStartLocation","cellEndLocation","width","height","cursorOverStyle","isMeasured","position","startLocation","endLocation","fillRule","dataItem","index","axisFill","get","$type","setPrivate","gridIntervals","timeUnit","count","dateFormats","periodChangeDateFormats","tooltipDateFormats","markUnitChange","$array","$object","strictMinMax","groupData","groupCount","skipFirstMinor","weekLabelLocation","groupIntervals","axis","component","value","endValue","intervalDuration","baseInterval","getPrivate","gridInterval","min","$time","Date","locale","firstDayOfWeek","utc","undefined","timezone","getTime","val","Math","round","baseValue","logarithmic","autoZoom","step","$math","baseUnit","maskBullets","stackToNegative","locationX","locationY","openValueXGrouped","openValueYGrouped","valueXGrouped","valueYGrouped","seriesTooltipTarget","adjustBulletPosition","clustered","percent","strokeWidth","connect","autoGapCount","draw","display","sprite","parent","h","w","moveTo","lineTo","tension","lowValueXGrouped","lowValueYGrouped","highValueXGrouped","highValueYGrouped","interactive","draggable","rotation","XYChart","SerialChart","constructor","Object","defineProperty","ListAutoDispose","chartContainer","children","push","Container","layout","verticalLayout","horizontalLayout","yAxesAndPlotContainer","maskContent","plotsContainer","plotContainer","topPlotContainer","Button","themeTags","icon","Graphics","x","y","_afterNew","_defaultThemes","_disposers","xAxes","yAxes","root","zoomOutButton","events","on","hide","lookup","set","seriesContainer","_processAxis","bottomAxesContainer","leftAxesContainer","topGridContainer","bulletsContainer","Rectangle","event","_handlePlotDown","_handlePlotUp","_handlePlotMove","_maskGrid","_setUpTouch","_beforeChanged","isDirty","_display","cancelTouch","gridContainer","_removeSeries","series","_unstack","_posXDp","dispose","_posYDp","xAxis","markDirtyExtremes","yAxis","cursor","snapToSeries","handleWheel","wheelX","wheelY","wheelEvent","originalEvent","prevent","$utils","plotPoint","toLocal","point","shiftY","deltaY","shiftX","deltaX","wheelZoomPositionX","wheelZoomPositionY","each","fixPosition","newStart","max","newEnd","_handleWheelAnimation","zoom","delta","_getWheelSign","se","_fixWheel","preventDefault","_handleSetWheel","_wheelDp","abs","sign","diff","button","local","pointerId","_downPoints","length","getIndex","_downStartX","_downEndX","_downStartY","_downEndY","_downPoint","clientX","clientY","_panStart","_panEnd","eventType","isEnabled","dispatch","type","target","animation","_dispatchWheelAnimation","downPoint","_isPanning","_movePoints","_handlePinch","documentPointToRoot","scrollbarX","disableType","panStart","panEnd","enableType","scrollbarY","i","downPoints","movePoints","k","movePoint","downPoint0","downPoint1","movePoint0","movePoint1","downStartX","downEndX","downPos0","downPos1","movePos0","movePos1","d","s","e","sa","ea","downStartY","downEndY","_handleCursorPosition","cursorPoint","dataItems","isHidden","isHiding","startIndex","endIndex","tooltipDataItem","closestItem","minDistance","distance","hypot","tooltip","_setDataItem","showDataItemTooltip","setRaw","handleMove","toGlobal","_updateCursor","updateCursor","_addCursor","_prepareChildren","_colorize","previous","_prevSettings","_disposeProperty","_setChart","_pushPropertyDisposer","_handleCursorSelectEnd","topAxesContainer","_handleScrollbar","grip","_handleAxisSelection","getTooltipText","rightAxesContainer","_handleZoomOut","_processSeries","addDisposer","_fixPosition","isType","_markDirtyKey","_markDirtyAxes","_seriesAdded","colorSet","color","next","_setSoft","patternSet","pattern","downPositionX","downPositionY","positionX","positionY","position0","toAxisPosition","position1","axes","priority","axisStart","axisEnd","zoomAnimation","updateScrollbar","setPrivateRaw","container","onAll","change","oldValues","_removeAxis","newValue","processChart","setIndex","insertIndex","oldValue","Error","moveValue","newIndex","isDisposed","axisParent","removeValue","gridParent","topGridParent","_updateChartLayout","left","right","processAxis","force","indexOf","updateGrips","show","inPlot","otherCharts","_otherCharts","global","chart","chartPlotContainer","documentPoint","rootPointToDocument","chartRoot","hh","bounds","tooltipContainer","bottom","plotT","plotB","tooltips","closest","closestPoint","sum","_movePoint","maxTooltipDistance","maxTooltipDistanceBy","tooltipSeries","hidden","_tooltipToLocal","totalTooltipH","tooltipCount","sort","a","b","$order","prevY","Percent","top","_fy","reverse","prevBottom","once","_dispose","classNames","concat","className","Array","prototype","slice","from","Linear","context","_context","areaStart","_line","areaEnd","NaN","lineStart","_point","lineEnd","closePath","p","defined","constant","curve","curveLinear","output","path","withPath","line","data","buffer","n","array","defined0","pointX","pointY","_","arguments","x0","y0","y1","x1","area","j","x0z","y0z","arealine","lineX0","lineY0","lineY1","lineX1","LineSeries","XYSeries","ListTemplate","Template","_new","strokes","template","fills","_fillGenerator","makeStroke","stroke","mainContainer","make","makeFill","_updateChildren","_strokeTemplate","_fillTemplate","legendStroke","_legendStroke","legendFill","_legendFill","fillPattern","curveFactory","_strokeGenerator","inited","_axesDirty","_valuesDirty","_stackDirty","_sizeDirty","axisRanges","axisRange","strokeTemplateField","fillTemplateField","strokeTemplateFound","fillTemplateFound","hasValues","dataContext","_valueFields","field","len","_endIndex","_clearGraphics","_sindex","_dindex","_startSegment","_skipped","clear","dataItemIndex","currentEndIndex","fillTemplate","originalTemplate","strokeTemplate","baseAxis","vcx","vcy","xField","_xField","yField","_yField","xOpenField","_xOpenField","yOpenField","_yOpenField","xOpenFieldValue","yOpenFieldValue","stacked","basePosX","basePosition","basePosY","baseField","segments","points","openLocationX","openLocationY","fillVisible","getOpen","o","rangeStrokeTemplate","rangeFillTemplate","_dataItems","valueX","valueY","_getPoints","nextItem","shouldGap","_endLine","_drawStroke","_drawFill","itemLocationX","itemLocationY","exactLocationX","exactLocationY","xPos","getDataItemPositionX","yPos","getDataItemPositionY","_shouldInclude","iPoint","getPoint","_x","_y","xPos0","yPos0","stackToItemX","stackToItemY","closeIPoint","p0","p1","p2","p3","prev","_previousPoint","pp0","pp1","pp2","pp3","_points","_firstPoint","graphics","segment","_processAxisRange","createLegendMarker","_dataItem","legendDataItem","marker","markerRectangle","disabledColor","bullets","bulletFunction","bullet","DataItem","legend","tooltipText","tooltipHTML","focusableGroup","AxisRendererY","AxisRenderer","_settings","gridTemplate","grid","renderer","_getPan","point1","point2","_changed","ghostLabel","thumb","axisChildren","addTag","removeTag","_a","_applyThemes","labels","label","_markDirtyRedraw","markDirtySize","labelsContainer","axisHeader","_updatePositions","axisLength","innerHeight","positionToPoint","positionToCoordinate","updateLabel","endPosition","toggleVisibility","updateGrid","updateTick","tick","updateBullet","bulletPosition","roundAxisPosition","previousBullet","_bullets","previousSprite","updateFill","fillDrawMethod","_inversed","_start","_axisLength","_end","positionTooltip","_positionTooltip","updateTooltipBounds","num","pointerOrientation","oldBounds","_updateLC","_lc","_ls","toGlobalPosition","Series","List","fields","valueFields","_setRawDefault","_removeAxisRange","onPrivate","updateLegendValue","_makeFieldNames","axisDataItem","_seriesAxisRanges","_onDataClear","_dataSets","_key","_updateFields","_valueXFields","_valueYFields","_valueXShowFields","_valueYShowFields","__valueXShowFields","__valueYShowFields","valueXFields","key","split","valueYFields","_min","_max","_shouldMakeBullet","minBulletDistance","xName","xCapName","yName","yCapName","xLetter","yLetter","open","low","high","_xLowField","_xHighField","_yLowField","_yHighField","_fixVC","hiddenState","sequencedInterpolation","_handleMaskBullets","tooltipFieldX","_tooltipFieldX","tooltipFieldY","_tooltipFieldY","_dataProcessed","_stack","getStackedXValue","getStackedYValue","processSeriesDataItem","_seriesValuesDirty","isPrivateDirty","_markStakedDirtyStack","_dataGrouped","_groupSeriesData","_showBullets","_psi","_pei","_selectionProcessed","outOfSelection","_calculateTotals","markDirtySelectionExtremes","processYSelectionDataItem","processXSelectionDataItem","selectionMinY","selectionMaxY","selectionMinX","selectionMaxX","_makeRangeMask","mainContainerMask","_mainContainerMask","mask","markDirty","seriesIndex","_couldStackTo","_stackDataItems","_reallyStackedTo","_stackedSeries","uid","_handleRemoved","_handleSeriesRemoved","stackToItemKey","stackToSeries","stackToItem","stackValue","getStackedXValueWorking","getStackedYValueWorking","stackedToSeries","updateLegendMarker","_markDataSetDirty","_afterDataChange","_aggregatesCalculated","_clearDirty","_positionBullet","_shouldShowBullet","realField","previousBounds","localBounds","yo","xo","_positionX","_positionY","setDataSet","id","_handleDataSetChange","_dataSetId","resetGrouping","dataSet","_mainDataItems","mainDataItems","duration","promises","_super","call","then","_isShowing","_sequencedShowHide","Promise","all","_isHiding","showDataItem","easing","animate","to","waitForStop","hideDataItem","_markDirtyStack","stackedSeries","_afterChanged","_aLocationX0","_aLocationX1","_aLocationY0","_aLocationY1","markDirtyText","_getTooltipTarget","hideTooltip","txt","_emptyDataItem","valueLabel","_getItemReaderLabel","_position","handleCursorHide","resetExtremes","createAxisRange","_adjustStartIndex","baseDuration","minSelection","dl","XYCursor","Grid","_drawLines","setTimeout","lineX","_handleXLine","lineY","_handleYLine","_handleLineFocus","_handleLineBlur","document","ev","_handleLineMove","ctrlKey","dir","focused","m","nextPosition","_alwaysShow","alwaysShow","isFocus","_tooltipX","_updateXLine","_tooltipY","_updateYLine","_handleSyncWith","syncWith","_getPoint","_toX","_toY","_handleMove","_handleCursorDown","_handleCursorUp","native","_lastPoint2","selection","_inPlot","rootPoint","_getPosition","charAt","lastPoint","_lastPoint","skipEvent","xyPos","userPositionX","userPositionY","xy","handleCursorShow","_updateLines","_updateSelection","_onHide","_onShow","Axis","Component","background","disposeDataItem","_createGhostLabel","makeLabel","adapters","disable","_updateFinals","sAnimation","_sAnimation","eAnimation","_eAnimation","maxZoomFactorReal","minZoomFactor","playing","markDirtyKey","stop","_series","_createAssets","_rangesDirty","_prepareDataItem","above","_index","_updateAxisRanges","rendererTags","toLowerCase","_updateTooltipBounds","_updateBounds","axisHeadersContainer","_toggleFHDataItem","forceHidden","fh","_toggleDataItem","v","tags","minor","remove","_b","makeGrid","_c","makeTick","ticks","makeAxisFill","_processBullet","axisBullet","axisFills","_updateGhost","getCellWidthPosition","gWidth","ceil","_getText","_cursorPosition","_snapToSeries","updateTooltip","getSeriesItem","_updateTooltipText","_location","_fields","coordinateToPosition","coordinate","_nextItem","_autoGapCount","_fieldName","AxisTick","Tick","AxisLabel","Label","gridCount","_handleThumbDown","_handleThumbUp","_handleThumbMove","pan","_thumbDownPoint","_downStart","_downEnd","_event","downStart","downEnd","extra","_point1","_point2","_tooltip","_updateSize","_clear","ValueAxis","_dirtyExtremes","_dirtySelectionExtremes","syncWithAxis","_syncDp","MultiDisposer","someDirty","_getMinMax","_handleSizeDirty","getMM","letter","_getSelectionMinMax","_groupData","_handleRangeChange","_prepareAxisItems","_baseValue","_dseHandled","_formatText","numberFormat","formatter","getNumberFormatter","format","selectionMin","selectionMax","differencePower","minLog","_minLogAdjusted","minRealLog","_minRealLog","pow","log","LOG10E","minorLabelsEnabled","minorGridEnabled","stepPower","floor","stepAdjusted","minorGridCount","minorStep","processDataItem","nextValue","minorValue","_adjustMinMax","minorDataItem","minorDataItems","minorLabel","decCount","valueToPosition","fillEndPosition","labelEndPosition","labelEndValue","hasTag","positionToValue","minMaxStep","stepDecimalPlaces","E","treatZeroAs","valueToFinalPosition","getX","getY","getDataItemCoordinateX","_cellLocation","axisLocation","getDataItemCoordinateY","cellEndValue","fixSmallStep","_fixMin","_fixMax","vc","fieldWorking","total","totalPercent","minDefined","maxDefined","extraMin","extraMax","selectionStrictMinMax","seriesMin","seriesMax","minX","maxX","minY","maxY","isShowing","range","_minReal","_maxReal","smin","_deltaMinMax","minMaxStep2","selectionMinReal","selectionMaxReal","_syncAxes","LN10","minDiff","initialMin","initialMax","minAdapted","fold","maxAdapted","_getDelta","strictMinMaxSelection","strict","_fixZoomFactor","_saveMinMax","animatePrivate","exponent","power","strictMode","difference","stepDivisor","maxPrecision","ceiledStep","Number","MAX_VALUE","maxCount","minCount","_adjustPosition","extraDecimals","decimals","oldDiff","fieldName","zoomToValues","syncMin","syncMax","syncStep","currentCount","synced","c","omin","omax","ostep","_checkSync","AxisRendererX","innerWidth","RoundedRectangle"],"sourceRoot":""}