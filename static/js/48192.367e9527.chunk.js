"use strict";(self.webpackChunkmmsp_trees=self.webpackChunkmmsp_trees||[]).push([[48192,58867],{27040:(e,t,n)=>{n.r(t),n.d(t,{createMesh:()=>p});var o=n(50076),r=n(47594),a=n(45308),s=n(42294),i=n(14894),l=n(56623),c=n(45136),u=n(95799);function p(e){const t=new u.O,n=e.spatialReference??e.layerView.view.spatialReference;return t.externalSources.add({extent:e.extent??d(e,n),source:{type:"loadable",load:t=>async function(e,t){let{layerView:n,nodeIndex:r,featureIndex:s}=t;const i=n.getNodeComponentHandle(r);if(!i?.intersectionGeometry)throw new o.A("i3s-layer-view-geometry-missing","Cannot load mesh because scene layer view data is no longer available.");const u={indices:null,data:null,stride:0,startIndex:0,endIndex:0};i.intersectionGeometry.getComponentPositions(s,u);const{indices:p,data:d,stride:f,startIndex:x,endIndex:h}=u,y=new Float64Array(3*(h-x));let m=0;for(let o=x;o<h;o+=3){const e=f*p[o],t=f*p[o+1],n=f*p[o+2];y[m++]=d[e],y[m++]=d[e+1],y[m++]=d[e+2],y[m++]=d[t],y[m++]=d[t+1],y[m++]=d[t+2],y[m++]=d[n],y[m++]=d[n+1],y[m++]=d[n+2]}const w=i.transform;(0,c.b)(y,y,w.rotationScale),(0,c.a)(y,y,w.position),(0,a.projectBuffer)(y,n.view.renderSpatialReference,0,y,e.spatialReference,0),e.vertexAttributes=new l.H({position:y})}(t,e)}}),new r.default({metadata:t,vertexSpace:new i.A,spatialReference:n})}function d(e,t){let{layerView:n,nodeIndex:o,featureIndex:r}=e;const i=n.getAABB(o,r);if(!i)return null;const l=n.view.spatialReference;return l.equals(t)||(0,a.projectBuffer)(i,l,0,i,t,0),(0,s.w1)(i,t)}},32186:(e,t,n)=>{n.d(t,{A:()=>x});var o,r=n(35143),a=n(42553),s=n(46053),i=(n(81806),n(76460),n(47249),n(85842)),l=n(34761),c=n(13191),u=n(60008),p=n(4336),d=n(9392),f=n(52896);let x=class extends a.A{static#e=(()=>o=this)();constructor(e){super(e),this.translation=(0,d.vt)(),this.rotationAxis=(0,d.ci)(f.up),this.rotationAngle=0,this.scale=(0,d.fA)(1,1,1)}get rotation(){return(0,f.i4)(this.rotationAxis,this.rotationAngle)}set rotation(e){this.rotationAxis=(0,d.o8)((0,f.yo)(e)),this.rotationAngle=(0,f.g7)(e)}get localMatrix(){const e=(0,c.vt)();return(0,u.x8)(h,(0,f.yo)(this.rotation),(0,f.$I)(this.rotation)),(0,l.o1)(e,h,this.translation,this.scale),e}get localMatrixInverse(){return(0,l.B8)((0,c.vt)(),this.localMatrix)}equals(e){return this===e||null!=e&&(0,l.t2)(this.localMatrix,e.localMatrix)}clone(){const e={translation:(0,d.o8)(this.translation),rotationAxis:(0,d.o8)(this.rotationAxis),rotationAngle:this.rotationAngle,scale:(0,d.o8)(this.scale)};return new o(e)}};(0,r._)([(0,s.MZ)({type:[Number],nonNullable:!0,json:{write:!0}})],x.prototype,"translation",void 0),(0,r._)([(0,s.MZ)({type:[Number],nonNullable:!0,json:{write:!0}})],x.prototype,"rotationAxis",void 0),(0,r._)([(0,s.MZ)({type:Number,nonNullable:!0,json:{write:!0}})],x.prototype,"rotationAngle",void 0),(0,r._)([(0,s.MZ)({type:[Number],nonNullable:!0,json:{write:!0}})],x.prototype,"scale",void 0),(0,r._)([(0,s.MZ)()],x.prototype,"rotation",null),(0,r._)([(0,s.MZ)()],x.prototype,"localMatrix",null),(0,r._)([(0,s.MZ)()],x.prototype,"localMatrixInverse",null),x=o=(0,r._)([(0,i.$)("esri.geometry.support.MeshTransform")],x);const h=(0,p.vt)()},92278:(e,t,n)=>{n.d(t,{processQueryGeometries:()=>i});var o=n(13312),r=n(19902),a=n(77725),s=n(27040);function i(e,t){const n=new Array,i=o.A.fromJSON(t.spatialReference);for(const o of t.features){const t=o.metadata,a=(0,r.rS)(o.geometry);if(!t||!a){n.push(null);continue}a.spatialReference=i;const l=a.extent,c=(0,s.createMesh)({layerView:e,nodeIndex:t.meta.node.index,featureIndex:t.index,extent:l,spatialReference:i});n.push(c),o.geometry=null}const l=a.A.fromJSON(t);for(let o=0;o<l.features.length;o++){const e=l.features[o],t=n[o];e.geometry=t}return l}}}]);
//# sourceMappingURL=48192.367e9527.chunk.js.map