"use strict";(self.webpackChunkmmsp_trees=self.webpackChunkmmsp_trees||[]).push([[99985],{23478:(t,e,n)=>{n.d(e,{I:()=>s,W:()=>r});var i=n(4212);async function r(t,e){if(!t)return null;const n=e.featureAdapter,{startTimeField:r,endTimeField:s}=t;let a=Number.POSITIVE_INFINITY,o=Number.NEGATIVE_INFINITY;if(r&&s)await e.forEach(t=>{const e=n.getAttribute((0,i.zI)(t),r),l=n.getAttribute((0,i.zI)(t),s);null==e||isNaN(e)||(a=Math.min(a,e)),null==l||isNaN(l)||(o=Math.max(o,l))});else{const t=r||s;await e.forEach(e=>{const r=n.getAttribute((0,i.zI)(e),t);null==r||isNaN(r)||(a=Math.min(a,r),o=Math.max(o,r))})}return{start:a,end:o}}function s(t,e,n){if(!e||!t)return null;const{startTimeField:i,endTimeField:r}=t;if(!i&&!r)return null;const{start:s,end:a}=e;if(null===s&&null===a)return null;if(void 0===s&&void 0===a)return()=>!1;const o=n.getAttributeAsTimestamp?.bind(n)??n.getAttribute.bind(n);return i&&r?function(t,e,n,i,r){return null!=i&&null!=r?s=>{const a=t(s,e),o=t(s,n);return(null==a||a<=r)&&(null==o||o>=i)}:null!=i?e=>{const r=t(e,n);return null==r||r>=i}:null!=r?n=>{const i=t(n,e);return null==i||i<=r}:void 0}(o,i,r,s,a):function(t,e,n,i){return null!=n&&null!=i&&n===i?i=>t(i,e)===n:null!=n&&null!=i?r=>{const s=t(r,e);return null!=s&&s>=n&&s<=i}:null!=n?i=>{const r=t(i,e);return null!=r&&r>=n}:null!=i?n=>{const r=t(n,e);return null!=r&&r<=i}:void 0}(o,i||r,s,a)}},24586:(t,e,n)=>{n.d(e,{Cv:()=>d,Nk:()=>p,lK:()=>R});var i=n(18690),r=n(50346),s=n(9956),a=n(28778),o=n(80963),l=n(45417);const u=[0,0];function c(t,e){if(!e)return null;if("x"in e){const n={x:0,y:0};return[n.x,n.y]=t(e.x,e.y,u),null!=e.z&&(n.z=e.z),null!=e.m&&(n.m=e.m),n}if("xmin"in e){const n={xmin:0,ymin:0,xmax:0,ymax:0};return[n.xmin,n.ymin]=t(e.xmin,e.ymin,u),[n.xmax,n.ymax]=t(e.xmax,e.ymax,u),e.hasZ&&(n.zmin=e.zmin,n.zmax=e.zmax,n.hasZ=!0),e.hasM&&(n.mmin=e.mmin,n.mmax=e.mmax,n.hasM=!0),n}return"rings"in e?{rings:m(e.rings,t),hasM:e.hasM,hasZ:e.hasZ}:"paths"in e?{paths:m(e.paths,t),hasM:e.hasM,hasZ:e.hasZ}:"points"in e?{points:h(e.points,t),hasM:e.hasM,hasZ:e.hasZ}:null}function m(t,e){const n=[];for(const i of t)n.push(h(i,e));return n}function h(t,e){const n=[];for(const i of t){const t=e(i[0],i[1],[0,0]);n.push(t),i.length>2&&t.push(i[2]),i.length>3&&t.push(i[3])}return n}async function p(t,e){if(!t||!e)return;const n=Array.isArray(t)?t.map(t=>null!=t.geometry?t.geometry.spatialReference:null).filter(i.Ru):[t];await(0,s.initializeProjection)(n.map(t=>({source:t,dest:e})))}const f=c.bind(null,l.je),y=c.bind(null,l.tD);function d(t,e,n,i){if(!t)return null;if(n||(n=e,e=t.spatialReference),!(0,o.fn)(e)||!(0,o.fn)(n)||(0,o.aI)(e,n))return t;if((0,l.y7)(e,n)){const e=(0,o.K8)(n)?f(t):y(t);return e.spatialReference=n,e}return(0,s.projectMany)(a.g,[t],e,n,null,i)[0]}const g=new class{constructor(){this._jobs=[],this._timer=null,this._process=this._process.bind(this)}async push(t,e,n,i){if(!t?.length||!e||!n||(0,o.aI)(e,n))return t;const s={geometries:t,inSpatialReference:e,outSpatialReference:n,geographicTransformation:i,resolve:(0,r.Tw)()};return this._jobs.push(s),this._timer??=setTimeout(this._process,10),s.resolve.promise}_process(){this._timer=null;const t=this._jobs.shift();if(!t)return;const{geometries:e,inSpatialReference:n,outSpatialReference:i,resolve:r,geographicTransformation:u}=t;(0,l.y7)(n,i)?(0,o.K8)(i)?r(e.map(f)):r(e.map(y)):r((0,s.projectMany)(a.g,e,n,i,u,null)),this._jobs.length>0&&(this._timer=setTimeout(this._process,10))}};function R(t,e,n,i){return g.push(t,e,n,i)}},28778:(t,e,n)=>{n.d(e,{g:()=>i});const i={convertToGEGeometry:function(t,e){return null==e?null:t.convertJSONToGeometry(e)},exportPoint:function(t,e,n){const i=new r(t.getPointX(e),t.getPointY(e),n),s=t.hasZ(e),a=t.hasM(e);return s&&(i.z=t.getPointZ(e)),a&&(i.m=t.getPointM(e)),i},exportPolygon:function(t,e,n){return new s(t.exportPaths(e),n,t.hasZ(e),t.hasM(e))},exportPolyline:function(t,e,n){return new a(t.exportPaths(e),n,t.hasZ(e),t.hasM(e))},exportMultipoint:function(t,e,n){return new o(t.exportPoints(e),n,t.hasZ(e),t.hasM(e))},exportExtent:function(t,e,n){const i=t.hasZ(e),r=t.hasM(e),s=new l(t.getXMin(e),t.getYMin(e),t.getXMax(e),t.getYMax(e),n);if(i){const n=t.getZExtent(e);s.zmin=n.vmin,s.zmax=n.vmax}if(r){const n=t.getMExtent(e);s.mmin=n.vmin,s.mmax=n.vmax}return s}};class r{constructor(t,e,n){this.x=t,this.y=e,this.spatialReference=n,this.z=void 0,this.m=void 0}}class s{constructor(t,e,n,i){this.rings=t,this.spatialReference=e,this.hasZ=void 0,this.hasM=void 0,n&&(this.hasZ=n),i&&(this.hasM=i)}}class a{constructor(t,e,n,i){this.paths=t,this.spatialReference=e,this.hasZ=void 0,this.hasM=void 0,n&&(this.hasZ=n),i&&(this.hasM=i)}}class o{constructor(t,e,n,i){this.points=t,this.spatialReference=e,this.hasZ=void 0,this.hasM=void 0,n&&(this.hasZ=n),i&&(this.hasM=i)}}class l{constructor(t,e,n,i,r){this.xmin=t,this.ymin=e,this.xmax=n,this.ymax=i,this.spatialReference=r,this.zmin=void 0,this.zmax=void 0,this.mmin=void 0,this.mmax=void 0}}},55167:(t,e,n)=>{n.d(e,{LQ:()=>u,ag:()=>m,pL:()=>c});var i=n(98618),r=n(1484);const s=new r.A,a=new r.A,o=new r.A,l={esriGeometryPoint:i.DF,esriGeometryPolyline:i.BW,esriGeometryPolygon:i.z5,esriGeometryMultipoint:i.qK};function u(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.hasZ,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:t.hasM;if(null==e)return null;const a=t.hasZ&&r,l=t.hasM&&s;if(n){const u=(0,i.Nl)(o,e,t.hasZ,t.hasM,"esriGeometryPoint",n,r,s);return(0,i.DF)(u,a,l)}return(0,i.DF)(e,a,l)}function c(t,e,n,r,u,c){let m=arguments.length>6&&void 0!==arguments[6]?arguments[6]:e,h=arguments.length>7&&void 0!==arguments[7]?arguments[7]:n;const p=e&&m,f=n&&h,y=null!=r?"coords"in r?r:r.geometry:null;if(null==y)return null;if(u){let r=(0,i.kz)(a,y,e,n,t,u,m,h);return c&&(r=(0,i.Nl)(o,r,p,f,t,c)),l[t]?.(r,p,f)??null}if(c){const r=(0,i.Nl)(o,y,e,n,t,c,m,h);return l[t]?.(r,p,f)??null}return(0,i.Q4)(s,y,e,n,m,h),l[t]?.(s,p,f)??null}function m(t){return t&&h in t?JSON.parse(JSON.stringify(t,p)):t}const h="_geVersion",p=(t,e)=>t===h?void 0:e},71857:(t,e,n)=>{n.d(e,{GC:()=>d,T2:()=>g,VY:()=>h,dO:()=>x,iJ:()=>y,v8:()=>p});var i=n(50076),r=n(45802),s=n(31633),a=n(9956),o=n(27084),l=n(19902),u=n(1438),c=n(80963),m=n(24586);const h=new r.J({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"}),p=Object.freeze({}),f="frequency";async function y(t,e,n){const i=t.bin;return i.onField&&(i.onField=i.onField.trim()),i.onExpression?.value&&(i.onExpression.value=i.onExpression.value.trim()),i.splitBy&&(i.splitBy.value&&(i.splitBy.value=i.splitBy.value.trim()),i.splitBy.outAlias&&(i.splitBy.outAlias=i.splitBy.outAlias.trim())),i.stackBy&&(i.stackBy.value&&(i.stackBy.value=i.stackBy.value.trim()),i.stackBy.outAlias&&(i.stackBy.outAlias=i.stackBy.outAlias.trim())),"normalizationField"in i.parameters&&i.parameters.normalizationField&&(i.parameters.normalizationField=i.parameters.normalizationField.trim()),t.outStatistics?.length||(t.outStatistics=[{statisticType:"count",onStatisticField:"1",outStatisticFieldName:f}]),d(t,e,n)}async function d(t,e,n){const{outFields:i,orderByFields:r,groupByFieldsForStatistics:s,outStatistics:a}=t;if(i)for(let o=0;o<i.length;o++)i[o]=i[o].trim();if(r)for(let o=0;o<r.length;o++)r[o]=r[o].trim();if(s)for(let o=0;o<s.length;o++)s[o]=s[o].trim();if(a)for(let o=0;o<a.length;o++)a[o].onStatisticField&&(a[o].onStatisticField=a[o].onStatisticField.trim());return t.geometry&&!t.outSR&&(t.outSR=t.geometry.spatialReference),g(t,e,n)}async function g(t,e,r){if(!t)return null;let{where:a}=t;if(t.where=a=a?.trim(),(!a||/^1 *= *1$/.test(a)||e&&e===a)&&(t.where=null),!t.geometry)return t;let f=await async function(t){const{distance:e,units:r}=t,a=t.geometry;if(null==e||"vertexAttributes"in a)return a;const o=a.spatialReference,u=r?h.fromJSON(r):(0,s.Ij)(o),p=o&&((0,c.EA)(o)||(0,c.K8)(o))?a:await(0,m.Nk)(o,c.KK).then(()=>(0,m.Cv)(a,c.KK)),f=await n.e(33749).then(n.bind(n,33749));await f.load();const y=f.execute(p,e||1,{unit:u})??void 0;if(!y||!(0,l.Bi)(y)||0===y.rings.length)throw new i.A("unsupported-query:invalid-parameters","Invalid parameters for query by distance");return y}(t);if(t.distance=0,t.units=null,"esriSpatialRelEnvelopeIntersects"===t.spatialRel){const{spatialReference:e}=t.geometry;f=(0,o.HA)(f),f.spatialReference=e}if(f){await(0,m.Nk)(f.spatialReference,r),f=function(t,e){const n=t.spatialReference;return R(t,e)&&(0,l.ZC)(t)?{spatialReference:n,rings:[[[t.xmin,t.ymin],[t.xmin,t.ymax],[t.xmax,t.ymax],[t.xmax,t.ymin],[t.xmin,t.ymin]]]}:t}(f,r);const e=(await(0,u.el)((0,l.rS)(f)))[0];if(null==e)throw p;const n="quantizationParameters"in t&&t.quantizationParameters?.tolerance||"maxAllowableOffset"in t&&t.maxAllowableOffset||0,i=n&&R(f,r)?{densificationStep:8*n}:void 0,s=e.toJSON(),a=(0,m.Cv)(s,s.spatialReference,r,i);if(!a)throw p;a.spatialReference=r,t.geometry=a}return t}function R(t,e){if(!t)return!1;const n=t.spatialReference;return((0,l.ZC)(t)||(0,l.Bi)(t)||(0,l.Rg)(t))&&!(0,c.aI)(n,e)&&!(0,a.canProjectWithoutEngine)(n,e)}function x(t,e){return null==t?null:"string"==typeof t?e?new Date(`1970-01-01T${t}Z`).getTime():new Date(t).getTime():t instanceof Date?t.getTime():t}},81376:(t,e,n)=>{n.d(e,{tC:()=>S,c0:()=>v,xt:()=>x});var i=n(50076),r=n(11352),s=n(65658);var a=n(19902),o=n(80963);function l(t,e){return t?e?4:3:e?3:2}function u(t,e,n,i,r,s){const a=l(r,s),{coords:o,lengths:u}=i;if(!u)return!1;for(let l=0,m=0;l<u.length;l++,m+=a)if(!c(t,e,n,o[m],o[m+1]))return!1;return!0}function c(t,e,n,i,r){if(!t)return!1;const s=l(e,n),{coords:a,lengths:o}=t;let u=!1,c=0;for(const l of o)u=m(u,a,s,c,l,i,r),c+=l*s;return u}function m(t,e,n,i,r,s,a){let o=t,l=i;for(let u=i,c=i+r*n;u<c;u+=n){l=u+n,l===c&&(l=i);const t=e[u],r=e[u+1],m=e[l],h=e[l+1];(r<a&&h>=a||h<a&&r>=a)&&t+(a-r)/(h-r)*(m-t)<s&&(o=!o)}return o}var h=n(98618),p=n(1484),f=n(55167),y=n(24586);const d="unsupported-query",g={spatialRelationship:{esriSpatialRelIntersects:!0,esriSpatialRelContains:!0,esriSpatialRelWithin:!0,esriSpatialRelCrosses:!0,esriSpatialRelDisjoint:!0,esriSpatialRelTouches:!0,esriSpatialRelOverlaps:!0,esriSpatialRelEnvelopeIntersects:!0,esriSpatialRelIndexIntersects:!1,esriSpatialRelRelation:!1},queryGeometry:{esriGeometryPoint:!0,esriGeometryMultiPatch:!1,esriGeometryMultipoint:!0,esriGeometryPolyline:!0,esriGeometryPolygon:!0,esriGeometryEnvelope:!0},layerGeometry:{esriGeometryPoint:!0,esriGeometryMultiPatch:!0,esriGeometryMultipoint:!0,esriGeometryPolyline:!0,esriGeometryPolygon:!0,esriGeometryEnvelope:!1}};const R={esriSpatialRelIntersects:()=>n.e(95838).then(n.bind(n,95838)),esriSpatialRelContains:()=>n.e(27353).then(n.bind(n,27353)),esriSpatialRelCrosses:()=>n.e(56050).then(n.bind(n,56050)),esriSpatialRelDisjoint:()=>n.e(80352).then(n.bind(n,80352)),esriSpatialRelEnvelopeIntersects:null,esriSpatialRelIndexIntersects:null,esriSpatialRelOverlaps:()=>n.e(34744).then(n.bind(n,34744)),esriSpatialRelTouches:()=>n.e(66521).then(n.bind(n,66521)),esriSpatialRelWithin:()=>n.e(51475).then(n.bind(n,51475)),esriSpatialRelRelation:null};async function x(t,e,n,i,o){if((0,a.Bi)(e)){if("esriGeometryPoint"===n&&("esriSpatialRelIntersects"===t||"esriSpatialRelContains"===t)){const t=(0,h.Ye)(new p.A,e,!1,!1);return e=>function(t,e,n,i){return c(t,e,n,i.coords[0],i.coords[1])}(t,!1,!1,e)}if("esriGeometryMultipoint"===n){const n=(0,h.Ye)(new p.A,e,!1,!1);if("esriSpatialRelContains"===t)return t=>u(n,!1,!1,t,i,o)}}if((0,a.ZC)(e)){if("esriGeometryPoint"===n&&("esriSpatialRelIntersects"===t||"esriSpatialRelContains"===t))return t=>(0,r.qz)(e,(0,f.pL)(n,i,o,t));if("esriGeometryMultipoint"===n&&"esriSpatialRelContains"===t)return t=>(0,r.rL)(e,(0,f.pL)(n,i,o,t));if("esriSpatialRelIntersects"===t){const t=function(t){return"mesh"===t?s.xB:(0,s.xK)(t)}(n);return r=>t(e,(0,f.pL)(n,i,o,r))}}"esriSpatialRelEnvelopeIntersects"===t&&(t="esriSpatialRelIntersects");const l=await function(t){const e=R[t];if(null==e)throw new Error(`Cannot load unsupported spatial operator: ${t}`);return e()}(t);return t=>l.execute(e,(0,f.pL)(n,i,o,t))}async function v(t,e,n){const{spatialRel:r,geometry:s}=t;if(s){if(!function(t){return null!=t&&!0===g.spatialRelationship[t]}(r))throw new i.A(d,"Unsupported query spatial relationship",{query:t});if((0,o.fn)(s.spatialReference)&&(0,o.fn)(n)){if(!function(t){return null!=t&&!0===g.queryGeometry[(0,a.$B)(t)]}(s))throw new i.A(d,"Unsupported query geometry type",{query:t});if(!function(t){return null!=t&&!0===g.layerGeometry[t]}(e))throw new i.A(d,"Unsupported layer geometry type",{query:t});if(t.outSR)return(0,y.Nk)(t.geometry?.spatialReference,t.outSR)}}}function S(t){if((0,a.ZC)(t))return!0;if((0,a.Bi)(t)){for(const e of t.rings){if(5!==e.length)return!1;if(e[0][0]!==e[1][0]||e[0][0]!==e[4][0]||e[2][0]!==e[3][0]||e[0][1]!==e[3][1]||e[0][1]!==e[4][1]||e[1][1]!==e[2][1])return!1}return!0}return!1}}}]);
//# sourceMappingURL=99985.219ed513.chunk.js.map